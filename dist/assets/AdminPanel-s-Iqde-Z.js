import{f as D,g as O,h as H,i as q,j as Q,k as Y,r as i,d as B,l as J,m as Z,n as X,p as x,_ as j,o as v,c as p,e as E,q as F,b as n,v as ee,t as f,F as L,x as G,y as k,z as R,A as T,B as ae,N as ne,C as oe,u as se,D as te,E as $,G as A,H as ie,I as le,J as U,K as de,L as ce}from"./index-BAymaUdh.js";const re=(e,a)=>JSON.stringify(e)===JSON.stringify(a),ue=async()=>{var t;const e=D(O,"languages","selectedLanguages"),a=await H(e);return a.exists()?((t=a.data())==null?void 0:t.selectedLanguages)||[]:(console.log("No selected languages found!"),[])},me=async()=>{const e=D(O,"settings","defaultLanguage"),a=await H(e);return a.exists()?a.data():(console.log("No default language found!"),null)},ge=async e=>{const a=D(O,"languages","selectedLanguages");await Q(a,{selectedLanguages:e})},ve=async e=>{const a=D(O,"languages","selectedLanguages"),t=await H(a);if(t.exists()){const l=t.data(),r=((l==null?void 0:l.selectedLanguages)||[]).filter(u=>u.code!==e.code);await q(a,{selectedLanguages:r})}else throw new Error("Languages document does not exist!")},W=Y("modal",()=>{const e=i(!1),a=i(""),t=i(null);return{isModalActive:e,modalMessage:a,setIsModalActive:o=>{e.value=o},setModalMessage:o=>{a.value=o},setConfirmation:o=>{t.value&&(t.value(o),t.value=null),e.value=!1},showConfirmationModal:o=>(a.value=o,e.value=!0,new Promise(d=>{t.value=d}))}}),V=[{code:"aa",name:"Afar"},{code:"ab",name:"Abkhazian"},{code:"ae",name:"Avestan"},{code:"af",name:"Afrikaans"},{code:"ak",name:"Akan"},{code:"am",name:"Amharic"},{code:"an",name:"Aragonese"},{code:"ar",name:"Arabic"},{code:"as",name:"Assamese"},{code:"av",name:"Avaric"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"ba",name:"Bashkir"},{code:"be",name:"Belarusian"},{code:"bg",name:"Bulgarian"},{code:"bh",name:"Bihari languages"},{code:"bi",name:"Bislama"},{code:"bm",name:"Bambara"},{code:"bn",name:"Bengali"},{code:"bo",name:"Tibetan"},{code:"br",name:"Breton"},{code:"bs",name:"Bosnian"},{code:"ca",name:"Catalan; Valencian"},{code:"ce",name:"Chechen"},{code:"ch",name:"Chamorro"},{code:"co",name:"Corsican"},{code:"cr",name:"Cree"},{code:"cs",name:"Czech"},{code:"cu",name:"Church Slavic; Old Slavonic; Church Slavonic; Old Bulgarian; Old Church Slavonic"},{code:"cv",name:"Chuvash"},{code:"cy",name:"Welsh"},{code:"da",name:"Danish"},{code:"de",name:"German"},{code:"dv",name:"Divehi; Dhivehi; Maldivian"},{code:"dz",name:"Dzongkha"},{code:"ee",name:"Ewe"},{code:"el",name:"Greek, Modern (1453-)"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"es",name:"Spanish; Castilian"},{code:"et",name:"Estonian"},{code:"eu",name:"Basque"},{code:"fa",name:"Persian"},{code:"ff",name:"Fulah"},{code:"fi",name:"Finnish"},{code:"fj",name:"Fijian"},{code:"fo",name:"Faroese"},{code:"fr",name:"French"},{code:"fy",name:"Western Frisian"},{code:"ga",name:"Irish"},{code:"gd",name:"Gaelic; Scomttish Gaelic"},{code:"gl",name:"Galician"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"gv",name:"Manx"},{code:"ha",name:"Hausa"},{code:"he",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"ho",name:"Hiri Motu"},{code:"hr",name:"Croatian"},{code:"ht",name:"Haitian; Haitian Creole"},{code:"hu",name:"Hungarian"},{code:"hy",name:"Armenian"},{code:"hz",name:"Herero"},{code:"ia",name:"Interlingua (International Auxiliary Language Association)"},{code:"id",name:"Indonesian"},{code:"ie",name:"Interlingue; Occidental"},{code:"ig",name:"Igbo"},{code:"ii",name:"Sichuan Yi; Nuosu"},{code:"ik",name:"Inupiaq"},{code:"io",name:"Ido"},{code:"is",name:"Icelandic"},{code:"it",name:"Italian"},{code:"iu",name:"Inuktitut"},{code:"ja",name:"Japanese"},{code:"jv",name:"Javanese"},{code:"ka",name:"Georgian"},{code:"kg",name:"Kongo"},{code:"ki",name:"Kikuyu; Gikuyu"},{code:"kj",name:"Kuanyama; Kwanyama"},{code:"kk",name:"Kazakh"},{code:"kl",name:"Kalaallisut; Greenlandic"},{code:"km",name:"Central Khmer"},{code:"kn",name:"Kannada"},{code:"ko",name:"Korean"},{code:"kr",name:"Kanuri"},{code:"ks",name:"Kashmiri"},{code:"ku",name:"Kurdish"},{code:"kv",name:"Komi"},{code:"kw",name:"Cornish"},{code:"ky",name:"Kirghiz; Kyrgyz"},{code:"la",name:"Latin"},{code:"lb",name:"Luxembourgish; Letzeburgesch"},{code:"lg",name:"Ganda"},{code:"li",name:"Limburgan; Limburger; Limburgish"},{code:"ln",name:"Lingala"},{code:"lo",name:"Lao"},{code:"lt",name:"Lithuanian"},{code:"lu",name:"Luba-Katanga"},{code:"lv",name:"Latvian"},{code:"mg",name:"Malagasy"},{code:"mh",name:"Marshallese"},{code:"mi",name:"Maori"},{code:"mk",name:"Macedonian"},{code:"ml",name:"Malayalam"},{code:"mn",name:"Mongolian"},{code:"mr",name:"Marathi"},{code:"ms",name:"Malay"},{code:"mt",name:"Maltese"},{code:"my",name:"Burmese"},{code:"na",name:"Nauru"},{code:"nb",name:"Bokmål, Norwegian; Norwegian Bokmål"},{code:"nd",name:"Ndebele, North; North Ndebele"},{code:"ne",name:"Nepali"},{code:"ng",name:"Ndonga"},{code:"nl",name:"Dutch; Flemish"},{code:"nn",name:"Norwegian Nynorsk; Nynorsk, Norwegian"},{code:"no",name:"Norwegian"},{code:"nr",name:"Ndebele, South; South Ndebele"},{code:"nv",name:"Navajo; Navaho"},{code:"ny",name:"Chichewa; Chewa; Nyanja"},{code:"oc",name:"Occitan (post 1500)"},{code:"oj",name:"Ojibwa"},{code:"om",name:"Oromo"},{code:"or",name:"Oriya"},{code:"os",name:"Ossetian; Ossetic"},{code:"pa",name:"Panjabi; Punjabi"},{code:"pi",name:"Pali"},{code:"pl",name:"Polish"},{code:"ps",name:"Pushto; Pashto"},{code:"pt",name:"Portuguese"},{code:"qu",name:"Quechua"},{code:"rm",name:"Romansh"},{code:"rn",name:"Rundi"},{code:"ro",name:"Romanian; Moldavian; Moldovan"},{code:"ru",name:"Russian"},{code:"rw",name:"Kinyarwanda"},{code:"sa",name:"Sanskrit"},{code:"sc",name:"Sardinian"},{code:"sd",name:"Sindhi"},{code:"se",name:"Northern Sami"},{code:"sg",name:"Sango"},{code:"si",name:"Sinhala; Sinhalese"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"sm",name:"Samoan"},{code:"sn",name:"Shona"},{code:"so",name:"Somali"},{code:"sq",name:"Albanian"},{code:"sr",name:"Serbian"},{code:"ss",name:"Swati"},{code:"st",name:"Sotho, Southern"},{code:"su",name:"Sundanese"},{code:"sv",name:"Swedish"},{code:"sw",name:"Swahili"},{code:"ta",name:"Tamil"},{code:"te",name:"Telugu"},{code:"tg",name:"Tajik"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"tk",name:"Turkmen"},{code:"tl",name:"Tagalog"},{code:"tn",name:"Tswana"},{code:"to",name:"Tonga (Tonga Islands)"},{code:"tr",name:"Turkish"},{code:"ts",name:"Tsonga"},{code:"tt",name:"Tatar"},{code:"tw",name:"Twi"},{code:"ty",name:"Tahitian"},{code:"ug",name:"Uighur; Uyghur"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"uz",name:"Uzbek"},{code:"ve",name:"Venda"},{code:"vi",name:"Vietnamese"},{code:"vo",name:"Volapük"},{code:"wa",name:"Walloon"},{code:"wo",name:"Wolof"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"za",name:"Zhuang; Chuang"},{code:"zh",name:"Chinese"},{code:"zu",name:"Zulu"}],pe=B({name:"CustomLanguageDropdown",props:{isSaveButtonDisabled:Boolean},emits:["disable-save"],setup(e,{emit:a}){const t=J(),l=W(),r=i(!1),u=i(""),m=i(null),o=i([...V]),d=i([]),h=i(null),b=i(null),c=i(!0),S=async()=>{try{const[s,g]=await Promise.all([me(),ue()]);d.value=g,h.value=s,o.value=V.filter(C=>!g.some(w=>w.code===C.code)&&C.code!==(s==null?void 0:s.code)),d.value&&h.value&&t.setAvailableLanguages([...d.value,h.value]),b.value=h.value}catch(s){console.error("Error fetching languages:",s)}finally{c.value=!1}},_=()=>{r.value=!r.value},M=s=>{m.value&&!m.value.contains(s.target)&&(r.value=!1,u.value="")},N=s=>{b.value=s,t.setLanguage(s),a("disable-save",!0)},z=async s=>{var g;if(e.isSaveButtonDisabled)N(s);else{const C=`All new data you have filled in for the <strong>${(g=b.value)==null?void 0:g.name}</strong> language will be lost. <br><br> Proceed anyway?`;await l.showConfirmationModal(C)&&N(s)}},I=s=>{var g;return((g=b.value)==null?void 0:g.code)===s.code},K=async s=>{const g=`Are you sure you want to delete content for <br><strong>${s.name}</strong>?`;if(await l.showConfirmationModal(g))try{d.value=d.value.filter(w=>w.code!==s.code),o.value.push(s),await ve(s),t.removeLanguageContent(s)}catch(w){console.error("Error deleting language:",w)}},P=async s=>{d.value.some(g=>g.code===s.code)||(d.value.push(s),o.value=o.value.filter(g=>g.code!==s.code),await ge(d.value),r.value=!1,u.value="",t.addLanguageContent(s.code))},y=Z(()=>o.value.filter(s=>s.name.toLowerCase().includes(u.value.toLowerCase())));return X(()=>{S(),document.addEventListener("click",M)}),x(()=>{document.removeEventListener("click",M)}),{isOpen:r,searchQuery:u,filteredLanguages:y,selectedLanguages:d,defaultLanguage:h,dropdown:m,isLoading:c,selectedLanguage:b,toggleDropdown:_,selectLanguage:P,handleLanguageClick:z,isSelectedLanguage:I,deleteLanguage:K}}}),fe="/assets/loading-LsZ-BOXE.gif",be={class:"dropdown__wrapper p-relative h-100 p-4",ref:"dropdown"},he={key:0,class:"dropdown__list p-absolute"},ye=["onClick"],we=["onClick"],ke=["disabled","onClick"],Se={class:"dropdown__loader h-100 d-flex justify-center align-center"};function Ce(e,a,t,l,r,u){var m;return v(),p(L,null,[E(n("div",be,[n("div",{class:"dropdown__header d-flex justify-sb align-center",onClick:a[1]||(a[1]=(...o)=>e.toggleDropdown&&e.toggleDropdown(...o))},[E(n("input",{type:"text",placeholder:"Search all languages","onUpdate:modelValue":a[0]||(a[0]=o=>e.searchQuery=o),class:"dropdown__search input w-100"},null,512),[[ee,e.searchQuery]]),n("span",{class:f(["material-symbols-outlined dropdown-arrow",{open:e.isOpen}])}," keyboard_arrow_up ",2)]),e.isOpen?(v(),p("ul",he,[(v(!0),p(L,null,G(e.filteredLanguages,o=>(v(),p("li",{key:o.code,class:"dropdown__item p-3",onClick:d=>e.selectLanguage(o)},k(o.name),9,ye))),128))])):R("",!0),n("div",{class:f(["selected-languages__list mt-5",{blured:e.isOpen}])},[a[4]||(a[4]=n("h4",null,"Selected Languages",-1)),n("ul",null,[e.defaultLanguage?(v(),p("li",{key:0,class:f(["selected-languages__item d-flex align-center justify-sb p-2 my-2",{selected:e.isSelectedLanguage(e.defaultLanguage)}]),onClick:a[2]||(a[2]=o=>e.handleLanguageClick(e.defaultLanguage))},[n("span",null,k(((m=e.defaultLanguage)==null?void 0:m.name)||"No default set")+" - Default",1),a[3]||(a[3]=n("span",{class:"material-symbols-outlined default-icon"}," lock ",-1))],2)):R("",!0),(v(!0),p(L,null,G(e.selectedLanguages,o=>(v(),p("li",{class:f(["selected-languages__item d-flex align-center justify-sb mb-2",{selected:e.isSelectedLanguage(o)}]),key:o.code},[n("span",{class:"language-label p-2",onClick:d=>e.handleLanguageClick(o)},k(o.name),9,we),n("span",{class:f(["material-symbols-outlined delete-icon p-2",{disabled:e.selectedLanguage===o}]),disabled:e.selectedLanguage===o,onClick:d=>e.deleteLanguage(o)}," delete ",10,ke)],2))),128))])],2)],512),[[F,!e.isLoading]]),E(n("div",Se,a[5]||(a[5]=[n("img",{src:fe,alt:"loader"},null,-1)]),512),[[F,e.isLoading]])],64)}const Le=j(pe,[["render",Ce],["__scopeId","data-v-c7e5a1f1"]]),_e=B({setup(){const e=W(),a=i(!1),t=i(""),l=()=>{e.setConfirmation(!1)},r=()=>{e.setConfirmation(!0)};return T(()=>e.isModalActive,()=>{a.value=e.isModalActive}),T(()=>e.modalMessage,()=>{t.value=e.modalMessage}),{isModalActive:a,message:t,closeModal:l,confirm:r}}}),Me={class:"modal__inner d-flex-col justify-center align-center p-6"},Ne=["innerHTML"],$e={class:"modal__actions"};function Ae(e,a,t,l,r,u){return v(),p("div",{class:f([{visible:e.isModalActive},"modal__wrapper p-absolute w-100 h-100 d-flex justify-center align-center"])},[n("div",Me,[a[2]||(a[2]=n("span",{class:"material-symbols-outlined warning"}," warning ",-1)),a[3]||(a[3]=n("h4",{class:"mb-4"},"Warning!",-1)),n("div",{innerHTML:e.message,class:"modal__message text-center mb-6"},null,8,Ne),n("div",$e,[n("button",{onClick:a[0]||(a[0]=(...m)=>e.confirm&&e.confirm(...m)),class:"button button--success mr-2"},"Yes"),n("button",{onClick:a[1]||(a[1]=(...m)=>e.closeModal&&e.closeModal(...m)),class:"button button--danger"},"No")])])],2)}const Te=j(_e,[["render",Ae],["__scopeId","data-v-9801d218"]]),De=B({name:"Notification",setup(){const e=ae(),a=i(""),t=i(!1);return T(()=>e.notification,()=>{t.value=!0,a.value=e.notification,setTimeout(()=>{t.value=!1},ne)}),{notificationContent:a,showNotification:t}}}),Oe=["innerHTML"];function Be(e,a,t,l,r,u){return v(),p("div",{class:f([{visible:e.showNotification},"notification__wrapper p-relative p-3 text-center"])},[a[0]||(a[0]=n("h4",{class:"mb-3"},"Success!",-1)),n("div",{class:"notification__inner",innerHTML:e.notificationContent},null,8,Oe)],2)}const je=j(De,[["render",Be],["__scopeId","data-v-4671da84"]]),ze=B({components:{LanguagePicker:Le,Modal:Te,Notification:je},name:"Admin Panel",setup(){const e=se(),a=te(),t=oe(),l=J(),r=i(),u=i(),m=i(Object.freeze({})),o=i(!0),d=i(!0),h=i(0),b=i([{label:"Content",icon:"description",route:"/admin/content"},{label:"Videos",icon:"movie",route:"/admin/videos"},{label:"Photo Galleries",icon:"photo_library",route:"/admin/galleries"},{label:"Artists",icon:"music_note",route:"/admin/artists"}]),c=y=>a.name===y,S=y=>{e.push(y)},_=async()=>{await t.logout(),e.push("/auth")},M=()=>{e.push("/")},N=async()=>{await l.loadLocalizationContent(),u.value={...l.content},m.value=Object.freeze(JSON.parse(JSON.stringify(u.value)))},z=y=>{l.content={...u.value,...y},re(l.content,m.value)?o.value=!0:o.value=!1},I=async()=>{await l.saveLocalizationContent(),m.value=Object.freeze(JSON.parse(JSON.stringify(u.value))),o.value=!0},K=y=>{o.value=y},P=()=>{d.value=!d.value};return T(()=>l.selectedLanguage,()=>{N(),r.value=l.selectedLanguage},{deep:!0,immediate:!0}),{tabs:b,activeTab:h,language:r,content:u,isSaveButtonDisabled:o,isSidemenuOpened:d,isSelectedTab:c,navigateTo:S,logout:_,goToWebsite:M,updateContent:z,saveContent:I,onDisableSave:K,toggleSidemenu:P}}}),Ie={class:"admin__header d-flex justify-sb align-center w-100 p-4"},Ke={class:"d-flex"},Pe={class:"d-flex"},Ee={class:"admin__tabs d-flex justify-sb align-center w-100 px-4 py-5"},Ge=["onClick"],He={class:"text-bold-2 mr-2"},Fe={class:"material-symbols-outlined"},Re={class:"admin__save-button d-flex justify-sb align-center p-relative px-4"},Ue={class:"language ml-1 px-2 py-1 text-bold-1"},Ve=["disabled"],Je={class:"modal p-absolute w-100 h-100"},We={class:"notification p-absolute"};function qe(e,a,t,l,r,u){var b;const m=A("language-picker"),o=A("router-view"),d=A("modal"),h=A("notification");return v(),p(L,null,[n("div",Ie,[n("div",{onClick:a[0]||(a[0]=(...c)=>e.toggleSidemenu&&e.toggleSidemenu(...c)),class:f([{shrinked:!e.isSidemenuOpened},"sidemenu-close d-flex align-center justify-center p-absolute"])},a[4]||(a[4]=[n("span",{class:"material-symbols-outlined"}," menu_open ",-1)]),2),a[7]||(a[7]=n("h2",null,"Admin Panel",-1)),n("div",Ke,[n("button",{onClick:a[1]||(a[1]=(...c)=>e.goToWebsite&&e.goToWebsite(...c)),class:"button button--primary button--icon mr-2"},a[5]||(a[5]=[n("span",null,"Go to Website",-1),n("span",{class:"material-symbols-outlined"}," globe ",-1)])),n("button",{onClick:a[2]||(a[2]=(...c)=>e.logout&&e.logout(...c)),class:"button button--primary button--icon"},a[6]||(a[6]=[n("span",null,"Logout",-1),n("span",{class:"material-symbols-outlined"}," logout ",-1)]))])]),n("div",Pe,[n("div",{class:f([{shrinked:!e.isSidemenuOpened},"admin__sidemenu p-absolute"])},[$(m,{isSaveButtonDisabled:e.isSaveButtonDisabled,onDisableSave:e.onDisableSave},null,8,["isSaveButtonDisabled","onDisableSave"])],2),n("div",{class:f([{shrinked:!e.isSidemenuOpened},"admin__tabs-wrapper d-flex-col p-relative w-100"])},[n("div",Ee,[(v(!0),p(L,null,G(e.tabs,(c,S)=>(v(),p("div",{key:S,class:f([["tab",{active:e.isSelectedTab(c.label),"unsaved-changes":!e.isSaveButtonDisabled&&c.label==="Content"}],"admin__tab-item d-flex align-center p-relative px-5 py-3"]),onClick:_=>e.navigateTo(c.route)},[n("span",He,k(c.label),1),n("span",Fe,k(c.icon),1)],10,Ge))),128))]),n("div",Re,[n("div",null,[a[8]||(a[8]=ie(" Editing content for: ")),n("span",Ue,k((b=e.language)==null?void 0:b.name),1)]),n("button",{disabled:e.isSaveButtonDisabled,class:f([{disabled:e.isSaveButtonDisabled},"button button--ternary button--icon p-relative"]),onClick:a[3]||(a[3]=c=>e.saveContent())},a[9]||(a[9]=[n("span",null,"Save",-1),n("span",{class:"material-symbols-outlined"}," save ",-1)]),10,Ve)]),$(o,null,{default:le(({Component:c})=>[(v(),U(ce,null,[(v(),U(de(c),{content:e.content,onUpdateContent:e.updateContent},null,40,["content","onUpdateContent"]))],1024))]),_:1})],2)]),n("div",Je,[$(d)]),n("div",We,[$(h)])],64)}const Ye=j(ze,[["render",qe],["__scopeId","data-v-b8da1ada"]]);export{Ye as default};
