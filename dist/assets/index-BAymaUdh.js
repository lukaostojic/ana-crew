const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-rEO2DCfH.js","assets/LoginPage-hdHnIJ7o.css","assets/AdminPanel-s-Iqde-Z.js","assets/AdminPanel-DYZt2RHf.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Wc(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ze={},Vs=[],rr=()=>{},I_=()=>!1,Ll=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Qc=t=>t.startsWith("onUpdate:"),Pt=Object.assign,Yc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},S_=Object.prototype.hasOwnProperty,We=(t,e)=>S_.call(t,e),Ne=Array.isArray,Fs=t=>ma(t)==="[object Map]",Jp=t=>ma(t)==="[object Set]",R_=t=>ma(t)==="[object RegExp]",Me=t=>typeof t=="function",ft=t=>typeof t=="string",vi=t=>typeof t=="symbol",ot=t=>t!==null&&typeof t=="object",Zp=t=>(ot(t)||Me(t))&&Me(t.then)&&Me(t.catch),eg=Object.prototype.toString,ma=t=>eg.call(t),O_=t=>ma(t).slice(8,-1),tg=t=>ma(t)==="[object Object]",Xc=t=>ft(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Lo=Wc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ml=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},P_=/-(\w)/g,Mn=Ml(t=>t.replace(P_,(e,n)=>n?n.toUpperCase():"")),k_=/\B([A-Z])/g,ns=Ml(t=>t.replace(k_,"-$1").toLowerCase()),Vl=Ml(t=>t.charAt(0).toUpperCase()+t.slice(1)),Iu=Ml(t=>t?`on${Vl(t)}`:""),si=(t,e)=>!Object.is(t,e),Us=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},ng=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},oc=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ph;const Fl=()=>Ph||(Ph=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jc(t){if(Ne(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=ft(r)?x_(r):Jc(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(ft(t)||ot(t))return t}const C_=/;(?![^(]*\))/g,N_=/:([^]+)/,D_=/\/\*[^]*?\*\//g;function x_(t){const e={};return t.replace(D_,"").split(C_).forEach(n=>{if(n){const r=n.split(N_);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Qo(t){let e="";if(ft(t))e=t;else if(Ne(t))for(let n=0;n<t.length;n++){const r=Qo(t[n]);r&&(e+=r+" ")}else if(ot(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const L_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",M_=Wc(L_);function rg(t){return!!t||t===""}const ig=t=>!!(t&&t.__v_isRef===!0),Zc=t=>ft(t)?t:t==null?"":Ne(t)||ot(t)&&(t.toString===eg||!Me(t.toString))?ig(t)?Zc(t.value):JSON.stringify(t,sg,2):String(t),sg=(t,e)=>ig(e)?sg(t,e.value):Fs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Su(r,s)+" =>"]=i,n),{})}:Jp(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Su(n))}:vi(e)?Su(e):ot(e)&&!Ne(e)&&!tg(e)?String(e):e,Su=(t,e="")=>{var n;return vi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zt;class og{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Zt,!e&&Zt&&(this.index=(Zt.scopes||(Zt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Zt;try{return Zt=this,e()}finally{Zt=n}}}on(){Zt=this}off(){Zt=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function ag(t){return new og(t)}function lg(){return Zt}function V_(t,e=!1){Zt&&Zt.cleanups.push(t)}let tt;const Ru=new WeakSet;class ug{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Zt&&Zt.active&&Zt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ru.has(this)&&(Ru.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,kh(this),hg(this);const e=tt,n=Hn;tt=this,Hn=!0;try{return this.fn()}finally{dg(this),tt=e,Hn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)nf(e);this.deps=this.depsTail=void 0,kh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ru.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ac(this)&&this.run()}get dirty(){return ac(this)}}let cg=0,Mo,Vo;function fg(t,e=!1){if(t.flags|=8,e){t.next=Vo,Vo=t;return}t.next=Mo,Mo=t}function ef(){cg++}function tf(){if(--cg>0)return;if(Vo){let e=Vo;for(Vo=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Mo;){let e=Mo;for(Mo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function hg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function dg(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),nf(r),F_(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function ac(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(pg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function pg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Yo))return;t.globalVersion=Yo;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!ac(t)){t.flags&=-3;return}const n=tt,r=Hn;tt=t,Hn=!0;try{hg(t);const i=t.fn(t._value);(e.version===0||si(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{tt=n,Hn=r,dg(t),t.flags&=-3}}function nf(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)nf(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function F_(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Hn=!0;const gg=[];function yi(){gg.push(Hn),Hn=!1}function _i(){const t=gg.pop();Hn=t===void 0?!0:t}function kh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=tt;tt=void 0;try{e()}finally{tt=n}}}let Yo=0;class U_{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class rf{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!tt||!Hn||tt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==tt)n=this.activeLink=new U_(tt,this),tt.deps?(n.prevDep=tt.depsTail,tt.depsTail.nextDep=n,tt.depsTail=n):tt.deps=tt.depsTail=n,mg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=tt.depsTail,n.nextDep=void 0,tt.depsTail.nextDep=n,tt.depsTail=n,tt.deps===n&&(tt.deps=r)}return n}trigger(e){this.version++,Yo++,this.notify(e)}notify(e){ef();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{tf()}}}function mg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)mg(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const il=new WeakMap,Gi=Symbol(""),lc=Symbol(""),Xo=Symbol("");function zt(t,e,n){if(Hn&&tt){let r=il.get(t);r||il.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new rf),i.map=r,i.key=n),i.track()}}function Sr(t,e,n,r,i,s){const o=il.get(t);if(!o){Yo++;return}const a=l=>{l&&l.trigger()};if(ef(),e==="clear")o.forEach(a);else{const l=Ne(t),c=l&&Xc(n);if(l&&n==="length"){const f=Number(r);o.forEach((h,d)=>{(d==="length"||d===Xo||!vi(d)&&d>=f)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Xo)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Gi)),Fs(t)&&a(o.get(lc)));break;case"delete":l||(a(o.get(Gi)),Fs(t)&&a(o.get(lc)));break;case"set":Fs(t)&&a(o.get(Gi));break}}tf()}function j_(t,e){const n=il.get(t);return n&&n.get(e)}function Ss(t){const e=Ge(t);return e===t?e:(zt(e,"iterate",Xo),Dn(t)?e:e.map(Kt))}function Ul(t){return zt(t=Ge(t),"iterate",Xo),t}const q_={__proto__:null,[Symbol.iterator](){return Ou(this,Symbol.iterator,Kt)},concat(...t){return Ss(this).concat(...t.map(e=>Ne(e)?Ss(e):e))},entries(){return Ou(this,"entries",t=>(t[1]=Kt(t[1]),t))},every(t,e){return wr(this,"every",t,e,void 0,arguments)},filter(t,e){return wr(this,"filter",t,e,n=>n.map(Kt),arguments)},find(t,e){return wr(this,"find",t,e,Kt,arguments)},findIndex(t,e){return wr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return wr(this,"findLast",t,e,Kt,arguments)},findLastIndex(t,e){return wr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return wr(this,"forEach",t,e,void 0,arguments)},includes(...t){return Pu(this,"includes",t)},indexOf(...t){return Pu(this,"indexOf",t)},join(t){return Ss(this).join(t)},lastIndexOf(...t){return Pu(this,"lastIndexOf",t)},map(t,e){return wr(this,"map",t,e,void 0,arguments)},pop(){return wo(this,"pop")},push(...t){return wo(this,"push",t)},reduce(t,...e){return Ch(this,"reduce",t,e)},reduceRight(t,...e){return Ch(this,"reduceRight",t,e)},shift(){return wo(this,"shift")},some(t,e){return wr(this,"some",t,e,void 0,arguments)},splice(...t){return wo(this,"splice",t)},toReversed(){return Ss(this).toReversed()},toSorted(t){return Ss(this).toSorted(t)},toSpliced(...t){return Ss(this).toSpliced(...t)},unshift(...t){return wo(this,"unshift",t)},values(){return Ou(this,"values",Kt)}};function Ou(t,e,n){const r=Ul(t),i=r[e]();return r!==t&&!Dn(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const B_=Array.prototype;function wr(t,e,n,r,i,s){const o=Ul(t),a=o!==t&&!Dn(t),l=o[e];if(l!==B_[e]){const h=l.apply(t,s);return a?Kt(h):h}let c=n;o!==t&&(a?c=function(h,d){return n.call(this,Kt(h),d,t)}:n.length>2&&(c=function(h,d){return n.call(this,h,d,t)}));const f=l.call(o,c,r);return a&&i?i(f):f}function Ch(t,e,n,r){const i=Ul(t);let s=n;return i!==t&&(Dn(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,Kt(a),l,t)}),i[e](s,...r)}function Pu(t,e,n){const r=Ge(t);zt(r,"iterate",Xo);const i=r[e](...n);return(i===-1||i===!1)&&af(n[0])?(n[0]=Ge(n[0]),r[e](...n)):i}function wo(t,e,n=[]){yi(),ef();const r=Ge(t)[e].apply(t,n);return tf(),_i(),r}const $_=Wc("__proto__,__v_isRef,__isVue"),vg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(vi));function H_(t){vi(t)||(t=String(t));const e=Ge(this);return zt(e,"has",t),e.hasOwnProperty(t)}class yg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?e0:Tg:s?Eg:bg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Ne(e);if(!i){let l;if(o&&(l=q_[n]))return l;if(n==="hasOwnProperty")return H_}const a=Reflect.get(e,n,gt(e)?e:r);return(vi(n)?vg.has(n):$_(n))||(i||zt(e,"get",n),s)?a:gt(a)?o&&Xc(n)?a:a.value:ot(a)?i?Ag(a):va(a):a}}class _g extends yg{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Yi(s);if(!Dn(r)&&!Yi(r)&&(s=Ge(s),r=Ge(r)),!Ne(e)&&gt(s)&&!gt(r))return l?!1:(s.value=r,!0)}const o=Ne(e)&&Xc(n)?Number(n)<e.length:We(e,n),a=Reflect.set(e,n,r,gt(e)?e:i);return e===Ge(i)&&(o?si(r,s)&&Sr(e,"set",n,r):Sr(e,"add",n,r)),a}deleteProperty(e,n){const r=We(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Sr(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!vi(n)||!vg.has(n))&&zt(e,"has",n),r}ownKeys(e){return zt(e,"iterate",Ne(e)?"length":Gi),Reflect.ownKeys(e)}}class z_ extends yg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const K_=new _g,G_=new z_,W_=new _g(!0);const uc=t=>t,Na=t=>Reflect.getPrototypeOf(t);function Q_(t,e,n){return function(...r){const i=this.__v_raw,s=Ge(i),o=Fs(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),f=n?uc:e?cc:Kt;return!e&&zt(s,"iterate",l?lc:Gi),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[f(h[0]),f(h[1])]:f(h),done:d}},[Symbol.iterator](){return this}}}}function Da(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Y_(t,e){const n={get(i){const s=this.__v_raw,o=Ge(s),a=Ge(i);t||(si(i,a)&&zt(o,"get",i),zt(o,"get",a));const{has:l}=Na(o),c=e?uc:t?cc:Kt;if(l.call(o,i))return c(s.get(i));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&zt(Ge(i),"iterate",Gi),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=Ge(s),a=Ge(i);return t||(si(i,a)&&zt(o,"has",i),zt(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=Ge(a),c=e?uc:t?cc:Kt;return!t&&zt(l,"iterate",Gi),a.forEach((f,h)=>i.call(s,c(f),c(h),o))}};return Pt(n,t?{add:Da("add"),set:Da("set"),delete:Da("delete"),clear:Da("clear")}:{add(i){!e&&!Dn(i)&&!Yi(i)&&(i=Ge(i));const s=Ge(this);return Na(s).has.call(s,i)||(s.add(i),Sr(s,"add",i,i)),this},set(i,s){!e&&!Dn(s)&&!Yi(s)&&(s=Ge(s));const o=Ge(this),{has:a,get:l}=Na(o);let c=a.call(o,i);c||(i=Ge(i),c=a.call(o,i));const f=l.call(o,i);return o.set(i,s),c?si(s,f)&&Sr(o,"set",i,s):Sr(o,"add",i,s),this},delete(i){const s=Ge(this),{has:o,get:a}=Na(s);let l=o.call(s,i);l||(i=Ge(i),l=o.call(s,i)),a&&a.call(s,i);const c=s.delete(i);return l&&Sr(s,"delete",i,void 0),c},clear(){const i=Ge(this),s=i.size!==0,o=i.clear();return s&&Sr(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Q_(i,t,e)}),n}function sf(t,e){const n=Y_(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(We(n,i)&&i in r?n:r,i,s)}const X_={get:sf(!1,!1)},J_={get:sf(!1,!0)},Z_={get:sf(!0,!1)};const bg=new WeakMap,Eg=new WeakMap,Tg=new WeakMap,e0=new WeakMap;function t0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function n0(t){return t.__v_skip||!Object.isExtensible(t)?0:t0(O_(t))}function va(t){return Yi(t)?t:of(t,!1,K_,X_,bg)}function wg(t){return of(t,!1,W_,J_,Eg)}function Ag(t){return of(t,!0,G_,Z_,Tg)}function of(t,e,n,r,i){if(!ot(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=n0(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function oi(t){return Yi(t)?oi(t.__v_raw):!!(t&&t.__v_isReactive)}function Yi(t){return!!(t&&t.__v_isReadonly)}function Dn(t){return!!(t&&t.__v_isShallow)}function af(t){return t?!!t.__v_raw:!1}function Ge(t){const e=t&&t.__v_raw;return e?Ge(e):t}function lf(t){return!We(t,"__v_skip")&&Object.isExtensible(t)&&ng(t,"__v_skip",!0),t}const Kt=t=>ot(t)?va(t):t,cc=t=>ot(t)?Ag(t):t;function gt(t){return t?t.__v_isRef===!0:!1}function at(t){return Ig(t,!1)}function r0(t){return Ig(t,!0)}function Ig(t,e){return gt(t)?t:new i0(t,e)}class i0{constructor(e,n){this.dep=new rf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ge(e),this._value=n?e:Kt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Dn(e)||Yi(e);e=r?e:Ge(e),si(e,n)&&(this._rawValue=e,this._value=r?e:Kt(e),this.dep.trigger())}}function js(t){return gt(t)?t.value:t}const s0={get:(t,e,n)=>e==="__v_raw"?t:js(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return gt(i)&&!gt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Sg(t){return oi(t)?t:new Proxy(t,s0)}function o0(t){const e=Ne(t)?new Array(t.length):{};for(const n in t)e[n]=l0(t,n);return e}class a0{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return j_(Ge(this._object),this._key)}}function l0(t,e,n){const r=t[e];return gt(r)?r:new a0(t,e,n)}class u0{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new rf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&tt!==this)return fg(this,!0),!0}get value(){const e=this.dep.track();return pg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function c0(t,e,n=!1){let r,i;return Me(t)?r=t:(r=t.get,i=t.set),new u0(r,i,n)}const xa={},sl=new WeakMap;let $i;function f0(t,e=!1,n=$i){if(n){let r=sl.get(n);r||sl.set(n,r=[]),r.push(t)}}function h0(t,e,n=Ze){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,c=g=>i?g:Dn(g)||i===!1||i===0?Rr(g,1):Rr(g);let f,h,d,p,E=!1,y=!1;if(gt(t)?(h=()=>t.value,E=Dn(t)):oi(t)?(h=()=>c(t),E=!0):Ne(t)?(y=!0,E=t.some(g=>oi(g)||Dn(g)),h=()=>t.map(g=>{if(gt(g))return g.value;if(oi(g))return c(g);if(Me(g))return l?l(g,2):g()})):Me(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){yi();try{d()}finally{_i()}}const g=$i;$i=f;try{return l?l(t,3,[p]):t(p)}finally{$i=g}}:h=rr,e&&i){const g=h,k=i===!0?1/0:i;h=()=>Rr(g(),k)}const b=lg(),v=()=>{f.stop(),b&&b.active&&Yc(b.effects,f)};if(s&&e){const g=e;e=(...k)=>{g(...k),v()}}let m=y?new Array(t.length).fill(xa):xa;const w=g=>{if(!(!(f.flags&1)||!f.dirty&&!g))if(e){const k=f.run();if(i||E||(y?k.some((D,S)=>si(D,m[S])):si(k,m))){d&&d();const D=$i;$i=f;try{const S=[k,m===xa?void 0:y&&m[0]===xa?[]:m,p];l?l(e,3,S):e(...S),m=k}finally{$i=D}}}else f.run()};return a&&a(w),f=new ug(h),f.scheduler=o?()=>o(w,!1):w,p=g=>f0(g,!1,f),d=f.onStop=()=>{const g=sl.get(f);if(g){if(l)l(g,4);else for(const k of g)k();sl.delete(f)}},e?r?w(!0):m=f.run():o?o(w.bind(null,!0),!0):f.run(),v.pause=f.pause.bind(f),v.resume=f.resume.bind(f),v.stop=v,v}function Rr(t,e=1/0,n){if(e<=0||!ot(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,gt(t))Rr(t.value,e,n);else if(Ne(t))for(let r=0;r<t.length;r++)Rr(t[r],e,n);else if(Jp(t)||Fs(t))t.forEach(r=>{Rr(r,e,n)});else if(tg(t)){for(const r in t)Rr(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Rr(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ya(t,e,n,r){try{return r?t(...r):t()}catch(i){jl(i,e,n)}}function lr(t,e,n,r){if(Me(t)){const i=ya(t,e,n,r);return i&&Zp(i)&&i.catch(s=>{jl(s,e,n)}),i}if(Ne(t)){const i=[];for(let s=0;s<t.length;s++)i.push(lr(t[s],e,n,r));return i}}function jl(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ze;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const f=a.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](t,l,c)===!1)return}a=a.parent}if(s){yi(),ya(s,null,10,[t,l,c]),_i();return}}d0(t,n,i,r,o)}function d0(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const en=[];let er=-1;const qs=[];let Qr=null,Os=0;const Rg=Promise.resolve();let ol=null;function Jo(t){const e=ol||Rg;return t?e.then(this?t.bind(this):t):e}function p0(t){let e=er+1,n=en.length;for(;e<n;){const r=e+n>>>1,i=en[r],s=Zo(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function uf(t){if(!(t.flags&1)){const e=Zo(t),n=en[en.length-1];!n||!(t.flags&2)&&e>=Zo(n)?en.push(t):en.splice(p0(e),0,t),t.flags|=1,Og()}}function Og(){ol||(ol=Rg.then(kg))}function g0(t){Ne(t)?qs.push(...t):Qr&&t.id===-1?Qr.splice(Os+1,0,t):t.flags&1||(qs.push(t),t.flags|=1),Og()}function Nh(t,e,n=er+1){for(;n<en.length;n++){const r=en[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;en.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Pg(t){if(qs.length){const e=[...new Set(qs)].sort((n,r)=>Zo(n)-Zo(r));if(qs.length=0,Qr){Qr.push(...e);return}for(Qr=e,Os=0;Os<Qr.length;Os++){const n=Qr[Os];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Qr=null,Os=0}}const Zo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function kg(t){try{for(er=0;er<en.length;er++){const e=en[er];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ya(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;er<en.length;er++){const e=en[er];e&&(e.flags&=-2)}er=-1,en.length=0,Pg(),ol=null,(en.length||qs.length)&&kg()}}let tn=null,Cg=null;function al(t){const e=tn;return tn=t,Cg=t&&t.type.__scopeId||null,e}function m0(t,e=tn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&jh(-1);const s=al(e);let o;try{o=t(...i)}finally{al(s),r._d&&jh(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Jr(t,e){if(tn===null)return t;const n=Kl(tn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=Ze]=e[i];s&&(Me(s)&&(s={mounted:s,updated:s}),s.deep&&Rr(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function qi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(yi(),lr(l,n,8,[t.el,a,t,e]),_i())}}const v0=Symbol("_vte"),y0=t=>t.__isTeleport;function ql(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ql(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function ro(t,e){return Me(t)?Pt({name:t.name},e,{setup:t}):t}function Ng(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ll(t,e,n,r,i=!1){if(Ne(t)){t.forEach((E,y)=>ll(E,e&&(Ne(e)?e[y]:e),n,r,i));return}if(Bs(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ll(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Kl(r.component):r.el,o=i?null:s,{i:a,r:l}=t,c=e&&e.r,f=a.refs===Ze?a.refs={}:a.refs,h=a.setupState,d=Ge(h),p=h===Ze?()=>!1:E=>We(d,E);if(c!=null&&c!==l&&(ft(c)?(f[c]=null,p(c)&&(h[c]=null)):gt(c)&&(c.value=null)),Me(l))ya(l,a,12,[o,f]);else{const E=ft(l),y=gt(l);if(E||y){const b=()=>{if(t.f){const v=E?p(l)?h[l]:f[l]:l.value;i?Ne(v)&&Yc(v,s):Ne(v)?v.includes(s)||v.push(s):E?(f[l]=[s],p(l)&&(h[l]=f[l])):(l.value=[s],t.k&&(f[t.k]=l.value))}else E?(f[l]=o,p(l)&&(h[l]=o)):y&&(l.value=o,t.k&&(f[t.k]=o))};o?(b.id=-1,Lt(b,n)):b()}}}Fl().requestIdleCallback;Fl().cancelIdleCallback;const Bs=t=>!!t.type.__asyncLoader,Dg=t=>t.type.__isKeepAlive,_0={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=hb(),r=n.ctx;if(!r.renderer)return()=>{const m=e.default&&e.default();return m&&m.length===1?m[0]:m};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:f,o:{createElement:h}}}=r,d=h("div");r.activate=(m,w,g,k,D)=>{const S=m.component;c(m,w,g,0,a),l(S.vnode,m,w,g,S,a,k,m.slotScopeIds,D),Lt(()=>{S.isDeactivated=!1,S.a&&Us(S.a);const T=m.props&&m.props.onVnodeMounted;T&&kn(T,S.parent,m)},a)},r.deactivate=m=>{const w=m.component;cl(w.m),cl(w.a),c(m,d,null,1,a),Lt(()=>{w.da&&Us(w.da);const g=m.props&&m.props.onVnodeUnmounted;g&&kn(g,w.parent,m),w.isDeactivated=!0},a)};function p(m){ku(m),f(m,n,a,!0)}function E(m){i.forEach((w,g)=>{const k=vc(w.type);k&&!m(k)&&y(g)})}function y(m){const w=i.get(m);w&&(!o||!Ps(w,o))?p(w):o&&ku(o),i.delete(m),s.delete(m)}En(()=>[t.include,t.exclude],([m,w])=>{m&&E(g=>Ro(m,g)),w&&E(g=>!Ro(w,g))},{flush:"post",deep:!0});let b=null;const v=()=>{b!=null&&(fl(n.subTree.type)?Lt(()=>{i.set(b,La(n.subTree))},n.subTree.suspense):i.set(b,La(n.subTree)))};return $l(v),Lg(v),cf(()=>{i.forEach(m=>{const{subTree:w,suspense:g}=n,k=La(w);if(m.type===k.type&&m.key===k.key){ku(k);const D=k.component.da;D&&Lt(D,g);return}p(m)})}),()=>{if(b=null,!e.default)return o=null;const m=e.default(),w=m[0];if(m.length>1)return o=null,m;if(!ta(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let g=La(w);if(g.type===fi)return o=null,g;const k=g.type,D=vc(Bs(g)?g.type.__asyncResolved||{}:k),{include:S,exclude:T,max:C}=t;if(S&&(!D||!Ro(S,D))||T&&D&&Ro(T,D))return g.shapeFlag&=-257,o=g,w;const I=g.key==null?k:g.key,_=i.get(I);return g.el&&(g=Xi(g),w.shapeFlag&128&&(w.ssContent=g)),b=I,_?(g.el=_.el,g.component=_.component,g.transition&&ql(g,g.transition),g.shapeFlag|=512,s.delete(I),s.add(I)):(s.add(I),C&&s.size>parseInt(C,10)&&y(s.values().next().value)),g.shapeFlag|=256,o=g,fl(w.type)?w:g}}},Zk=_0;function Ro(t,e){return Ne(t)?t.some(n=>Ro(n,e)):ft(t)?t.split(",").includes(e):R_(t)?(t.lastIndex=0,t.test(e)):!1}function b0(t,e){xg(t,"a",e)}function E0(t,e){xg(t,"da",e)}function xg(t,e,n=Ot){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Bl(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Dg(i.parent.vnode)&&T0(r,e,n,i),i=i.parent}}function T0(t,e,n,r){const i=Bl(e,t,r,!0);Mg(()=>{Yc(r[e],i)},n)}function ku(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function La(t){return t.shapeFlag&128?t.ssContent:t}function Bl(t,e,n=Ot,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{yi();const a=_a(n),l=lr(e,n,t,o);return a(),_i(),l});return r?i.unshift(s):i.push(s),s}}const Vr=t=>(e,n=Ot)=>{(!na||t==="sp")&&Bl(t,(...r)=>e(...r),n)},w0=Vr("bm"),$l=Vr("m"),A0=Vr("bu"),Lg=Vr("u"),cf=Vr("bum"),Mg=Vr("um"),I0=Vr("sp"),S0=Vr("rtg"),R0=Vr("rtc");function O0(t,e=Ot){Bl("ec",t,e)}const Vg="components";function Fg(t,e){return jg(Vg,t,!0,e)||t}const Ug=Symbol.for("v-ndc");function eC(t){return ft(t)?jg(Vg,t,!1)||t:t||Ug}function jg(t,e,n=!0,r=!1){const i=tn||Ot;if(i){const s=i.type;{const a=vc(s,!1);if(a&&(a===e||a===Mn(e)||a===Vl(Mn(e))))return s}const o=Dh(i[t]||s[t],e)||Dh(i.appContext[t],e);return!o&&r?s:o}}function Dh(t,e){return t&&(t[e]||t[Mn(e)]||t[Vl(Mn(e))])}function qg(t,e,n,r){let i;const s=n,o=Ne(t);if(o||ft(t)){const a=o&&oi(t);let l=!1;a&&(l=!Dn(t),t=Ul(t)),i=new Array(t.length);for(let c=0,f=t.length;c<f;c++)i[c]=e(l?Kt(t[c]):t[c],c,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(ot(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];i[l]=e(t[f],f,l,s)}}else i=[];return i}const fc=t=>t?am(t)?Kl(t):fc(t.parent):null,Fo=Pt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fc(t.parent),$root:t=>fc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ff(t),$forceUpdate:t=>t.f||(t.f=()=>{uf(t.update)}),$nextTick:t=>t.n||(t.n=Jo.bind(t.proxy)),$watch:t=>Y0.bind(t)}),Cu=(t,e)=>t!==Ze&&!t.__isScriptSetup&&We(t,e),P0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Cu(r,e))return o[e]=1,r[e];if(i!==Ze&&We(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&We(c,e))return o[e]=3,s[e];if(n!==Ze&&We(n,e))return o[e]=4,n[e];hc&&(o[e]=0)}}const f=Fo[e];let h,d;if(f)return e==="$attrs"&&zt(t.attrs,"get",""),f(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Ze&&We(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,We(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Cu(i,e)?(i[e]=n,!0):r!==Ze&&We(r,e)?(r[e]=n,!0):We(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Ze&&We(t,o)||Cu(e,o)||(a=s[0])&&We(a,o)||We(r,o)||We(Fo,o)||We(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:We(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function xh(t){return Ne(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let hc=!0;function k0(t){const e=ff(t),n=t.proxy,r=t.ctx;hc=!1,e.beforeCreate&&Lh(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:h,mounted:d,beforeUpdate:p,updated:E,activated:y,deactivated:b,beforeDestroy:v,beforeUnmount:m,destroyed:w,unmounted:g,render:k,renderTracked:D,renderTriggered:S,errorCaptured:T,serverPrefetch:C,expose:I,inheritAttrs:_,components:R,directives:O,filters:U}=e;if(c&&C0(c,r,null),o)for(const Y in o){const ue=o[Y];Me(ue)&&(r[Y]=ue.bind(n))}if(i){const Y=i.call(n,n);ot(Y)&&(t.data=va(Y))}if(hc=!0,s)for(const Y in s){const ue=s[Y],ee=Me(ue)?ue.bind(n,n):Me(ue.get)?ue.get.bind(n,n):rr,$=!Me(ue)&&Me(ue.set)?ue.set.bind(n):rr,x=Cn({get:ee,set:$});Object.defineProperty(r,Y,{enumerable:!0,configurable:!0,get:()=>x.value,set:q=>x.value=q})}if(a)for(const Y in a)Bg(a[Y],r,n,Y);if(l){const Y=Me(l)?l.call(n):l;Reflect.ownKeys(Y).forEach(ue=>{za(ue,Y[ue])})}f&&Lh(f,t,"c");function J(Y,ue){Ne(ue)?ue.forEach(ee=>Y(ee.bind(n))):ue&&Y(ue.bind(n))}if(J(w0,h),J($l,d),J(A0,p),J(Lg,E),J(b0,y),J(E0,b),J(O0,T),J(R0,D),J(S0,S),J(cf,m),J(Mg,g),J(I0,C),Ne(I))if(I.length){const Y=t.exposed||(t.exposed={});I.forEach(ue=>{Object.defineProperty(Y,ue,{get:()=>n[ue],set:ee=>n[ue]=ee})})}else t.exposed||(t.exposed={});k&&t.render===rr&&(t.render=k),_!=null&&(t.inheritAttrs=_),R&&(t.components=R),O&&(t.directives=O),C&&Ng(t)}function C0(t,e,n=rr){Ne(t)&&(t=dc(t));for(const r in t){const i=t[r];let s;ot(i)?"default"in i?s=xn(i.from||r,i.default,!0):s=xn(i.from||r):s=xn(i),gt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Lh(t,e,n){lr(Ne(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Bg(t,e,n,r){let i=r.includes(".")?nm(n,r):()=>n[r];if(ft(t)){const s=e[t];Me(s)&&En(i,s)}else if(Me(t))En(i,t.bind(n));else if(ot(t))if(Ne(t))t.forEach(s=>Bg(s,e,n,r));else{const s=Me(t.handler)?t.handler.bind(n):e[t.handler];Me(s)&&En(i,s,t)}}function ff(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>ul(l,c,o,!0)),ul(l,e,o)),ot(e)&&s.set(e,l),l}function ul(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&ul(t,s,n,!0),i&&i.forEach(o=>ul(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=N0[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const N0={data:Mh,props:Vh,emits:Vh,methods:Oo,computed:Oo,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:Oo,directives:Oo,watch:x0,provide:Mh,inject:D0};function Mh(t,e){return e?t?function(){return Pt(Me(t)?t.call(this,this):t,Me(e)?e.call(this,this):e)}:e:t}function D0(t,e){return Oo(dc(t),dc(e))}function dc(t){if(Ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Jt(t,e){return t?[...new Set([].concat(t,e))]:e}function Oo(t,e){return t?Pt(Object.create(null),t,e):e}function Vh(t,e){return t?Ne(t)&&Ne(e)?[...new Set([...t,...e])]:Pt(Object.create(null),xh(t),xh(e??{})):e}function x0(t,e){if(!t)return e;if(!e)return t;const n=Pt(Object.create(null),t);for(const r in e)n[r]=Jt(t[r],e[r]);return n}function $g(){return{app:null,config:{isNativeTag:I_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let L0=0;function M0(t,e){return function(r,i=null){Me(r)||(r=Pt({},r)),i!=null&&!ot(i)&&(i=null);const s=$g(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:L0++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:yb,get config(){return s.config},set config(f){},use(f,...h){return o.has(f)||(f&&Me(f.install)?(o.add(f),f.install(c,...h)):Me(f)&&(o.add(f),f(c,...h))),c},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),c},component(f,h){return h?(s.components[f]=h,c):s.components[f]},directive(f,h){return h?(s.directives[f]=h,c):s.directives[f]},mount(f,h,d){if(!l){const p=c._ceVNode||cn(r,i);return p.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),h&&e?e(p,f):t(p,f,d),l=!0,c._container=f,f.__vue_app__=c,Kl(p.component)}},onUnmount(f){a.push(f)},unmount(){l&&(lr(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(f,h){return s.provides[f]=h,c},runWithContext(f){const h=Wi;Wi=c;try{return f()}finally{Wi=h}}};return c}}let Wi=null;function za(t,e){if(Ot){let n=Ot.provides;const r=Ot.parent&&Ot.parent.provides;r===n&&(n=Ot.provides=Object.create(r)),n[t]=e}}function xn(t,e,n=!1){const r=Ot||tn;if(r||Wi){const i=Wi?Wi._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Me(e)?e.call(r&&r.proxy):e}}function V0(){return!!(Ot||tn||Wi)}const Hg={},zg=()=>Object.create(Hg),Kg=t=>Object.getPrototypeOf(t)===Hg;function F0(t,e,n,r=!1){const i={},s=zg();t.propsDefaults=Object.create(null),Gg(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:wg(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function U0(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Ge(i),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let h=0;h<f.length;h++){let d=f[h];if(Hl(t.emitsOptions,d))continue;const p=e[d];if(l)if(We(s,d))p!==s[d]&&(s[d]=p,c=!0);else{const E=Mn(d);i[E]=pc(l,a,E,p,t,!1)}else p!==s[d]&&(s[d]=p,c=!0)}}}else{Gg(t,e,i,s)&&(c=!0);let f;for(const h in a)(!e||!We(e,h)&&((f=ns(h))===h||!We(e,f)))&&(l?n&&(n[h]!==void 0||n[f]!==void 0)&&(i[h]=pc(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!We(e,h))&&(delete s[h],c=!0)}c&&Sr(t.attrs,"set","")}function Gg(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Lo(l))continue;const c=e[l];let f;i&&We(i,f=Mn(l))?!s||!s.includes(f)?n[f]=c:(a||(a={}))[f]=c:Hl(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=Ge(n),c=a||Ze;for(let f=0;f<s.length;f++){const h=s[f];n[h]=pc(i,l,h,c[h],t,!We(c,h))}}return o}function pc(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=We(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Me(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const f=_a(i);r=c[n]=l.call(null,e),f()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===ns(n))&&(r=!0))}return r}const j0=new WeakMap;function Wg(t,e,n=!1){const r=n?j0:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Me(t)){const f=h=>{l=!0;const[d,p]=Wg(h,e,!0);Pt(o,d),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!l)return ot(t)&&r.set(t,Vs),Vs;if(Ne(s))for(let f=0;f<s.length;f++){const h=Mn(s[f]);Fh(h)&&(o[h]=Ze)}else if(s)for(const f in s){const h=Mn(f);if(Fh(h)){const d=s[f],p=o[h]=Ne(d)||Me(d)?{type:d}:Pt({},d),E=p.type;let y=!1,b=!0;if(Ne(E))for(let v=0;v<E.length;++v){const m=E[v],w=Me(m)&&m.name;if(w==="Boolean"){y=!0;break}else w==="String"&&(b=!1)}else y=Me(E)&&E.name==="Boolean";p[0]=y,p[1]=b,(y||We(p,"default"))&&a.push(h)}}const c=[o,a];return ot(t)&&r.set(t,c),c}function Fh(t){return t[0]!=="$"&&!Lo(t)}const Qg=t=>t[0]==="_"||t==="$stable",hf=t=>Ne(t)?t.map(tr):[tr(t)],q0=(t,e,n)=>{if(e._n)return e;const r=m0((...i)=>hf(e(...i)),n);return r._c=!1,r},Yg=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Qg(i))continue;const s=t[i];if(Me(s))e[i]=q0(i,s,r);else if(s!=null){const o=hf(s);e[i]=()=>o}}},Xg=(t,e)=>{const n=hf(e);t.slots.default=()=>n},Jg=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},B0=(t,e,n)=>{const r=t.slots=zg();if(t.vnode.shapeFlag&32){const i=e._;i?(Jg(r,e,n),n&&ng(r,"_",i,!0)):Yg(e,r)}else e&&Xg(t,e)},$0=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Ze;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:Jg(i,e,n):(s=!e.$stable,Yg(e,i)),o=e}else e&&(Xg(t,e),o={default:1});if(s)for(const a in i)!Qg(a)&&o[a]==null&&delete i[a]},Lt=rb;function H0(t){return z0(t)}function z0(t,e){const n=Fl();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:h,nextSibling:d,setScopeId:p=rr,insertStaticContent:E}=t,y=(F,B,ne,de=null,le=null,G=null,te=void 0,se=null,ae=!!B.dynamicChildren)=>{if(F===B)return;F&&!Ps(F,B)&&(de=V(F),q(F,le,G,!0),F=null),B.patchFlag===-2&&(ae=!1,B.dynamicChildren=null);const{type:Z,ref:ye,shapeFlag:he}=B;switch(Z){case zl:b(F,B,ne,de);break;case fi:v(F,B,ne,de);break;case xu:F==null&&m(B,ne,de,te);break;case Bn:R(F,B,ne,de,le,G,te,se,ae);break;default:he&1?k(F,B,ne,de,le,G,te,se,ae):he&6?O(F,B,ne,de,le,G,te,se,ae):(he&64||he&128)&&Z.process(F,B,ne,de,le,G,te,se,ae,ie)}ye!=null&&le&&ll(ye,F&&F.ref,G,B||F,!B)},b=(F,B,ne,de)=>{if(F==null)r(B.el=a(B.children),ne,de);else{const le=B.el=F.el;B.children!==F.children&&c(le,B.children)}},v=(F,B,ne,de)=>{F==null?r(B.el=l(B.children||""),ne,de):B.el=F.el},m=(F,B,ne,de)=>{[F.el,F.anchor]=E(F.children,B,ne,de,F.el,F.anchor)},w=({el:F,anchor:B},ne,de)=>{let le;for(;F&&F!==B;)le=d(F),r(F,ne,de),F=le;r(B,ne,de)},g=({el:F,anchor:B})=>{let ne;for(;F&&F!==B;)ne=d(F),i(F),F=ne;i(B)},k=(F,B,ne,de,le,G,te,se,ae)=>{B.type==="svg"?te="svg":B.type==="math"&&(te="mathml"),F==null?D(B,ne,de,le,G,te,se,ae):C(F,B,le,G,te,se,ae)},D=(F,B,ne,de,le,G,te,se)=>{let ae,Z;const{props:ye,shapeFlag:he,transition:me,dirs:Ee}=F;if(ae=F.el=o(F.type,G,ye&&ye.is,ye),he&8?f(ae,F.children):he&16&&T(F.children,ae,null,de,le,Nu(F,G),te,se),Ee&&qi(F,null,de,"created"),S(ae,F,F.scopeId,te,de),ye){for(const Ae in ye)Ae!=="value"&&!Lo(Ae)&&s(ae,Ae,null,ye[Ae],G,de);"value"in ye&&s(ae,"value",null,ye.value,G),(Z=ye.onVnodeBeforeMount)&&kn(Z,de,F)}Ee&&qi(F,null,de,"beforeMount");const Te=K0(le,me);Te&&me.beforeEnter(ae),r(ae,B,ne),((Z=ye&&ye.onVnodeMounted)||Te||Ee)&&Lt(()=>{Z&&kn(Z,de,F),Te&&me.enter(ae),Ee&&qi(F,null,de,"mounted")},le)},S=(F,B,ne,de,le)=>{if(ne&&p(F,ne),de)for(let G=0;G<de.length;G++)p(F,de[G]);if(le){let G=le.subTree;if(B===G||fl(G.type)&&(G.ssContent===B||G.ssFallback===B)){const te=le.vnode;S(F,te,te.scopeId,te.slotScopeIds,le.parent)}}},T=(F,B,ne,de,le,G,te,se,ae=0)=>{for(let Z=ae;Z<F.length;Z++){const ye=F[Z]=se?Yr(F[Z]):tr(F[Z]);y(null,ye,B,ne,de,le,G,te,se)}},C=(F,B,ne,de,le,G,te)=>{const se=B.el=F.el;let{patchFlag:ae,dynamicChildren:Z,dirs:ye}=B;ae|=F.patchFlag&16;const he=F.props||Ze,me=B.props||Ze;let Ee;if(ne&&Bi(ne,!1),(Ee=me.onVnodeBeforeUpdate)&&kn(Ee,ne,B,F),ye&&qi(B,F,ne,"beforeUpdate"),ne&&Bi(ne,!0),(he.innerHTML&&me.innerHTML==null||he.textContent&&me.textContent==null)&&f(se,""),Z?I(F.dynamicChildren,Z,se,ne,de,Nu(B,le),G):te||ue(F,B,se,null,ne,de,Nu(B,le),G,!1),ae>0){if(ae&16)_(se,he,me,ne,le);else if(ae&2&&he.class!==me.class&&s(se,"class",null,me.class,le),ae&4&&s(se,"style",he.style,me.style,le),ae&8){const Te=B.dynamicProps;for(let Ae=0;Ae<Te.length;Ae++){const Ve=Te[Ae],Oe=he[Ve],ze=me[Ve];(ze!==Oe||Ve==="value")&&s(se,Ve,Oe,ze,le,ne)}}ae&1&&F.children!==B.children&&f(se,B.children)}else!te&&Z==null&&_(se,he,me,ne,le);((Ee=me.onVnodeUpdated)||ye)&&Lt(()=>{Ee&&kn(Ee,ne,B,F),ye&&qi(B,F,ne,"updated")},de)},I=(F,B,ne,de,le,G,te)=>{for(let se=0;se<B.length;se++){const ae=F[se],Z=B[se],ye=ae.el&&(ae.type===Bn||!Ps(ae,Z)||ae.shapeFlag&70)?h(ae.el):ne;y(ae,Z,ye,null,de,le,G,te,!0)}},_=(F,B,ne,de,le)=>{if(B!==ne){if(B!==Ze)for(const G in B)!Lo(G)&&!(G in ne)&&s(F,G,B[G],null,le,de);for(const G in ne){if(Lo(G))continue;const te=ne[G],se=B[G];te!==se&&G!=="value"&&s(F,G,se,te,le,de)}"value"in ne&&s(F,"value",B.value,ne.value,le)}},R=(F,B,ne,de,le,G,te,se,ae)=>{const Z=B.el=F?F.el:a(""),ye=B.anchor=F?F.anchor:a("");let{patchFlag:he,dynamicChildren:me,slotScopeIds:Ee}=B;Ee&&(se=se?se.concat(Ee):Ee),F==null?(r(Z,ne,de),r(ye,ne,de),T(B.children||[],ne,ye,le,G,te,se,ae)):he>0&&he&64&&me&&F.dynamicChildren?(I(F.dynamicChildren,me,ne,le,G,te,se),(B.key!=null||le&&B===le.subTree)&&Zg(F,B,!0)):ue(F,B,ne,ye,le,G,te,se,ae)},O=(F,B,ne,de,le,G,te,se,ae)=>{B.slotScopeIds=se,F==null?B.shapeFlag&512?le.ctx.activate(B,ne,de,te,ae):U(B,ne,de,le,G,te,ae):z(F,B,ae)},U=(F,B,ne,de,le,G,te)=>{const se=F.component=fb(F,de,le);if(Dg(F)&&(se.ctx.renderer=ie),db(se,!1,te),se.asyncDep){if(le&&le.registerDep(se,J,te),!F.el){const ae=se.subTree=cn(fi);v(null,ae,B,ne)}}else J(se,F,B,ne,le,G,te)},z=(F,B,ne)=>{const de=B.component=F.component;if(tb(F,B,ne))if(de.asyncDep&&!de.asyncResolved){Y(de,B,ne);return}else de.next=B,de.update();else B.el=F.el,de.vnode=B},J=(F,B,ne,de,le,G,te)=>{const se=()=>{if(F.isMounted){let{next:he,bu:me,u:Ee,parent:Te,vnode:Ae}=F;{const mt=em(F);if(mt){he&&(he.el=Ae.el,Y(F,he,te)),mt.asyncDep.then(()=>{F.isUnmounted||se()});return}}let Ve=he,Oe;Bi(F,!1),he?(he.el=Ae.el,Y(F,he,te)):he=Ae,me&&Us(me),(Oe=he.props&&he.props.onVnodeBeforeUpdate)&&kn(Oe,Te,he,Ae),Bi(F,!0);const ze=Du(F),ut=F.subTree;F.subTree=ze,y(ut,ze,h(ut.el),V(ut),F,le,G),he.el=ze.el,Ve===null&&nb(F,ze.el),Ee&&Lt(Ee,le),(Oe=he.props&&he.props.onVnodeUpdated)&&Lt(()=>kn(Oe,Te,he,Ae),le)}else{let he;const{el:me,props:Ee}=B,{bm:Te,m:Ae,parent:Ve,root:Oe,type:ze}=F,ut=Bs(B);if(Bi(F,!1),Te&&Us(Te),!ut&&(he=Ee&&Ee.onVnodeBeforeMount)&&kn(he,Ve,B),Bi(F,!0),me&&be){const mt=()=>{F.subTree=Du(F),be(me,F.subTree,F,le,null)};ut&&ze.__asyncHydrate?ze.__asyncHydrate(me,F,mt):mt()}else{Oe.ce&&Oe.ce._injectChildStyle(ze);const mt=F.subTree=Du(F);y(null,mt,ne,de,F,le,G),B.el=mt.el}if(Ae&&Lt(Ae,le),!ut&&(he=Ee&&Ee.onVnodeMounted)){const mt=B;Lt(()=>kn(he,Ve,mt),le)}(B.shapeFlag&256||Ve&&Bs(Ve.vnode)&&Ve.vnode.shapeFlag&256)&&F.a&&Lt(F.a,le),F.isMounted=!0,B=ne=de=null}};F.scope.on();const ae=F.effect=new ug(se);F.scope.off();const Z=F.update=ae.run.bind(ae),ye=F.job=ae.runIfDirty.bind(ae);ye.i=F,ye.id=F.uid,ae.scheduler=()=>uf(ye),Bi(F,!0),Z()},Y=(F,B,ne)=>{B.component=F;const de=F.vnode.props;F.vnode=B,F.next=null,U0(F,B.props,de,ne),$0(F,B.children,ne),yi(),Nh(F),_i()},ue=(F,B,ne,de,le,G,te,se,ae=!1)=>{const Z=F&&F.children,ye=F?F.shapeFlag:0,he=B.children,{patchFlag:me,shapeFlag:Ee}=B;if(me>0){if(me&128){$(Z,he,ne,de,le,G,te,se,ae);return}else if(me&256){ee(Z,he,ne,de,le,G,te,se,ae);return}}Ee&8?(ye&16&&j(Z,le,G),he!==Z&&f(ne,he)):ye&16?Ee&16?$(Z,he,ne,de,le,G,te,se,ae):j(Z,le,G,!0):(ye&8&&f(ne,""),Ee&16&&T(he,ne,de,le,G,te,se,ae))},ee=(F,B,ne,de,le,G,te,se,ae)=>{F=F||Vs,B=B||Vs;const Z=F.length,ye=B.length,he=Math.min(Z,ye);let me;for(me=0;me<he;me++){const Ee=B[me]=ae?Yr(B[me]):tr(B[me]);y(F[me],Ee,ne,null,le,G,te,se,ae)}Z>ye?j(F,le,G,!0,!1,he):T(B,ne,de,le,G,te,se,ae,he)},$=(F,B,ne,de,le,G,te,se,ae)=>{let Z=0;const ye=B.length;let he=F.length-1,me=ye-1;for(;Z<=he&&Z<=me;){const Ee=F[Z],Te=B[Z]=ae?Yr(B[Z]):tr(B[Z]);if(Ps(Ee,Te))y(Ee,Te,ne,null,le,G,te,se,ae);else break;Z++}for(;Z<=he&&Z<=me;){const Ee=F[he],Te=B[me]=ae?Yr(B[me]):tr(B[me]);if(Ps(Ee,Te))y(Ee,Te,ne,null,le,G,te,se,ae);else break;he--,me--}if(Z>he){if(Z<=me){const Ee=me+1,Te=Ee<ye?B[Ee].el:de;for(;Z<=me;)y(null,B[Z]=ae?Yr(B[Z]):tr(B[Z]),ne,Te,le,G,te,se,ae),Z++}}else if(Z>me)for(;Z<=he;)q(F[Z],le,G,!0),Z++;else{const Ee=Z,Te=Z,Ae=new Map;for(Z=Te;Z<=me;Z++){const vt=B[Z]=ae?Yr(B[Z]):tr(B[Z]);vt.key!=null&&Ae.set(vt.key,Z)}let Ve,Oe=0;const ze=me-Te+1;let ut=!1,mt=0;const nn=new Array(ze);for(Z=0;Z<ze;Z++)nn[Z]=0;for(Z=Ee;Z<=he;Z++){const vt=F[Z];if(Oe>=ze){q(vt,le,G,!0);continue}let bt;if(vt.key!=null)bt=Ae.get(vt.key);else for(Ve=Te;Ve<=me;Ve++)if(nn[Ve-Te]===0&&Ps(vt,B[Ve])){bt=Ve;break}bt===void 0?q(vt,le,G,!0):(nn[bt-Te]=Z+1,bt>=mt?mt=bt:ut=!0,y(vt,B[bt],ne,null,le,G,te,se,ae),Oe++)}const dn=ut?G0(nn):Vs;for(Ve=dn.length-1,Z=ze-1;Z>=0;Z--){const vt=Te+Z,bt=B[vt],rn=vt+1<ye?B[vt+1].el:de;nn[Z]===0?y(null,bt,ne,rn,le,G,te,se,ae):ut&&(Ve<0||Z!==dn[Ve]?x(bt,ne,rn,2):Ve--)}}},x=(F,B,ne,de,le=null)=>{const{el:G,type:te,transition:se,children:ae,shapeFlag:Z}=F;if(Z&6){x(F.component.subTree,B,ne,de);return}if(Z&128){F.suspense.move(B,ne,de);return}if(Z&64){te.move(F,B,ne,ie);return}if(te===Bn){r(G,B,ne);for(let he=0;he<ae.length;he++)x(ae[he],B,ne,de);r(F.anchor,B,ne);return}if(te===xu){w(F,B,ne);return}if(de!==2&&Z&1&&se)if(de===0)se.beforeEnter(G),r(G,B,ne),Lt(()=>se.enter(G),le);else{const{leave:he,delayLeave:me,afterLeave:Ee}=se,Te=()=>r(G,B,ne),Ae=()=>{he(G,()=>{Te(),Ee&&Ee()})};me?me(G,Te,Ae):Ae()}else r(G,B,ne)},q=(F,B,ne,de=!1,le=!1)=>{const{type:G,props:te,ref:se,children:ae,dynamicChildren:Z,shapeFlag:ye,patchFlag:he,dirs:me,cacheIndex:Ee}=F;if(he===-2&&(le=!1),se!=null&&ll(se,null,ne,F,!0),Ee!=null&&(B.renderCache[Ee]=void 0),ye&256){B.ctx.deactivate(F);return}const Te=ye&1&&me,Ae=!Bs(F);let Ve;if(Ae&&(Ve=te&&te.onVnodeBeforeUnmount)&&kn(Ve,B,F),ye&6)X(F.component,ne,de);else{if(ye&128){F.suspense.unmount(ne,de);return}Te&&qi(F,null,B,"beforeUnmount"),ye&64?F.type.remove(F,B,ne,ie,de):Z&&!Z.hasOnce&&(G!==Bn||he>0&&he&64)?j(Z,B,ne,!1,!0):(G===Bn&&he&384||!le&&ye&16)&&j(ae,B,ne),de&&H(F)}(Ae&&(Ve=te&&te.onVnodeUnmounted)||Te)&&Lt(()=>{Ve&&kn(Ve,B,F),Te&&qi(F,null,B,"unmounted")},ne)},H=F=>{const{type:B,el:ne,anchor:de,transition:le}=F;if(B===Bn){re(ne,de);return}if(B===xu){g(F);return}const G=()=>{i(ne),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(F.shapeFlag&1&&le&&!le.persisted){const{leave:te,delayLeave:se}=le,ae=()=>te(ne,G);se?se(F.el,G,ae):ae()}else G()},re=(F,B)=>{let ne;for(;F!==B;)ne=d(F),i(F),F=ne;i(B)},X=(F,B,ne)=>{const{bum:de,scope:le,job:G,subTree:te,um:se,m:ae,a:Z}=F;cl(ae),cl(Z),de&&Us(de),le.stop(),G&&(G.flags|=8,q(te,F,B,ne)),se&&Lt(se,B),Lt(()=>{F.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},j=(F,B,ne,de=!1,le=!1,G=0)=>{for(let te=G;te<F.length;te++)q(F[te],B,ne,de,le)},V=F=>{if(F.shapeFlag&6)return V(F.component.subTree);if(F.shapeFlag&128)return F.suspense.next();const B=d(F.anchor||F.el),ne=B&&B[v0];return ne?d(ne):B};let W=!1;const Q=(F,B,ne)=>{F==null?B._vnode&&q(B._vnode,null,null,!0):y(B._vnode||null,F,B,null,null,null,ne),B._vnode=F,W||(W=!0,Nh(),Pg(),W=!1)},ie={p:y,um:q,m:x,r:H,mt:U,mc:T,pc:ue,pbc:I,n:V,o:t};let ge,be;return{render:Q,hydrate:ge,createApp:M0(Q,ge)}}function Nu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Bi({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function K0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Zg(t,e,n=!1){const r=t.children,i=e.children;if(Ne(r)&&Ne(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Yr(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Zg(o,a)),a.type===zl&&(a.el=o.el)}}function G0(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function em(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:em(e)}function cl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const W0=Symbol.for("v-scx"),Q0=()=>xn(W0);function En(t,e,n){return tm(t,e,n)}function tm(t,e,n=Ze){const{immediate:r,deep:i,flush:s,once:o}=n,a=Pt({},n),l=e&&r||!e&&s!=="post";let c;if(na){if(s==="sync"){const p=Q0();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=rr,p.resume=rr,p.pause=rr,p}}const f=Ot;a.call=(p,E,y)=>lr(p,f,E,y);let h=!1;s==="post"?a.scheduler=p=>{Lt(p,f&&f.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(p,E)=>{E?p():uf(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,f&&(p.id=f.uid,p.i=f))};const d=h0(t,e,a);return na&&(c?c.push(d):l&&d()),d}function Y0(t,e,n){const r=this.proxy,i=ft(t)?t.includes(".")?nm(r,t):()=>r[t]:t.bind(r,r);let s;Me(e)?s=e:(s=e.handler,n=e);const o=_a(this),a=tm(i,s.bind(r),n);return o(),a}function nm(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const X0=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Mn(e)}Modifiers`]||t[`${ns(e)}Modifiers`];function J0(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ze;let i=n;const s=e.startsWith("update:"),o=s&&X0(r,e.slice(7));o&&(o.trim&&(i=n.map(f=>ft(f)?f.trim():f)),o.number&&(i=n.map(oc)));let a,l=r[a=Iu(e)]||r[a=Iu(Mn(e))];!l&&s&&(l=r[a=Iu(ns(e))]),l&&lr(l,t,6,i);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,lr(c,t,6,i)}}function rm(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Me(t)){const l=c=>{const f=rm(c,e,!0);f&&(a=!0,Pt(o,f))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(ot(t)&&r.set(t,null),null):(Ne(s)?s.forEach(l=>o[l]=null):Pt(o,s),ot(t)&&r.set(t,o),o)}function Hl(t,e){return!t||!Ll(e)?!1:(e=e.slice(2).replace(/Once$/,""),We(t,e[0].toLowerCase()+e.slice(1))||We(t,ns(e))||We(t,e))}function Du(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:f,props:h,data:d,setupState:p,ctx:E,inheritAttrs:y}=t,b=al(t);let v,m;try{if(n.shapeFlag&4){const g=i||r,k=g;v=tr(c.call(k,g,f,h,p,d,E)),m=a}else{const g=e;v=tr(g.length>1?g(h,{attrs:a,slots:o,emit:l}):g(h,null)),m=e.props?a:Z0(a)}}catch(g){Uo.length=0,jl(g,t,1),v=cn(fi)}let w=v;if(m&&y!==!1){const g=Object.keys(m),{shapeFlag:k}=w;g.length&&k&7&&(s&&g.some(Qc)&&(m=eb(m,s)),w=Xi(w,m,!1,!0))}return n.dirs&&(w=Xi(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&ql(w,n.transition),v=w,al(b),v}const Z0=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ll(n))&&((e||(e={}))[n]=t[n]);return e},eb=(t,e)=>{const n={};for(const r in t)(!Qc(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function tb(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Uh(r,o,c):!!o;if(l&8){const f=e.dynamicProps;for(let h=0;h<f.length;h++){const d=f[h];if(o[d]!==r[d]&&!Hl(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Uh(r,o,c):!0:!!o;return!1}function Uh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Hl(n,s))return!0}return!1}function nb({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const fl=t=>t.__isSuspense;function rb(t,e){e&&e.pendingBranch?Ne(t)?e.effects.push(...t):e.effects.push(t):g0(t)}const Bn=Symbol.for("v-fgt"),zl=Symbol.for("v-txt"),fi=Symbol.for("v-cmt"),xu=Symbol.for("v-stc"),Uo=[];let bn=null;function Et(t=!1){Uo.push(bn=t?null:[])}function ib(){Uo.pop(),bn=Uo[Uo.length-1]||null}let ea=1;function jh(t,e=!1){ea+=t,t<0&&bn&&e&&(bn.hasOnce=!0)}function im(t){return t.dynamicChildren=ea>0?bn||Vs:null,ib(),ea>0&&bn&&bn.push(t),t}function Vt(t,e,n,r,i,s){return im(ke(t,e,n,r,i,s,!0))}function sm(t,e,n,r,i){return im(cn(t,e,n,r,i,!0))}function ta(t){return t?t.__v_isVNode===!0:!1}function Ps(t,e){return t.type===e.type&&t.key===e.key}const om=({key:t})=>t??null,Ka=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ft(t)||gt(t)||Me(t)?{i:tn,r:t,k:e,f:!!n}:t:null);function ke(t,e=null,n=null,r=0,i=null,s=t===Bn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&om(e),ref:e&&Ka(e),scopeId:Cg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:tn};return a?(df(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=ft(n)?8:16),ea>0&&!o&&bn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&bn.push(l),l}const cn=sb;function sb(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Ug)&&(t=fi),ta(t)){const a=Xi(t,e,!0);return n&&df(a,n),ea>0&&!s&&bn&&(a.shapeFlag&6?bn[bn.indexOf(t)]=a:bn.push(a)),a.patchFlag=-2,a}if(vb(t)&&(t=t.__vccOpts),e){e=ob(e);let{class:a,style:l}=e;a&&!ft(a)&&(e.class=Qo(a)),ot(l)&&(af(l)&&!Ne(l)&&(l=Pt({},l)),e.style=Jc(l))}const o=ft(t)?1:fl(t)?128:y0(t)?64:ot(t)?4:Me(t)?2:0;return ke(t,e,n,r,i,o,s,!0)}function ob(t){return t?af(t)||Kg(t)?Pt({},t):t:null}function Xi(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?lb(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&om(c),ref:e&&e.ref?n&&s?Ne(s)?s.concat(Ka(e)):[s,Ka(e)]:Ka(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Bn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Xi(t.ssContent),ssFallback:t.ssFallback&&Xi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&ql(f,l.clone(f)),f}function ab(t=" ",e=0){return cn(zl,null,t,e)}function gc(t="",e=!1){return e?(Et(),sm(fi,null,t)):cn(fi,null,t)}function tr(t){return t==null||typeof t=="boolean"?cn(fi):Ne(t)?cn(Bn,null,t.slice()):ta(t)?Yr(t):cn(zl,null,String(t))}function Yr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Xi(t)}function df(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ne(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),df(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Kg(e)?e._ctx=tn:i===3&&tn&&(tn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Me(e)?(e={default:e,_ctx:tn},n=32):(e=String(e),r&64?(n=16,e=[ab(e)]):n=8);t.children=e,t.shapeFlag|=n}function lb(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Qo([e.class,r.class]));else if(i==="style")e.style=Jc([e.style,r.style]);else if(Ll(i)){const s=e[i],o=r[i];o&&s!==o&&!(Ne(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function kn(t,e,n,r=null){lr(t,e,7,[n,r])}const ub=$g();let cb=0;function fb(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||ub,s={uid:cb++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new og(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wg(r,i),emitsOptions:rm(r,i),emit:null,emitted:null,propsDefaults:Ze,inheritAttrs:r.inheritAttrs,ctx:Ze,data:Ze,props:Ze,attrs:Ze,slots:Ze,refs:Ze,setupState:Ze,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=J0.bind(null,s),t.ce&&t.ce(s),s}let Ot=null;const hb=()=>Ot||tn;let hl,mc;{const t=Fl(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};hl=e("__VUE_INSTANCE_SETTERS__",n=>Ot=n),mc=e("__VUE_SSR_SETTERS__",n=>na=n)}const _a=t=>{const e=Ot;return hl(t),t.scope.on(),()=>{t.scope.off(),hl(e)}},qh=()=>{Ot&&Ot.scope.off(),hl(null)};function am(t){return t.vnode.shapeFlag&4}let na=!1;function db(t,e=!1,n=!1){e&&mc(e);const{props:r,children:i}=t.vnode,s=am(t);F0(t,r,s,e),B0(t,i,n);const o=s?pb(t,e):void 0;return e&&mc(!1),o}function pb(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,P0);const{setup:r}=n;if(r){yi();const i=t.setupContext=r.length>1?mb(t):null,s=_a(t),o=ya(r,t,0,[t.props,i]),a=Zp(o);if(_i(),s(),(a||t.sp)&&!Bs(t)&&Ng(t),a){if(o.then(qh,qh),e)return o.then(l=>{Bh(t,l,e)}).catch(l=>{jl(l,t,0)});t.asyncDep=o}else Bh(t,o,e)}else lm(t,e)}function Bh(t,e,n){Me(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ot(e)&&(t.setupState=Sg(e)),lm(t,n)}let $h;function lm(t,e,n){const r=t.type;if(!t.render){if(!e&&$h&&!r.render){const i=r.template||ff(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,c=Pt(Pt({isCustomElement:s,delimiters:a},o),l);r.render=$h(i,c)}}t.render=r.render||rr}{const i=_a(t);yi();try{k0(t)}finally{_i(),i()}}}const gb={get(t,e){return zt(t,"get",""),t[e]}};function mb(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,gb),slots:t.slots,emit:t.emit,expose:e}}function Kl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Sg(lf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Fo)return Fo[n](t)},has(e,n){return n in e||n in Fo}})):t.proxy}function vc(t,e=!0){return Me(t)?t.displayName||t.name:t.name||e&&t.__name}function vb(t){return Me(t)&&"__vccOpts"in t}const Cn=(t,e)=>c0(t,e,na);function pf(t,e,n){const r=arguments.length;return r===2?ot(e)&&!Ne(e)?ta(e)?cn(t,null,[e]):cn(t,e):cn(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ta(n)&&(n=[n]),cn(t,e,n))}const yb="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yc;const Hh=typeof window<"u"&&window.trustedTypes;if(Hh)try{yc=Hh.createPolicy("vue",{createHTML:t=>t})}catch{}const um=yc?t=>yc.createHTML(t):t=>t,_b="http://www.w3.org/2000/svg",bb="http://www.w3.org/1998/Math/MathML",Ir=typeof document<"u"?document:null,zh=Ir&&Ir.createElement("template"),Eb={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Ir.createElementNS(_b,t):e==="mathml"?Ir.createElementNS(bb,t):n?Ir.createElement(t,{is:n}):Ir.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Ir.createTextNode(t),createComment:t=>Ir.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ir.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{zh.innerHTML=um(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=zh.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Tb=Symbol("_vtc");function wb(t,e,n){const r=t[Tb];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const dl=Symbol("_vod"),cm=Symbol("_vsh"),tC={beforeMount(t,{value:e},{transition:n}){t[dl]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ao(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Ao(t,!0),r.enter(t)):r.leave(t,()=>{Ao(t,!1)}):Ao(t,e))},beforeUnmount(t,{value:e}){Ao(t,e)}};function Ao(t,e){t.style.display=e?t[dl]:"none",t[cm]=!e}const Ab=Symbol(""),Ib=/(^|;)\s*display\s*:/;function Sb(t,e,n){const r=t.style,i=ft(n);let s=!1;if(n&&!i){if(e)if(ft(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Ga(r,a,"")}else for(const o in e)n[o]==null&&Ga(r,o,"");for(const o in n)o==="display"&&(s=!0),Ga(r,o,n[o])}else if(i){if(e!==n){const o=r[Ab];o&&(n+=";"+o),r.cssText=n,s=Ib.test(n)}}else e&&t.removeAttribute("style");dl in t&&(t[dl]=s?r.display:"",t[cm]&&(r.display="none"))}const Kh=/\s*!important$/;function Ga(t,e,n){if(Ne(n))n.forEach(r=>Ga(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Rb(t,e);Kh.test(n)?t.setProperty(ns(r),n.replace(Kh,""),"important"):t[r]=n}}const Gh=["Webkit","Moz","ms"],Lu={};function Rb(t,e){const n=Lu[e];if(n)return n;let r=Mn(e);if(r!=="filter"&&r in t)return Lu[e]=r;r=Vl(r);for(let i=0;i<Gh.length;i++){const s=Gh[i]+r;if(s in t)return Lu[e]=s}return e}const Wh="http://www.w3.org/1999/xlink";function Qh(t,e,n,r,i,s=M_(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Wh,e.slice(6,e.length)):t.setAttributeNS(Wh,e,n):n==null||s&&!rg(n)?t.removeAttribute(e):t.setAttribute(e,s?"":vi(n)?String(n):n)}function Yh(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?um(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=rg(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function ks(t,e,n,r){t.addEventListener(e,n,r)}function Ob(t,e,n,r){t.removeEventListener(e,n,r)}const Xh=Symbol("_vei");function Pb(t,e,n,r,i=null){const s=t[Xh]||(t[Xh]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=kb(e);if(r){const c=s[e]=Db(r,i);ks(t,a,c,l)}else o&&(Ob(t,a,o,l),s[e]=void 0)}}const Jh=/(?:Once|Passive|Capture)$/;function kb(t){let e;if(Jh.test(t)){e={};let r;for(;r=t.match(Jh);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ns(t.slice(2)),e]}let Mu=0;const Cb=Promise.resolve(),Nb=()=>Mu||(Cb.then(()=>Mu=0),Mu=Date.now());function Db(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;lr(xb(r,n.value),e,5,[r])};return n.value=t,n.attached=Nb(),n}function xb(t,e){if(Ne(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Zh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Lb=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?wb(t,r,o):e==="style"?Sb(t,n,r):Ll(e)?Qc(e)||Pb(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Mb(t,e,r,o))?(Yh(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Qh(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ft(r))?Yh(t,Mn(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Qh(t,e,r,o))};function Mb(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Zh(e)&&Me(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Zh(e)&&ft(n)?!1:e in t}const ed=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ne(e)?n=>Us(e,n):e};function Vb(t){t.target.composing=!0}function td(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vu=Symbol("_assign"),Zr={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Vu]=ed(i);const s=r||i.props&&i.props.type==="number";ks(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=oc(a)),t[Vu](a)}),n&&ks(t,"change",()=>{t.value=t.value.trim()}),e||(ks(t,"compositionstart",Vb),ks(t,"compositionend",td),ks(t,"change",td))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[Vu]=ed(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?oc(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},Fb=["ctrl","shift","alt","meta"],Ub={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Fb.some(n=>t[`${n}Key`]&&!e.includes(n))},nC=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=Ub[e[o]];if(a&&a(i,e))return}return t(i,...s)})},jb=Pt({patchProp:Lb},Eb);let nd;function qb(){return nd||(nd=H0(jb))}const Bb=(...t)=>{const e=qb().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Hb(r);if(!i)return;const s=e._component;!Me(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,$b(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function $b(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Hb(t){return ft(t)?document.querySelector(t):t}var zb=!1;/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let fm;const Gl=t=>fm=t,hm=Symbol();function _c(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var jo;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(jo||(jo={}));function Kb(){const t=ag(!0),e=t.run(()=>at({}));let n=[],r=[];const i=lf({install(s){Gl(i),i._a=s,s.provide(hm,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!zb?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const dm=()=>{};function rd(t,e,n,r=dm){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&lg()&&V_(i),i}function Rs(t,...e){t.slice().forEach(n=>{n(...e)})}const Gb=t=>t(),id=Symbol(),Fu=Symbol();function bc(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];_c(i)&&_c(r)&&t.hasOwnProperty(n)&&!gt(r)&&!oi(r)?t[n]=bc(i,r):t[n]=r}return t}const Wb=Symbol();function Qb(t){return!_c(t)||!t.hasOwnProperty(Wb)}const{assign:Wr}=Object;function Yb(t){return!!(gt(t)&&t.effect)}function Xb(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const f=o0(n.state.value[t]);return Wr(f,s,Object.keys(o||{}).reduce((h,d)=>(h[d]=lf(Cn(()=>{Gl(n);const p=n._s.get(t);return o[d].call(p,p)})),h),{}))}return l=pm(t,c,e,n,r,!0),l}function pm(t,e,n={},r,i,s){let o;const a=Wr({actions:{}},n),l={deep:!0};let c,f,h=[],d=[],p;const E=r.state.value[t];!s&&!E&&(r.state.value[t]={}),at({});let y;function b(T){let C;c=f=!1,typeof T=="function"?(T(r.state.value[t]),C={type:jo.patchFunction,storeId:t,events:p}):(bc(r.state.value[t],T),C={type:jo.patchObject,payload:T,storeId:t,events:p});const I=y=Symbol();Jo().then(()=>{y===I&&(c=!0)}),f=!0,Rs(h,C,r.state.value[t])}const v=s?function(){const{state:C}=n,I=C?C():{};this.$patch(_=>{Wr(_,I)})}:dm;function m(){o.stop(),h=[],d=[],r._s.delete(t)}const w=(T,C="")=>{if(id in T)return T[Fu]=C,T;const I=function(){Gl(r);const _=Array.from(arguments),R=[],O=[];function U(Y){R.push(Y)}function z(Y){O.push(Y)}Rs(d,{args:_,name:I[Fu],store:k,after:U,onError:z});let J;try{J=T.apply(this&&this.$id===t?this:k,_)}catch(Y){throw Rs(O,Y),Y}return J instanceof Promise?J.then(Y=>(Rs(R,Y),Y)).catch(Y=>(Rs(O,Y),Promise.reject(Y))):(Rs(R,J),J)};return I[id]=!0,I[Fu]=C,I},g={_p:r,$id:t,$onAction:rd.bind(null,d),$patch:b,$reset:v,$subscribe(T,C={}){const I=rd(h,T,C.detached,()=>_()),_=o.run(()=>En(()=>r.state.value[t],R=>{(C.flush==="sync"?f:c)&&T({storeId:t,type:jo.direct,events:p},R)},Wr({},l,C)));return I},$dispose:m},k=va(g);r._s.set(t,k);const S=(r._a&&r._a.runWithContext||Gb)(()=>r._e.run(()=>(o=ag()).run(()=>e({action:w}))));for(const T in S){const C=S[T];if(gt(C)&&!Yb(C)||oi(C))s||(E&&Qb(C)&&(gt(C)?C.value=E[T]:bc(C,E[T])),r.state.value[t][T]=C);else if(typeof C=="function"){const I=w(C,T);S[T]=I,a.actions[T]=C}}return Wr(k,S),Wr(Ge(k),S),Object.defineProperty(k,"$state",{get:()=>r.state.value[t],set:T=>{b(C=>{Wr(C,T)})}}),r._p.forEach(T=>{Wr(k,o.run(()=>T({store:k,app:r._a,pinia:r,options:a})))}),E&&s&&n.hydrate&&n.hydrate(k.$state,E),c=!0,f=!0,k}/*! #__NO_SIDE_EFFECTS__ */function Wl(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const c=V0();return a=a||(c?xn(hm,null):null),a&&Gl(a),a=fm,a._s.has(r)||(s?pm(r,e,i,a):Xb(r,i,a)),a._s.get(r)}return o.$id=r,o}var sd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Jb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(d=64)),r.push(n[f],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new Zb;const d=s<<2|a>>4;if(r.push(d),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const E=c<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eE=function(t){const e=gm(t);return mm.encodeByteArray(e,!0)},pl=function(t){return eE(t).replace(/\./g,"")},vm=function(t){try{return mm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=()=>tE().__FIREBASE_DEFAULTS__,rE=()=>{if(typeof process>"u"||typeof sd>"u")return;const t=sd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vm(t[1]);return e&&JSON.parse(e)},Ql=()=>{try{return nE()||rE()||iE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ym=t=>{var e,n;return(n=(e=Ql())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sE=t=>{const e=ym(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_m=()=>{var t;return(t=Ql())===null||t===void 0?void 0:t.config},bm=t=>{var e;return(e=Ql())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pl(JSON.stringify(n)),pl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function uE(){var t;const e=(t=Ql())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Em(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hE(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dE(){return!uE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tm(){try{return typeof indexedDB=="object"}catch{return!1}}function wm(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function pE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="FirebaseError";class Qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gE,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rs.prototype.create)}}class rs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mE(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qn(i,a,r)}}function mE(t,e){return t.replace(vE,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vE=/\{\$([^}]+)}/g;function yE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ra(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(od(s)&&od(o)){if(!ra(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function od(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Po(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ko(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _E(t,e){const n=new bE(t,e);return n.subscribe.bind(n)}class bE{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EE(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Uu),i.error===void 0&&(i.error=Uu),i.complete===void 0&&(i.complete=Uu);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EE(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uu(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=1e3,wE=2,AE=4*60*60*1e3,IE=.5;function ad(t,e=TE,n=wE){const r=e*Math.pow(n,t),i=Math.round(IE*r*(Math.random()-.5)*2);return Math.min(AE,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class Kn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OE(e))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hi){return this.instances.has(e)}getOptions(e=Hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hi){return this.component?this.component.multipleInstances?e:Hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RE(t){return t===Hi?void 0:t}function OE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const kE={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},CE=Ue.INFO,NE={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},DE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NE[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yl{constructor(e){this.name=e,this._logLevel=CE,this._logHandler=DE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const xE=(t,e)=>e.some(n=>t instanceof n);let ld,ud;function LE(){return ld||(ld=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ME(){return ud||(ud=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Am=new WeakMap,Ec=new WeakMap,Im=new WeakMap,ju=new WeakMap,gf=new WeakMap;function VE(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ai(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Am.set(n,t)}).catch(()=>{}),gf.set(e,t),e}function FE(t){if(Ec.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ec.set(t,e)}let Tc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ec.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Im.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UE(t){Tc=t(Tc)}function jE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qu(this),e,...n);return Im.set(r,e.sort?e.sort():[e]),ai(r)}:ME().includes(t)?function(...e){return t.apply(qu(this),e),ai(Am.get(this))}:function(...e){return ai(t.apply(qu(this),e))}}function qE(t){return typeof t=="function"?jE(t):(t instanceof IDBTransaction&&FE(t),xE(t,LE())?new Proxy(t,Tc):t)}function ai(t){if(t instanceof IDBRequest)return VE(t);if(ju.has(t))return ju.get(t);const e=qE(t);return e!==t&&(ju.set(t,e),gf.set(e,t)),e}const qu=t=>gf.get(t);function Sm(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ai(o.result),l.oldVersion,l.newVersion,ai(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const BE=["get","getKey","getAll","getAllKeys","count"],$E=["put","add","delete","clear"],Bu=new Map;function cd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bu.get(e))return Bu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$E.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BE.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Bu.set(e,s),s}UE(t=>({...t,get:(e,n,r)=>cd(e,n)||t.get(e,n,r),has:(e,n)=>!!cd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wc="@firebase/app",fd="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Yl("@firebase/app"),KE="@firebase/app-compat",GE="@firebase/analytics-compat",WE="@firebase/analytics",QE="@firebase/app-check-compat",YE="@firebase/app-check",XE="@firebase/auth",JE="@firebase/auth-compat",ZE="@firebase/database",e1="@firebase/data-connect",t1="@firebase/database-compat",n1="@firebase/functions",r1="@firebase/functions-compat",i1="@firebase/installations",s1="@firebase/installations-compat",o1="@firebase/messaging",a1="@firebase/messaging-compat",l1="@firebase/performance",u1="@firebase/performance-compat",c1="@firebase/remote-config",f1="@firebase/remote-config-compat",h1="@firebase/storage",d1="@firebase/storage-compat",p1="@firebase/firestore",g1="@firebase/vertexai",m1="@firebase/firestore-compat",v1="firebase",y1="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="[DEFAULT]",_1={[wc]:"fire-core",[KE]:"fire-core-compat",[WE]:"fire-analytics",[GE]:"fire-analytics-compat",[YE]:"fire-app-check",[QE]:"fire-app-check-compat",[XE]:"fire-auth",[JE]:"fire-auth-compat",[ZE]:"fire-rtdb",[e1]:"fire-data-connect",[t1]:"fire-rtdb-compat",[n1]:"fire-fn",[r1]:"fire-fn-compat",[i1]:"fire-iid",[s1]:"fire-iid-compat",[o1]:"fire-fcm",[a1]:"fire-fcm-compat",[l1]:"fire-perf",[u1]:"fire-perf-compat",[c1]:"fire-rc",[f1]:"fire-rc-compat",[h1]:"fire-gcs",[d1]:"fire-gcs-compat",[p1]:"fire-fst",[m1]:"fire-fst-compat",[g1]:"fire-vertex","fire-js":"fire-js",[v1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new Map,b1=new Map,Ic=new Map;function hd(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ur(t){const e=t.name;if(Ic.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Ic.set(e,t);for(const n of gl.values())hd(n,t);for(const n of b1.values())hd(n,t);return!0}function is(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Or(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new rs("app","Firebase",E1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=y1;function Rm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ac,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw li.create("bad-app-name",{appName:String(i)});if(n||(n=_m()),!n)throw li.create("no-options");const s=gl.get(i);if(s){if(ra(n,s.options)&&ra(r,s.config))return s;throw li.create("duplicate-app",{appName:i})}const o=new PE(i);for(const l of Ic.values())o.addComponent(l);const a=new T1(n,r,o);return gl.set(i,a),a}function mf(t=Ac){const e=gl.get(t);if(!e&&t===Ac&&_m())return Rm();if(!e)throw li.create("no-app",{appName:t});return e}function Ln(t,e,n){var r;let i=(r=_1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(a.join(" "));return}ur(new Kn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="firebase-heartbeat-database",A1=1,ia="firebase-heartbeat-store";let $u=null;function Om(){return $u||($u=Sm(w1,A1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ia)}catch(n){console.warn(n)}}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),$u}async function I1(t){try{const n=(await Om()).transaction(ia),r=await n.objectStore(ia).get(Pm(t));return await n.done,r}catch(e){if(e instanceof Qn)Dr.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(n.message)}}}async function dd(t,e){try{const r=(await Om()).transaction(ia,"readwrite");await r.objectStore(ia).put(e,Pm(t)),await r.done}catch(n){if(n instanceof Qn)Dr.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(r.message)}}}function Pm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=1024,R1=30*24*60*60*1e3;class O1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=R1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pd(),{heartbeatsToSend:r,unsentEntries:i}=P1(this._heartbeatsCache.heartbeats),s=pl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dr.warn(n),""}}}function pd(){return new Date().toISOString().substring(0,10)}function P1(t,e=S1){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gd(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tm()?wm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gd(t){return pl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t){ur(new Kn("platform-logger",e=>new HE(e),"PRIVATE")),ur(new Kn("heartbeat",e=>new O1(e),"PRIVATE")),Ln(wc,fd,t),Ln(wc,fd,"esm2017"),Ln("fire-js","")}C1("");var N1="firebase",D1="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(N1,D1,"app");const km="@firebase/installations",vf="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=1e4,Nm=`w:${vf}`,Dm="FIS_v2",x1="https://firebaseinstallations.googleapis.com/v1",L1=60*60*1e3,M1="installations",V1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ji=new rs(M1,V1,F1);function xm(t){return t instanceof Qn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm({projectId:t}){return`${x1}/projects/${t}/installations`}function Mm(t){return{token:t.token,requestStatus:2,expiresIn:j1(t.expiresIn),creationTime:Date.now()}}async function Vm(t,e){const r=(await e.json()).error;return Ji.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Fm({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function U1(t,{refreshToken:e}){const n=Fm(t);return n.append("Authorization",q1(e)),n}async function Um(t){const e=await t();return e.status>=500&&e.status<600?t():e}function j1(t){return Number(t.replace("s","000"))}function q1(t){return`${Dm} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Lm(t),i=Fm(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Dm,appId:t.appId,sdkVersion:Nm},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Um(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Mm(c.authToken)}}else throw await Vm("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=/^[cdef][\w-]{21}$/,Sc="";function z1(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=K1(t);return H1.test(n)?n:Sc}catch{return Sc}}function K1(t){return $1(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new Map;function Bm(t,e){const n=Xl(t);$m(n,e),G1(n,e)}function $m(t,e){const n=qm.get(t);if(n)for(const r of n)r(e)}function G1(t,e){const n=W1();n&&n.postMessage({key:t,fid:e}),Q1()}let zi=null;function W1(){return!zi&&"BroadcastChannel"in self&&(zi=new BroadcastChannel("[Firebase] FID Change"),zi.onmessage=t=>{$m(t.data.key,t.data.fid)}),zi}function Q1(){qm.size===0&&zi&&(zi.close(),zi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="firebase-installations-database",X1=1,Zi="firebase-installations-store";let Hu=null;function yf(){return Hu||(Hu=Sm(Y1,X1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zi)}}})),Hu}async function ml(t,e){const n=Xl(t),i=(await yf()).transaction(Zi,"readwrite"),s=i.objectStore(Zi),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Bm(t,e.fid),e}async function Hm(t){const e=Xl(t),r=(await yf()).transaction(Zi,"readwrite");await r.objectStore(Zi).delete(e),await r.done}async function Jl(t,e){const n=Xl(t),i=(await yf()).transaction(Zi,"readwrite"),s=i.objectStore(Zi),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Bm(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(t){let e;const n=await Jl(t.appConfig,r=>{const i=J1(r),s=Z1(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Sc?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function J1(t){const e=t||{fid:z1(),registrationStatus:0};return zm(e)}function Z1(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ji.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=eT(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tT(t)}:{installationEntry:e}}async function eT(t,e){try{const n=await B1(t,e);return ml(t.appConfig,n)}catch(n){throw xm(n)&&n.customData.serverCode===409?await Hm(t.appConfig):await ml(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function tT(t){let e=await md(t.appConfig);for(;e.registrationStatus===1;)await jm(100),e=await md(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await _f(t);return r||n}return e}function md(t){return Jl(t,e=>{if(!e)throw Ji.create("installation-not-found");return zm(e)})}function zm(t){return nT(t)?{fid:t.fid,registrationStatus:0}:t}function nT(t){return t.registrationStatus===1&&t.registrationTime+Cm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT({appConfig:t,heartbeatServiceProvider:e},n){const r=iT(t,n),i=U1(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Nm,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Um(()=>fetch(r,a));if(l.ok){const c=await l.json();return Mm(c)}else throw await Vm("Generate Auth Token",l)}function iT(t,{fid:e}){return`${Lm(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(t,e=!1){let n;const r=await Jl(t.appConfig,s=>{if(!Km(s))throw Ji.create("not-registered");const o=s.authToken;if(!e&&aT(o))return s;if(o.requestStatus===1)return n=sT(t,e),s;{if(!navigator.onLine)throw Ji.create("app-offline");const a=uT(s);return n=oT(t,a),a}});return n?await n:r.authToken}async function sT(t,e){let n=await vd(t.appConfig);for(;n.authToken.requestStatus===1;)await jm(100),n=await vd(t.appConfig);const r=n.authToken;return r.requestStatus===0?bf(t,e):r}function vd(t){return Jl(t,e=>{if(!Km(e))throw Ji.create("not-registered");const n=e.authToken;return cT(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function oT(t,e){try{const n=await rT(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ml(t.appConfig,r),n}catch(n){if(xm(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Hm(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ml(t.appConfig,r)}throw n}}function Km(t){return t!==void 0&&t.registrationStatus===2}function aT(t){return t.requestStatus===2&&!lT(t)}function lT(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+L1}function uT(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function cT(t){return t.requestStatus===1&&t.requestTime+Cm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(t){const e=t,{installationEntry:n,registrationPromise:r}=await _f(e);return r?r.catch(console.error):bf(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(t,e=!1){const n=t;return await dT(n),(await bf(n,e)).token}async function dT(t){const{registrationPromise:e}=await _f(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){if(!t||!t.options)throw zu("App Configuration");if(!t.name)throw zu("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw zu(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function zu(t){return Ji.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="installations",gT="installations-internal",mT=t=>{const e=t.getProvider("app").getImmediate(),n=pT(e),r=is(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},vT=t=>{const e=t.getProvider("app").getImmediate(),n=is(e,Gm).getImmediate();return{getId:()=>fT(n),getToken:i=>hT(n,i)}};function yT(){ur(new Kn(Gm,mT,"PUBLIC")),ur(new Kn(gT,vT,"PRIVATE"))}yT();Ln(km,vf);Ln(km,vf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="analytics",_T="firebase_id",bT="origin",ET=60*1e3,TT="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ef="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Yl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new rs("analytics","Analytics",wT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t){if(!t.startsWith(Ef)){const e=Tn.create("invalid-gtag-resource",{gtagURL:t});return fn.warn(e.message),""}return t}function Wm(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function IT(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function ST(t,e){const n=IT("firebase-js-sdk-policy",{createScriptURL:AT}),r=document.createElement("script"),i=`${Ef}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function RT(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function OT(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await Wm(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){fn.error(a)}t("config",i,s)}async function PT(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Wm(n);for(const l of o){const c=a.find(h=>h.measurementId===l),f=c&&e[c.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){fn.error(s)}}function kT(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await PT(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await OT(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){fn.error(a)}}return i}function CT(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=kT(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function NT(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ef)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=30,xT=1e3;class LT{constructor(e={},n=xT){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Qm=new LT;function MT(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function VT(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:MT(r)},s=TT.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function FT(t,e=Qm,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Tn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Tn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new qT;return setTimeout(async()=>{a.abort()},ET),Ym({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Ym(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Qm){var s;const{appId:o,measurementId:a}=t;try{await UT(r,e)}catch(l){if(a)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await VT(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!jT(c)){if(i.deleteThrottleMetadata(o),a)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const f=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?ad(n,i.intervalMillis,DT):ad(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(o,h),fn.debug(`Calling attemptFetch again in ${f} millis`),Ym(t,h,r,i)}}function UT(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function jT(t){if(!(t instanceof Qn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class qT{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function BT(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $T(){if(Tm())try{await wm()}catch(t){return fn.warn(Tn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fn.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HT(t,e,n,r,i,s,o){var a;const l=FT(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>fn.error(p)),e.push(l);const c=$T().then(p=>{if(p)return r.getId()}),[f,h]=await Promise.all([l,c]);NT(s)||ST(s,f.measurementId),i("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[bT]="firebase",d.update=!0,h!=null&&(d[_T]=h),i("config",f.measurementId,d),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.app=e}_delete(){return delete qo[this.app.options.appId],Promise.resolve()}}let qo={},yd=[];const _d={};let Ku="dataLayer",KT="gtag",bd,Xm,Ed=!1;function GT(){const t=[];if(Em()&&t.push("This is a browser extension environment."),pE()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});fn.warn(n.message)}}function WT(t,e,n){GT();const r=t.options.appId;if(!r)throw Tn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(qo[r]!=null)throw Tn.create("already-exists",{id:r});if(!Ed){RT(Ku);const{wrappedGtag:s,gtagCore:o}=CT(qo,yd,_d,Ku,KT);Xm=s,bd=o,Ed=!0}return qo[r]=HT(t,yd,_d,e,bd,Ku,n),new zT(t)}function QT(t=mf()){t=It(t);const e=is(t,vl);return e.isInitialized()?e.getImmediate():YT(t)}function YT(t,e={}){const n=is(t,vl);if(n.isInitialized()){const i=n.getImmediate();if(ra(e,n.getOptions()))return i;throw Tn.create("already-initialized")}return n.initialize({options:e})}function XT(t,e,n,r){t=It(t),BT(Xm,qo[t.app.options.appId],e,n,r).catch(i=>fn.error(i))}const Td="@firebase/analytics",wd="0.10.10";function JT(){ur(new Kn(vl,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return WT(r,i,n)},"PUBLIC")),ur(new Kn("analytics-internal",t,"PRIVATE")),Ln(Td,wd),Ln(Td,wd,"esm2017");function t(e){try{const n=e.getProvider(vl).getImmediate();return{logEvent:(r,i,s)=>XT(n,r,i,s)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}}}JT();function Tf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Jm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZT=Jm,Zm=new rs("auth","Firebase",Jm());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=new Yl("@firebase/auth");function ew(t,...e){yl.logLevel<=Ue.WARN&&yl.warn(`Auth (${io}): ${t}`,...e)}function Wa(t,...e){yl.logLevel<=Ue.ERROR&&yl.error(`Auth (${io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw wf(t,...e)}function ir(t,...e){return wf(t,...e)}function ev(t,e,n){const r=Object.assign(Object.assign({},ZT()),{[e]:n});return new rs("auth","Firebase",r).create(e,{appName:t.name})}function ui(t){return ev(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Zm.create(t,...e)}function Pe(t,e,...n){if(!t)throw wf(e,...n)}function Pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wa(e),new Error(e)}function xr(t,e){t||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tw(){return Ad()==="http:"||Ad()==="https:"}function Ad(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tw()||Em()||"connection"in navigator)?navigator.onLine:!0}function rw(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.shortDelay=e,this.longDelay=n,xr(n>e,"Short delay should be less than long delay!"),this.isMobile=lE()||fE()}get(){return nw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t,e){xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Ea(3e4,6e4);function ss(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bi(t,e,n,r,i={}){return nv(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ba(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return cE()||(c.referrerPolicy="no-referrer"),tv.fetch()(rv(t,t.config.apiHost,n,a),c)})}async function nv(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},iw),e);try{const i=new aw(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ma(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ma(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ma(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ma(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ev(t,f,c);Gn(t,f)}}catch(i){if(i instanceof Qn)throw i;Gn(t,"network-request-failed",{message:String(i)})}}async function Zl(t,e,n,r,i={}){const s=await bi(t,e,n,r,i);return"mfaPendingCredential"in s&&Gn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function rv(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Af(t.config,i):`${t.config.apiScheme}://${i}`}function ow(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ir(this.auth,"network-request-failed")),sw.get())})}}function Ma(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ir(t,e,r);return i.customData._tokenResponse=n,i}function Id(t){return t!==void 0&&t.enterprise!==void 0}class lw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ow(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uw(t,e){return bi(t,"GET","/v2/recaptchaConfig",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(t,e){return bi(t,"POST","/v1/accounts:delete",e)}async function iv(t,e){return bi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t,e=!1){return It(t).getIdToken(e)}async function hw(t,e=!1){const n=It(t),r=await n.getIdToken(e),i=If(r);Pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Bo(Gu(i.auth_time)),issuedAtTime:Bo(Gu(i.iat)),expirationTime:Bo(Gu(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Gu(t){return Number(t)*1e3}function If(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wa("JWT malformed, contained fewer than 3 sections"),null;try{const i=vm(n);return i?JSON.parse(i):(Wa("Failed to decode base64 JWT payload"),null)}catch(i){return Wa("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Sd(t){const e=If(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qn&&dw(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dw({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bo(this.lastLoginAt),this.creationTime=Bo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t){var e;const n=t.auth,r=await t.getIdToken(),i=await sa(t,iv(n,{idToken:r}));Pe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?sv(s.providerUserInfo):[],a=mw(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Oc(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function gw(t){const e=It(t);await _l(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mw(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sv(t){return t.map(e=>{var{providerId:n}=e,r=Tf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(t,e){const n=await nv(t,{},async()=>{const r=ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=rv(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tv.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yw(t,e){return bi(t,"POST","/v2/accounts:revokeToken",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sd(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=Sd(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await vw(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new $s;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $s,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Tf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Oc(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await sa(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hw(this,e)}reload(){return gw(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _l(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Or(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await sa(this,cw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:w,emailVerified:g,isAnonymous:k,providerData:D,stsTokenManager:S}=n;Pe(w&&S,e,"internal-error");const T=$s.fromJSON(this.name,S);Pe(typeof w=="string",e,"internal-error"),Kr(h,e.name),Kr(d,e.name),Pe(typeof g=="boolean",e,"internal-error"),Pe(typeof k=="boolean",e,"internal-error"),Kr(p,e.name),Kr(E,e.name),Kr(y,e.name),Kr(b,e.name),Kr(v,e.name),Kr(m,e.name);const C=new kr({uid:w,auth:e,email:d,emailVerified:g,displayName:h,isAnonymous:k,photoURL:E,phoneNumber:p,tenantId:y,stsTokenManager:T,createdAt:v,lastLoginAt:m});return D&&Array.isArray(D)&&(C.providerData=D.map(I=>Object.assign({},I))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new $s;i.updateFromServerResponse(n);const s=new kr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _l(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?sv(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new $s;a.updateFromIdToken(r);const l=new kr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Oc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new Map;function Cr(t){xr(t instanceof Function,"Expected a class definition");let e=Rd.get(t);return e?(xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rd.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ov.type="NONE";const Od=ov;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t,e,n){return`firebase:${t}:${e}:${n}`}class Hs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qa(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qa("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hs(Cr(Od),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Cr(Od);const o=Qa(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const h=kr._fromJSON(e,f);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Hs(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Hs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(av(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hv(e))return"Blackberry";if(dv(e))return"Webos";if(lv(e))return"Safari";if((e.includes("chrome/")||uv(e))&&!e.includes("edge/"))return"Chrome";if(fv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function av(t=Wt()){return/firefox\//i.test(t)}function lv(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uv(t=Wt()){return/crios\//i.test(t)}function cv(t=Wt()){return/iemobile/i.test(t)}function fv(t=Wt()){return/android/i.test(t)}function hv(t=Wt()){return/blackberry/i.test(t)}function dv(t=Wt()){return/webos/i.test(t)}function Sf(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _w(t=Wt()){var e;return Sf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bw(){return hE()&&document.documentMode===10}function pv(t=Wt()){return Sf(t)||fv(t)||dv(t)||hv(t)||/windows phone/i.test(t)||cv(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t,e=[]){let n;switch(t){case"Browser":n=Pd(Wt());break;case"Worker":n=`${Pd(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(t,e={}){return bi(t,"GET","/v2/passwordPolicy",ss(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=6;class Aw{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ww,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kd(this),this.idTokenSubscription=new kd(this),this.beforeStateQueue=new Ew(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Hs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await iv(this,{idToken:e}),r=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Or(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _l(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Or(this.app))return Promise.reject(ui(this));const n=e?It(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Or(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Or(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Tw(this),n=new Aw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yw(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Hs.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ew(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function so(t){return It(t)}class kd{constructor(e){this.auth=e,this.observer=null,this.addObserver=_E(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sw(t){eu=t}function mv(t){return eu.loadJS(t)}function Rw(){return eu.recaptchaEnterpriseScript}function Ow(){return eu.gapiScript}function Pw(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kw{constructor(){this.enterprise=new Cw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Cw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Nw="recaptcha-enterprise",vv="NO_RECAPTCHA";class Dw{constructor(e){this.type=Nw,this.auth=so(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{uw(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new lw(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Id(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(vv)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kw().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Id(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Rw();l.length!==0&&(l+=a),mv(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Cd(t,e,n,r=!1,i=!1){const s=new Dw(t);let o;if(i)o=vv;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Nd(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Cd(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Cd(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t,e){const n=is(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ra(s,e??{}))return i;Gn(i,"already-initialized")}return n.initialize({options:e})}function Lw(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Mw(t,e,n){const r=so(t);Pe(r._canInitEmulator,r,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=yv(e),{host:o,port:a}=Vw(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Fw()}function yv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Vw(t){const e=yv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Dd(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Dd(o)}}}function Dd(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Fw(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}async function Uw(t,e){return bi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw(t,e){return Zl(t,"POST","/v1/accounts:signInWithPassword",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qw(t,e){return Zl(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}async function Bw(t,e){return Zl(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Rf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new oa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new oa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nd(e,n,"signInWithPassword",jw);case"emailLink":return qw(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nd(e,r,"signUpPassword",Uw);case"emailLink":return Bw(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(t,e){return Zl(t,"POST","/v1/accounts:signInWithIdp",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="http://localhost";class es extends Rf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Tf(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new es(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zs(e,n)}buildRequest(){const e={requestUri:$w,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ba(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zw(t){const e=Po(ko(t)).link,n=e?Po(ko(e)).deep_link_id:null,r=Po(ko(t)).deep_link_id;return(r?Po(ko(r)).link:null)||r||n||e||t}class Of{constructor(e){var n,r,i,s,o,a;const l=Po(ko(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Hw((i=l.mode)!==null&&i!==void 0?i:null);Pe(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=zw(e);try{return new Of(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.providerId=oo.PROVIDER_ID}static credential(e,n){return oa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Of.parseLink(n);return Pe(r,"argument-error"),oa._fromEmailAndCode(e,r.code,r.tenantId)}}oo.PROVIDER_ID="password";oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends _v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Ta{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Ta{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ti.credential(n,r)}catch{return null}}}ti.GOOGLE_SIGN_IN_METHOD="google.com";ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Ta{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Ta{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.TWITTER_SIGN_IN_METHOD="twitter.com";ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await kr._fromIdTokenResponse(e,r,i),o=xd(r);return new Gs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xd(r);return new Gs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xd(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Qn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bl.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bl(e,n,r,i)}}function bv(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bl._fromErrorAndOperation(t,s,e,r):s})}async function Kw(t,e,n=!1){const r=await sa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(t,e,n=!1){const{auth:r}=t;if(Or(r.app))return Promise.reject(ui(r));const i="reauthenticate";try{const s=await sa(t,bv(r,i,e,t),n);Pe(s.idToken,r,"internal-error");const o=If(s.idToken);Pe(o,r,"internal-error");const{sub:a}=o;return Pe(t.uid===a,r,"user-mismatch"),Gs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ev(t,e,n=!1){if(Or(t.app))return Promise.reject(ui(t));const r="signIn",i=await bv(t,r,e),s=await Gs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Ww(t,e){return Ev(so(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(t){const e=so(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function rC(t,e,n){return Or(t.app)?Promise.reject(ui(t)):Ww(It(t),oo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Qw(t),r})}function Yw(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function Xw(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function Jw(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}function Zw(t){return It(t).signOut()}const El="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(El,"1"),this.storage.removeItem(El),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=1e3,tA=10;class wv extends Tv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);bw()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tA):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wv.type="LOCAL";const nA=wv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends Tv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Av.type="SESSION";const Iv=Av;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await rA(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Pf("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function sA(t){sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function oA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lA(){return Sv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="firebaseLocalStorageDb",uA=1,Tl="firebaseLocalStorage",Ov="fbase_key";class wa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nu(t,e){return t.transaction([Tl],e?"readwrite":"readonly").objectStore(Tl)}function cA(){const t=indexedDB.deleteDatabase(Rv);return new wa(t).toPromise()}function Pc(){const t=indexedDB.open(Rv,uA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tl,{keyPath:Ov})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tl)?e(r):(r.close(),await cA(),e(await Pc()))})})}async function Ld(t,e,n){const r=nu(t,!0).put({[Ov]:e,value:n});return new wa(r).toPromise()}async function fA(t,e){const n=nu(t,!1).get(e),r=await new wa(n).toPromise();return r===void 0?null:r.value}function Md(t,e){const n=nu(t,!0).delete(e);return new wa(n).toPromise()}const hA=800,dA=3;class Pv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tu._getInstance(lA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oA(),!this.activeServiceWorker)return;this.sender=new iA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pc();return await Ld(e,El,"1"),await Md(e,El),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ld(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Md(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=nu(i,!1).getAll();return new wa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pv.type="LOCAL";const pA=Pv;new Ea(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t,e){return e?Cr(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends Rf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mA(t){return Ev(t.auth,new kf(t),t.bypassAuthState)}function vA(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Gw(n,new kf(t),t.bypassAuthState)}async function yA(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Kw(n,new kf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mA;case"linkViaPopup":case"linkViaRedirect":return yA;case"reauthViaPopup":case"reauthViaRedirect":return vA;default:Gn(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new Ea(2e3,1e4);class Ms extends kv{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=Pf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_A.get())};e()}}Ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="pendingRedirect",Ya=new Map;class EA extends kv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ya.get(this.auth._key());if(!e){try{const r=await TA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ya.set(this.auth._key(),e)}return this.bypassAuthState||Ya.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TA(t,e){const n=IA(e),r=AA(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wA(t,e){Ya.set(t._key(),e)}function AA(t){return Cr(t._redirectPersistence)}function IA(t){return Qa(bA,t.config.apiKey,t.name)}async function SA(t,e,n=!1){if(Or(t.app))return Promise.reject(ui(t));const r=so(t),i=gA(r,e),o=await new EA(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=10*60*1e3;class OA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Cv(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ir(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vd(e))}saveEventToCache(e){this.cachedEventUids.add(Vd(e)),this.lastProcessedEventTime=Date.now()}}function Vd(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Cv({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(t,e={}){return bi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NA=/^https?/;async function DA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kA(t);for(const n of e)try{if(xA(n))return}catch{}Gn(t,"unauthorized-domain")}function xA(t){const e=Rc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!NA.test(n))return!1;if(CA.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=new Ea(3e4,6e4);function Fd(){const t=sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MA(t){return new Promise((e,n)=>{var r,i,s;function o(){Fd(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fd(),n(ir(t,"network-request-failed"))},timeout:LA.get()})}if(!((i=(r=sr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=sr().gapi)===null||s===void 0)&&s.load)o();else{const a=Pw("iframefcb");return sr()[a]=()=>{gapi.load?o():n(ir(t,"network-request-failed"))},mv(`${Ow()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xa=null,e})}let Xa=null;function VA(t){return Xa=Xa||MA(t),Xa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new Ea(5e3,15e3),UA="__/auth/iframe",jA="emulator/auth/iframe",qA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $A(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Af(e,jA):`https://${t.config.authDomain}/${UA}`,r={apiKey:e.apiKey,appName:t.name,v:io},i=BA.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ba(r).slice(1)}`}async function HA(t){const e=await VA(t),n=sr().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:$A(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qA,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ir(t,"network-request-failed"),a=sr().setTimeout(()=>{s(o)},FA.get());function l(){sr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KA=500,GA=600,WA="_blank",QA="http://localhost";class Ud{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YA(t,e,n,r=KA,i=GA){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zA),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Wt().toLowerCase();n&&(a=uv(c)?WA:n),av(c)&&(e=e||QA,l.scrollbars="yes");const f=Object.entries(l).reduce((d,[p,E])=>`${d}${p}=${E},`,"");if(_w(c)&&a!=="_self")return XA(e||"",a),new Ud(null);const h=window.open(e||"",a,f);Pe(h,t,"popup-blocked");try{h.focus()}catch{}return new Ud(h)}function XA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="__/auth/handler",ZA="emulator/auth/handler",eI=encodeURIComponent("fac");async function jd(t,e,n,r,i,s){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:io,eventId:i};if(e instanceof _v){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Ta){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),c=l?`#${eI}=${encodeURIComponent(l)}`:"";return`${tI(t)}?${ba(a).slice(1)}${c}`}function tI({config:t}){return t.emulator?Af(t,ZA):`https://${t.authDomain}/${JA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="webStorageSupport";class nI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Iv,this._completeRedirectFn=SA,this._overrideRedirectResult=wA}async _openPopup(e,n,r,i){var s;xr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await jd(e,n,r,Rc(),i);return YA(e,o,Pf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jd(e,n,r,Rc(),i);return sA(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HA(e),r=new OA(e);return n.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wu,{type:Wu},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Wu];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pv()||lv()||Sf()}}const rI=nI;var qd="@firebase/auth",Bd="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oI(t){ur(new Kn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gv(t)},c=new Iw(r,i,s,l);return Lw(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ur(new Kn("auth-internal",e=>{const n=so(e.getProvider("auth").getImmediate());return(r=>new iI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(qd,Bd,sI(t)),Ln(qd,Bd,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=5*60,lI=bm("authIdTokenMaxAge")||aI;let $d=null;const uI=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lI)return;const i=n==null?void 0:n.token;$d!==i&&($d=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function cI(t=mf()){const e=is(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xw(t,{popupRedirectResolver:rI,persistence:[pA,nA,Iv]}),r=bm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=uI(s.toString());Xw(n,o,()=>o(n.currentUser)),Yw(n,a=>o(a))}}const i=ym("auth");return i&&Mw(n,`http://${i}`),n}function fI(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Sw({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ir("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oI("Browser");var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,Nv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function C(){}C.prototype=T.prototype,S.D=T.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(I,_,R){for(var O=Array(arguments.length-2),U=2;U<arguments.length;U++)O[U-2]=arguments[U];return T.prototype[_].apply(I,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,C){C||(C=0);var I=Array(16);if(typeof T=="string")for(var _=0;16>_;++_)I[_]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(_=0;16>_;++_)I[_]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=S.g[0],C=S.g[1],_=S.g[2];var R=S.g[3],O=T+(R^C&(_^R))+I[0]+3614090360&4294967295;T=C+(O<<7&4294967295|O>>>25),O=R+(_^T&(C^_))+I[1]+3905402710&4294967295,R=T+(O<<12&4294967295|O>>>20),O=_+(C^R&(T^C))+I[2]+606105819&4294967295,_=R+(O<<17&4294967295|O>>>15),O=C+(T^_&(R^T))+I[3]+3250441966&4294967295,C=_+(O<<22&4294967295|O>>>10),O=T+(R^C&(_^R))+I[4]+4118548399&4294967295,T=C+(O<<7&4294967295|O>>>25),O=R+(_^T&(C^_))+I[5]+1200080426&4294967295,R=T+(O<<12&4294967295|O>>>20),O=_+(C^R&(T^C))+I[6]+2821735955&4294967295,_=R+(O<<17&4294967295|O>>>15),O=C+(T^_&(R^T))+I[7]+4249261313&4294967295,C=_+(O<<22&4294967295|O>>>10),O=T+(R^C&(_^R))+I[8]+1770035416&4294967295,T=C+(O<<7&4294967295|O>>>25),O=R+(_^T&(C^_))+I[9]+2336552879&4294967295,R=T+(O<<12&4294967295|O>>>20),O=_+(C^R&(T^C))+I[10]+4294925233&4294967295,_=R+(O<<17&4294967295|O>>>15),O=C+(T^_&(R^T))+I[11]+2304563134&4294967295,C=_+(O<<22&4294967295|O>>>10),O=T+(R^C&(_^R))+I[12]+1804603682&4294967295,T=C+(O<<7&4294967295|O>>>25),O=R+(_^T&(C^_))+I[13]+4254626195&4294967295,R=T+(O<<12&4294967295|O>>>20),O=_+(C^R&(T^C))+I[14]+2792965006&4294967295,_=R+(O<<17&4294967295|O>>>15),O=C+(T^_&(R^T))+I[15]+1236535329&4294967295,C=_+(O<<22&4294967295|O>>>10),O=T+(_^R&(C^_))+I[1]+4129170786&4294967295,T=C+(O<<5&4294967295|O>>>27),O=R+(C^_&(T^C))+I[6]+3225465664&4294967295,R=T+(O<<9&4294967295|O>>>23),O=_+(T^C&(R^T))+I[11]+643717713&4294967295,_=R+(O<<14&4294967295|O>>>18),O=C+(R^T&(_^R))+I[0]+3921069994&4294967295,C=_+(O<<20&4294967295|O>>>12),O=T+(_^R&(C^_))+I[5]+3593408605&4294967295,T=C+(O<<5&4294967295|O>>>27),O=R+(C^_&(T^C))+I[10]+38016083&4294967295,R=T+(O<<9&4294967295|O>>>23),O=_+(T^C&(R^T))+I[15]+3634488961&4294967295,_=R+(O<<14&4294967295|O>>>18),O=C+(R^T&(_^R))+I[4]+3889429448&4294967295,C=_+(O<<20&4294967295|O>>>12),O=T+(_^R&(C^_))+I[9]+568446438&4294967295,T=C+(O<<5&4294967295|O>>>27),O=R+(C^_&(T^C))+I[14]+3275163606&4294967295,R=T+(O<<9&4294967295|O>>>23),O=_+(T^C&(R^T))+I[3]+4107603335&4294967295,_=R+(O<<14&4294967295|O>>>18),O=C+(R^T&(_^R))+I[8]+1163531501&4294967295,C=_+(O<<20&4294967295|O>>>12),O=T+(_^R&(C^_))+I[13]+2850285829&4294967295,T=C+(O<<5&4294967295|O>>>27),O=R+(C^_&(T^C))+I[2]+4243563512&4294967295,R=T+(O<<9&4294967295|O>>>23),O=_+(T^C&(R^T))+I[7]+1735328473&4294967295,_=R+(O<<14&4294967295|O>>>18),O=C+(R^T&(_^R))+I[12]+2368359562&4294967295,C=_+(O<<20&4294967295|O>>>12),O=T+(C^_^R)+I[5]+4294588738&4294967295,T=C+(O<<4&4294967295|O>>>28),O=R+(T^C^_)+I[8]+2272392833&4294967295,R=T+(O<<11&4294967295|O>>>21),O=_+(R^T^C)+I[11]+1839030562&4294967295,_=R+(O<<16&4294967295|O>>>16),O=C+(_^R^T)+I[14]+4259657740&4294967295,C=_+(O<<23&4294967295|O>>>9),O=T+(C^_^R)+I[1]+2763975236&4294967295,T=C+(O<<4&4294967295|O>>>28),O=R+(T^C^_)+I[4]+1272893353&4294967295,R=T+(O<<11&4294967295|O>>>21),O=_+(R^T^C)+I[7]+4139469664&4294967295,_=R+(O<<16&4294967295|O>>>16),O=C+(_^R^T)+I[10]+3200236656&4294967295,C=_+(O<<23&4294967295|O>>>9),O=T+(C^_^R)+I[13]+681279174&4294967295,T=C+(O<<4&4294967295|O>>>28),O=R+(T^C^_)+I[0]+3936430074&4294967295,R=T+(O<<11&4294967295|O>>>21),O=_+(R^T^C)+I[3]+3572445317&4294967295,_=R+(O<<16&4294967295|O>>>16),O=C+(_^R^T)+I[6]+76029189&4294967295,C=_+(O<<23&4294967295|O>>>9),O=T+(C^_^R)+I[9]+3654602809&4294967295,T=C+(O<<4&4294967295|O>>>28),O=R+(T^C^_)+I[12]+3873151461&4294967295,R=T+(O<<11&4294967295|O>>>21),O=_+(R^T^C)+I[15]+530742520&4294967295,_=R+(O<<16&4294967295|O>>>16),O=C+(_^R^T)+I[2]+3299628645&4294967295,C=_+(O<<23&4294967295|O>>>9),O=T+(_^(C|~R))+I[0]+4096336452&4294967295,T=C+(O<<6&4294967295|O>>>26),O=R+(C^(T|~_))+I[7]+1126891415&4294967295,R=T+(O<<10&4294967295|O>>>22),O=_+(T^(R|~C))+I[14]+2878612391&4294967295,_=R+(O<<15&4294967295|O>>>17),O=C+(R^(_|~T))+I[5]+4237533241&4294967295,C=_+(O<<21&4294967295|O>>>11),O=T+(_^(C|~R))+I[12]+1700485571&4294967295,T=C+(O<<6&4294967295|O>>>26),O=R+(C^(T|~_))+I[3]+2399980690&4294967295,R=T+(O<<10&4294967295|O>>>22),O=_+(T^(R|~C))+I[10]+4293915773&4294967295,_=R+(O<<15&4294967295|O>>>17),O=C+(R^(_|~T))+I[1]+2240044497&4294967295,C=_+(O<<21&4294967295|O>>>11),O=T+(_^(C|~R))+I[8]+1873313359&4294967295,T=C+(O<<6&4294967295|O>>>26),O=R+(C^(T|~_))+I[15]+4264355552&4294967295,R=T+(O<<10&4294967295|O>>>22),O=_+(T^(R|~C))+I[6]+2734768916&4294967295,_=R+(O<<15&4294967295|O>>>17),O=C+(R^(_|~T))+I[13]+1309151649&4294967295,C=_+(O<<21&4294967295|O>>>11),O=T+(_^(C|~R))+I[4]+4149444226&4294967295,T=C+(O<<6&4294967295|O>>>26),O=R+(C^(T|~_))+I[11]+3174756917&4294967295,R=T+(O<<10&4294967295|O>>>22),O=_+(T^(R|~C))+I[2]+718787259&4294967295,_=R+(O<<15&4294967295|O>>>17),O=C+(R^(_|~T))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(_+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+_&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var C=T-this.blockSize,I=this.B,_=this.h,R=0;R<T;){if(_==0)for(;R<=C;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<T;)if(I[_++]=S.charCodeAt(R++),_==this.blockSize){i(this,I),_=0;break}}else for(;R<T;)if(I[_++]=S[R++],_==this.blockSize){i(this,I),_=0;break}}this.h=_,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var C=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=C&255,C/=256;for(this.u(S),S=Array(16),T=C=0;4>T;++T)for(var I=0;32>I;I+=8)S[C++]=this.g[T]>>>I&255;return S};function s(S,T){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=T(S)}function o(S,T){this.h=T;for(var C=[],I=!0,_=S.length-1;0<=_;_--){var R=S[_]|0;I&&R==T||(C[_]=R,I=!1)}this.g=C}var a={};function l(S){return-128<=S&&128>S?s(S,function(T){return new o([T|0],0>T?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return b(c(-S));for(var T=[],C=1,I=0;S>=C;I++)T[I]=S/C|0,C*=4294967296;return new o(T,0)}function f(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return b(f(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(T,8)),I=h,_=0;_<S.length;_+=8){var R=Math.min(8,S.length-_),O=parseInt(S.substring(_,_+R),T);8>R?(R=c(Math.pow(T,R)),I=I.j(R).add(c(O))):(I=I.j(C),I=I.add(c(O)))}return I}var h=l(0),d=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();for(var S=0,T=1,C=0;C<this.g.length;C++){var I=this.i(C);S+=(0<=I?I:4294967296+I)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E(this))return"0";if(y(this))return"-"+b(this).toString(S);for(var T=c(Math.pow(S,6)),C=this,I="";;){var _=g(C,T).g;C=v(C,_.j(T));var R=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=_,E(C))return R+I;for(;6>R.length;)R="0"+R;I=R+I}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function E(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=v(this,S),y(S)?-1:E(S)?0:1};function b(S){for(var T=S.g.length,C=[],I=0;I<T;I++)C[I]=~S.g[I];return new o(C,~S.h).add(d)}t.abs=function(){return y(this)?b(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),C=[],I=0,_=0;_<=T;_++){var R=I+(this.i(_)&65535)+(S.i(_)&65535),O=(R>>>16)+(this.i(_)>>>16)+(S.i(_)>>>16);I=O>>>16,R&=65535,O&=65535,C[_]=O<<16|R}return new o(C,C[C.length-1]&-2147483648?-1:0)};function v(S,T){return S.add(b(T))}t.j=function(S){if(E(this)||E(S))return h;if(y(this))return y(S)?b(this).j(b(S)):b(b(this).j(S));if(y(S))return b(this.j(b(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var T=this.g.length+S.g.length,C=[],I=0;I<2*T;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var _=0;_<S.g.length;_++){var R=this.i(I)>>>16,O=this.i(I)&65535,U=S.i(_)>>>16,z=S.i(_)&65535;C[2*I+2*_]+=O*z,m(C,2*I+2*_),C[2*I+2*_+1]+=R*z,m(C,2*I+2*_+1),C[2*I+2*_+1]+=O*U,m(C,2*I+2*_+1),C[2*I+2*_+2]+=R*U,m(C,2*I+2*_+2)}for(I=0;I<T;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=T;I<2*T;I++)C[I]=0;return new o(C,0)};function m(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function w(S,T){this.g=S,this.h=T}function g(S,T){if(E(T))throw Error("division by zero");if(E(S))return new w(h,h);if(y(S))return T=g(b(S),T),new w(b(T.g),b(T.h));if(y(T))return T=g(S,b(T)),new w(b(T.g),T.h);if(30<S.g.length){if(y(S)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var C=d,I=T;0>=I.l(S);)C=k(C),I=k(I);var _=D(C,1),R=D(I,1);for(I=D(I,2),C=D(C,2);!E(I);){var O=R.add(I);0>=O.l(S)&&(_=_.add(C),R=O),I=D(I,1),C=D(C,1)}return T=v(S,_.j(T)),new w(_,T)}for(_=h;0<=S.l(T);){for(C=Math.max(1,Math.floor(S.m()/T.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),R=c(C),O=R.j(T);y(O)||0<O.l(S);)C-=I,R=c(C),O=R.j(T);E(R)&&(R=d),_=_.add(R),S=v(S,O)}return new w(_,S)}t.A=function(S){return g(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),C=[],I=0;I<T;I++)C[I]=this.i(I)&S.i(I);return new o(C,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),C=[],I=0;I<T;I++)C[I]=this.i(I)|S.i(I);return new o(C,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),C=[],I=0;I<T;I++)C[I]=this.i(I)^S.i(I);return new o(C,this.h^S.h)};function k(S){for(var T=S.g.length+1,C=[],I=0;I<T;I++)C[I]=S.i(I)<<1|S.i(I-1)>>>31;return new o(C,S.h)}function D(S,T){var C=T>>5;T%=32;for(var I=S.g.length-C,_=[],R=0;R<I;R++)_[R]=0<T?S.i(R+C)>>>T|S.i(R+C+1)<<32-T:S.i(R+C);return new o(_,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Nv=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,Qi=o}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});var Va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dv,Co,xv,Ja,kc,Lv,Mv,Vv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,A,N){return u==Array.prototype||u==Object.prototype||(u[A]=N.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Va=="object"&&Va];for(var A=0;A<u.length;++A){var N=u[A];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(u,A){if(A)e:{var N=r;u=u.split(".");for(var M=0;M<u.length-1;M++){var oe=u[M];if(!(oe in N))break e;N=N[oe]}u=u[u.length-1],M=N[u],A=A(M),A!=M&&A!=null&&e(N,u,{configurable:!0,writable:!0,value:A})}}function s(u,A){u instanceof String&&(u+="");var N=0,M=!1,oe={next:function(){if(!M&&N<u.length){var ce=N++;return{value:A(ce,u[ce]),done:!1}}return M=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}i("Array.prototype.values",function(u){return u||function(){return s(this,function(A,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var A=typeof u;return A=A!="object"?A:u?Array.isArray(u)?"array":A:"null",A=="array"||A=="object"&&typeof u.length=="number"}function c(u){var A=typeof u;return A=="object"&&u!=null||A=="function"}function f(u,A,N){return u.call.apply(u.bind,arguments)}function h(u,A,N){if(!u)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,M),u.apply(A,oe)}}return function(){return u.apply(A,arguments)}}function d(u,A,N){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,d.apply(null,arguments)}function p(u,A){var N=Array.prototype.slice.call(arguments,1);return function(){var M=N.slice();return M.push.apply(M,arguments),u.apply(this,M)}}function E(u,A){function N(){}N.prototype=A.prototype,u.aa=A.prototype,u.prototype=new N,u.prototype.constructor=u,u.Qb=function(M,oe,ce){for(var _e=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)_e[Je-2]=arguments[Je];return A.prototype[oe].apply(M,_e)}}function y(u){const A=u.length;if(0<A){const N=Array(A);for(let M=0;M<A;M++)N[M]=u[M];return N}return[]}function b(u,A){for(let N=1;N<arguments.length;N++){const M=arguments[N];if(l(M)){const oe=u.length||0,ce=M.length||0;u.length=oe+ce;for(let _e=0;_e<ce;_e++)u[oe+_e]=M[_e]}else u.push(M)}}class v{constructor(A,N){this.i=A,this.j=N,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function m(u){return/^[\s\xa0]*$/.test(u)}function w(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function g(u){return g[" "](u),u}g[" "]=function(){};var k=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function D(u,A,N){for(const M in u)A.call(N,u[M],M,u)}function S(u,A){for(const N in u)A.call(void 0,u[N],N,u)}function T(u){const A={};for(const N in u)A[N]=u[N];return A}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,A){let N,M;for(let oe=1;oe<arguments.length;oe++){M=arguments[oe];for(N in M)u[N]=M[N];for(let ce=0;ce<C.length;ce++)N=C[ce],Object.prototype.hasOwnProperty.call(M,N)&&(u[N]=M[N])}}function _(u){var A=1;u=u.split(":");const N=[];for(;0<A&&u.length;)N.push(u.shift()),A--;return u.length&&N.push(u.join(":")),N}function R(u){a.setTimeout(()=>{throw u},0)}function O(){var u=ee;let A=null;return u.g&&(A=u.g,u.g=u.g.next,u.g||(u.h=null),A.next=null),A}class U{constructor(){this.h=this.g=null}add(A,N){const M=z.get();M.set(A,N),this.h?this.h.next=M:this.g=M,this.h=M}}var z=new v(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(A,N){this.h=A,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,ue=!1,ee=new U,$=()=>{const u=a.Promise.resolve(void 0);Y=()=>{u.then(x)}};var x=()=>{for(var u;u=O();){try{u.h.call(u.g)}catch(N){R(N)}var A=z;A.j(u),100>A.h&&(A.h++,u.next=A.g,A.g=u)}ue=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(u,A){this.type=u,this.g=this.target=A,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,A=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const N=()=>{};a.addEventListener("test",N,A),a.removeEventListener("test",N,A)}catch{}return u}();function X(u,A){if(H.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var N=this.type=u.type,M=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=A,A=u.relatedTarget){if(k){e:{try{g(A.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(A=null)}}else N=="mouseover"?A=u.fromElement:N=="mouseout"&&(A=u.toElement);this.relatedTarget=A,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:j[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&X.aa.h.call(this)}}E(X,H);var j={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var V="closure_listenable_"+(1e6*Math.random()|0),W=0;function Q(u,A,N,M,oe){this.listener=u,this.proxy=null,this.src=A,this.type=N,this.capture=!!M,this.ha=oe,this.key=++W,this.da=this.fa=!1}function ie(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ge(u){this.src=u,this.g={},this.h=0}ge.prototype.add=function(u,A,N,M,oe){var ce=u.toString();u=this.g[ce],u||(u=this.g[ce]=[],this.h++);var _e=F(u,A,M,oe);return-1<_e?(A=u[_e],N||(A.fa=!1)):(A=new Q(A,this.src,ce,!!M,oe),A.fa=N,u.push(A)),A};function be(u,A){var N=A.type;if(N in u.g){var M=u.g[N],oe=Array.prototype.indexOf.call(M,A,void 0),ce;(ce=0<=oe)&&Array.prototype.splice.call(M,oe,1),ce&&(ie(A),u.g[N].length==0&&(delete u.g[N],u.h--))}}function F(u,A,N,M){for(var oe=0;oe<u.length;++oe){var ce=u[oe];if(!ce.da&&ce.listener==A&&ce.capture==!!N&&ce.ha==M)return oe}return-1}var B="closure_lm_"+(1e6*Math.random()|0),ne={};function de(u,A,N,M,oe){if(Array.isArray(A)){for(var ce=0;ce<A.length;ce++)de(u,A[ce],N,M,oe);return null}return N=me(N),u&&u[V]?u.K(A,N,c(M)?!!M.capture:!!M,oe):le(u,A,N,!1,M,oe)}function le(u,A,N,M,oe,ce){if(!A)throw Error("Invalid event type");var _e=c(oe)?!!oe.capture:!!oe,Je=ye(u);if(Je||(u[B]=Je=new ge(u)),N=Je.add(A,N,M,_e,ce),N.proxy)return N;if(M=G(),N.proxy=M,M.src=u,M.listener=N,u.addEventListener)re||(oe=_e),oe===void 0&&(oe=!1),u.addEventListener(A.toString(),M,oe);else if(u.attachEvent)u.attachEvent(ae(A.toString()),M);else if(u.addListener&&u.removeListener)u.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return N}function G(){function u(N){return A.call(u.src,u.listener,N)}const A=Z;return u}function te(u,A,N,M,oe){if(Array.isArray(A))for(var ce=0;ce<A.length;ce++)te(u,A[ce],N,M,oe);else M=c(M)?!!M.capture:!!M,N=me(N),u&&u[V]?(u=u.i,A=String(A).toString(),A in u.g&&(ce=u.g[A],N=F(ce,N,M,oe),-1<N&&(ie(ce[N]),Array.prototype.splice.call(ce,N,1),ce.length==0&&(delete u.g[A],u.h--)))):u&&(u=ye(u))&&(A=u.g[A.toString()],u=-1,A&&(u=F(A,N,M,oe)),(N=-1<u?A[u]:null)&&se(N))}function se(u){if(typeof u!="number"&&u&&!u.da){var A=u.src;if(A&&A[V])be(A.i,u);else{var N=u.type,M=u.proxy;A.removeEventListener?A.removeEventListener(N,M,u.capture):A.detachEvent?A.detachEvent(ae(N),M):A.addListener&&A.removeListener&&A.removeListener(M),(N=ye(A))?(be(N,u),N.h==0&&(N.src=null,A[B]=null)):ie(u)}}}function ae(u){return u in ne?ne[u]:ne[u]="on"+u}function Z(u,A){if(u.da)u=!0;else{A=new X(A,this);var N=u.listener,M=u.ha||u.src;u.fa&&se(u),u=N.call(M,A)}return u}function ye(u){return u=u[B],u instanceof ge?u:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(u){return typeof u=="function"?u:(u[he]||(u[he]=function(A){return u.handleEvent(A)}),u[he])}function Ee(){q.call(this),this.i=new ge(this),this.M=this,this.F=null}E(Ee,q),Ee.prototype[V]=!0,Ee.prototype.removeEventListener=function(u,A,N,M){te(this,u,A,N,M)};function Te(u,A){var N,M=u.F;if(M)for(N=[];M;M=M.F)N.push(M);if(u=u.M,M=A.type||A,typeof A=="string")A=new H(A,u);else if(A instanceof H)A.target=A.target||u;else{var oe=A;A=new H(M,u),I(A,oe)}if(oe=!0,N)for(var ce=N.length-1;0<=ce;ce--){var _e=A.g=N[ce];oe=Ae(_e,M,!0,A)&&oe}if(_e=A.g=u,oe=Ae(_e,M,!0,A)&&oe,oe=Ae(_e,M,!1,A)&&oe,N)for(ce=0;ce<N.length;ce++)_e=A.g=N[ce],oe=Ae(_e,M,!1,A)&&oe}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var u=this.i,A;for(A in u.g){for(var N=u.g[A],M=0;M<N.length;M++)ie(N[M]);delete u.g[A],u.h--}}this.F=null},Ee.prototype.K=function(u,A,N,M){return this.i.add(String(u),A,!1,N,M)},Ee.prototype.L=function(u,A,N,M){return this.i.add(String(u),A,!0,N,M)};function Ae(u,A,N,M){if(A=u.i.g[String(A)],!A)return!0;A=A.concat();for(var oe=!0,ce=0;ce<A.length;++ce){var _e=A[ce];if(_e&&!_e.da&&_e.capture==N){var Je=_e.listener,Dt=_e.ha||_e.src;_e.fa&&be(u.i,_e),oe=Je.call(Dt,M)!==!1&&oe}}return oe&&!M.defaultPrevented}function Ve(u,A,N){if(typeof u=="function")N&&(u=d(u,N));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(u,A||0)}function Oe(u){u.g=Ve(()=>{u.g=null,u.i&&(u.i=!1,Oe(u))},u.l);const A=u.h;u.h=null,u.m.apply(null,A)}class ze extends q{constructor(A,N){super(),this.m=A,this.l=N,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ut(u){q.call(this),this.h=u,this.g={}}E(ut,q);var mt=[];function nn(u){D(u.g,function(A,N){this.g.hasOwnProperty(N)&&se(A)},u),u.g={}}ut.prototype.N=function(){ut.aa.N.call(this),nn(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=a.JSON.stringify,vt=a.JSON.parse,bt=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function rn(){}rn.prototype.h=null;function sn(u){return u.h||(u.h=u.i())}function dr(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fn(){H.call(this,"d")}E(Fn,H);function pr(){H.call(this,"c")}E(pr,H);var Qt={},Fr=null;function Yn(){return Fr=Fr||new Ee}Qt.La="serverreachability";function Ur(u){H.call(this,Qt.La,u)}E(Ur,H);function on(u){const A=Yn();Te(A,new Ur(A))}Qt.STAT_EVENT="statevent";function wi(u,A){H.call(this,Qt.STAT_EVENT,u),this.stat=A}E(wi,H);function nt(u){const A=Yn();Te(A,new wi(A,u))}Qt.Ma="timingevent";function cs(u,A){H.call(this,Qt.Ma,u),this.size=A}E(cs,H);function gr(u,A){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},A)}function mr(){this.g=!0}mr.prototype.xa=function(){this.g=!1};function fs(u,A,N,M,oe,ce){u.info(function(){if(u.g)if(ce)for(var _e="",Je=ce.split("&"),Dt=0;Dt<Je.length;Dt++){var Ke=Je[Dt].split("=");if(1<Ke.length){var qt=Ke[0];Ke=Ke[1];var Bt=qt.split("_");_e=2<=Bt.length&&Bt[1]=="type"?_e+(qt+"="+Ke+"&"):_e+(qt+"=redacted&")}}else _e=null;else _e=ce;return"XMLHTTP REQ ("+M+") [attempt "+oe+"]: "+A+`
`+N+`
`+_e})}function Ai(u,A,N,M,oe,ce,_e){u.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+oe+"]: "+A+`
`+N+`
`+ce+" "+_e})}function it(u,A,N,M){u.info(function(){return"XMLHTTP TEXT ("+A+"): "+go(u,N)+(M?" "+M:"")})}function po(u,A){u.info(function(){return"TIMEOUT: "+A})}mr.prototype.info=function(){};function go(u,A){if(!u.g)return A;if(!A)return null;try{var N=JSON.parse(A);if(N){for(u=0;u<N.length;u++)if(Array.isArray(N[u])){var M=N[u];if(!(2>M.length)){var oe=M[1];if(Array.isArray(oe)&&!(1>oe.length)){var ce=oe[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var _e=1;_e<oe.length;_e++)oe[_e]=""}}}}return dn(N)}catch{return A}}var jr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ii;function ht(){}E(ht,rn),ht.prototype.g=function(){return new XMLHttpRequest},ht.prototype.i=function(){return{}},Ii=new ht;function wn(u,A,N,M){this.j=u,this.i=A,this.l=N,this.R=M||1,this.U=new ut(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ds}function ds(){this.i=null,this.g="",this.h=!1}var ps={},Si={};function Ri(u,A,N){u.L=1,u.v=Rn(pn(A)),u.m=N,u.P=!0,kt(u,null)}function kt(u,A){u.F=Date.now(),qr(u),u.A=pn(u.v);var N=u.A,M=u.R;Array.isArray(M)||(M=[String(M)]),Li(N.i,"t",M),u.C=0,N=u.j.J,u.h=new ds,u.g=Ih(u.j,N?A:null,!u.m),0<u.O&&(u.M=new ze(d(u.Y,u,u.g),u.O)),A=u.U,N=u.g,M=u.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(mt[0]=oe.toString()),oe=mt);for(var ce=0;ce<oe.length;ce++){var _e=de(N,oe[ce],M||A.handleEvent,!1,A.h||A);if(!_e)break;A.g[_e.key]=_e}A=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,A)):(u.u="GET",u.g.ea(u.A,u.u,null,A)),on(),fs(u.i,u.u,u.A,u.l,u.R,u.m)}wn.prototype.ca=function(u){u=u.target;const A=this.M;A&&et(u)==3?A.j():this.Y(u)},wn.prototype.Y=function(u){try{if(u==this.g)e:{const Bt=et(this.g);var A=this.g.Ba();const Is=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Nt(this.g)))){this.J||Bt!=4||A==7||(A==8||0>=Is?on(3):on(2)),Oi(this);var N=this.g.Z();this.X=N;t:if(gs(this)){var M=Nt(this.g);u="";var oe=M.length,ce=et(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),An(this);var _e="";break t}this.h.i=new a.TextDecoder}for(A=0;A<oe;A++)this.h.h=!0,u+=this.h.i.decode(M[A],{stream:!(ce&&A==oe-1)});M.length=0,this.h.g+=u,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=N==200,Ai(this.i,this.u,this.A,this.l,this.R,Bt,N),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Dt=this.g;if((Je=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(Je)){var Ke=Je;break t}}Ke=null}if(N=Ke)it(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xn(this,N);else{this.o=!1,this.s=3,nt(12),In(this),An(this);break e}}if(this.P){N=!0;let qn;for(;!this.J&&this.C<_e.length;)if(qn=mo(this,_e),qn==Si){Bt==4&&(this.s=4,nt(14),N=!1),it(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==ps){this.s=4,nt(15),it(this.i,this.l,_e,"[Invalid Chunk]"),N=!1;break}else it(this.i,this.l,qn,null),Xn(this,qn);if(gs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||_e.length!=0||this.h.h||(this.s=1,nt(16),N=!1),this.o=this.o&&N,!N)it(this.i,this.l,_e,"[Invalid Chunked Response]"),In(this),An(this);else if(0<_e.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),wu(qt),qt.M=!0,nt(11))}}else it(this.i,this.l,_e,null),Xn(this,_e);Bt==4&&In(this),this.o&&!this.J&&(Bt==4?Eh(this.j,this):(this.o=!1,qr(this)))}else dt(this.g),N==400&&0<_e.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),In(this),An(this)}}}catch{}finally{}};function gs(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function mo(u,A){var N=u.C,M=A.indexOf(`
`,N);return M==-1?Si:(N=Number(A.substring(N,M)),isNaN(N)?ps:(M+=1,M+N>A.length?Si:(A=A.slice(M,M+N),u.C=M+N,A)))}wn.prototype.cancel=function(){this.J=!0,In(this)};function qr(u){u.S=Date.now()+u.I,ms(u,u.I)}function ms(u,A){if(u.B!=null)throw Error("WatchDog timer not null");u.B=gr(d(u.ba,u),A)}function Oi(u){u.B&&(a.clearTimeout(u.B),u.B=null)}wn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(po(this.i,this.A),this.L!=2&&(on(),nt(17)),In(this),this.s=2,An(this)):ms(this,this.S-u)};function An(u){u.j.G==0||u.J||Eh(u.j,u)}function In(u){Oi(u);var A=u.M;A&&typeof A.ma=="function"&&A.ma(),u.M=null,nn(u.U),u.g&&(A=u.g,u.g=null,A.abort(),A.ma())}function Xn(u,A){try{var N=u.j;if(N.G!=0&&(N.g==u||Pi(N.h,u))){if(!u.K&&Pi(N.h,u)&&N.G==3){try{var M=N.Da.g.parse(A)}catch{M=null}if(Array.isArray(M)&&M.length==3){var oe=M;if(oe[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<u.F)Pa(N),an(N);else break e;Tu(N),nt(18)}}else N.za=oe[1],0<N.za-N.T&&37500>oe[2]&&N.F&&N.v==0&&!N.C&&(N.C=gr(d(N.Za,N),6e3));if(1>=ys(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else ji(N,11)}else if((u.K||N.g==u)&&Pa(N),!m(A))for(oe=N.Da.g.parse(A),A=0;A<oe.length;A++){let Ke=oe[A];if(N.T=Ke[0],Ke=Ke[1],N.G==2)if(Ke[0]=="c"){N.K=Ke[1],N.ia=Ke[2];const qt=Ke[3];qt!=null&&(N.la=qt,N.j.info("VER="+N.la));const Bt=Ke[4];Bt!=null&&(N.Aa=Bt,N.j.info("SVER="+N.Aa));const Is=Ke[5];Is!=null&&typeof Is=="number"&&0<Is&&(M=1.5*Is,N.L=M,N.j.info("backChannelRequestTimeoutMs_="+M)),M=N;const qn=u.g;if(qn){const Ca=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var ce=M.h;ce.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(ki(ce,ce.h),ce.h=null))}if(M.D){const Au=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Au&&(M.ya=Au,Ye(M.I,M.D,Au))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-u.F,N.j.info("Handshake RTT: "+N.R+"ms")),M=N;var _e=u;if(M.qa=Ah(M,M.J?M.ia:null,M.W),_e.K){_s(M.h,_e);var Je=_e,Dt=M.L;Dt&&(Je.I=Dt),Je.B&&(Oi(Je),qr(Je)),M.g=_e}else _h(M);0<N.i.length&&Fi(N)}else Ke[0]!="stop"&&Ke[0]!="close"||ji(N,7);else N.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?ji(N,7):Pn(N):Ke[0]!="noop"&&N.l&&N.l.ta(Ke),N.v=0)}}on(4)}catch{}}var Sn=class{constructor(u,A){this.g=u,this.map=A}};function Br(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ys(u){return u.h?1:u.g?u.g.size:0}function Pi(u,A){return u.h?u.h==A:u.g?u.g.has(A):!1}function ki(u,A){u.g?u.g.add(A):u.h=A}function _s(u,A){u.h&&u.h==A?u.h=null:u.g&&u.g.has(A)&&u.g.delete(A)}Br.prototype.cancel=function(){if(this.i=vr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vr(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let A=u.i;for(const N of u.g.values())A=A.concat(N.D);return A}return y(u.i)}function Ci(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var A=[],N=u.length,M=0;M<N;M++)A.push(u[M]);return A}A=[],N=0;for(M in u)A[N++]=u[M];return A}function yr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var A=[];u=u.length;for(var N=0;N<u;N++)A.push(N);return A}A=[],N=0;for(const M in u)A[N++]=M;return A}}}function Ni(u,A){if(u.forEach&&typeof u.forEach=="function")u.forEach(A,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,A,void 0);else for(var N=yr(u),M=Ci(u),oe=M.length,ce=0;ce<oe;ce++)A.call(void 0,M[ce],N&&N[ce],u)}var Di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vo(u,A){if(u){u=u.split("&");for(var N=0;N<u.length;N++){var M=u[N].indexOf("="),oe=null;if(0<=M){var ce=u[N].substring(0,M);oe=u[N].substring(M+1)}else ce=u[N];A(ce,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function Un(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Un){this.h=u.h,$r(this,u.j),this.o=u.o,this.g=u.g,Jn(this,u.s),this.l=u.l;var A=u.i,N=new _r;N.i=A.i,A.g&&(N.g=new Map(A.g),N.h=A.h),bs(this,N),this.m=u.m}else u&&(A=String(u).match(Di))?(this.h=!1,$r(this,A[1]||"",!0),this.o=Ct(A[2]||""),this.g=Ct(A[3]||"",!0),Jn(this,A[4]),this.l=Ct(A[5]||"",!0),bs(this,A[6]||"",!0),this.m=Ct(A[7]||"")):(this.h=!1,this.i=new _r(null,this.h))}Un.prototype.toString=function(){var u=[],A=this.j;A&&u.push(Yt(A,Es,!0),":");var N=this.g;return(N||A=="file")&&(u.push("//"),(A=this.o)&&u.push(Yt(A,Es,!0),"@"),u.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&u.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&u.push("/"),u.push(Yt(N,N.charAt(0)=="/"?yo:On,!0))),(N=this.i.toString())&&u.push("?",N),(N=this.m)&&u.push("#",Yt(N,bo)),u.join("")};function pn(u){return new Un(u)}function $r(u,A,N){u.j=N?Ct(A,!0):A,u.j&&(u.j=u.j.replace(/:$/,""))}function Jn(u,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);u.s=A}else u.s=null}function bs(u,A,N){A instanceof _r?(u.i=A,Mi(u.i,u.h)):(N||(A=Yt(A,_o)),u.i=new _r(A,u.h))}function Ye(u,A,N){u.i.set(A,N)}function Rn(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ct(u,A){return u?A?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yt(u,A,N){return typeof u=="string"?(u=encodeURI(u).replace(A,jn),N&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function jn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Es=/[#\/\?@]/g,On=/[#\?:]/g,yo=/[#\?]/g,_o=/[#\?@]/g,bo=/#/g;function _r(u,A){this.h=this.g=null,this.i=u||null,this.j=!!A}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&vo(u.i,function(A,N){u.add(decodeURIComponent(A.replace(/\+/g," ")),N)}))}t=_r.prototype,t.add=function(u,A){gn(this),this.i=null,u=mn(this,u);var N=this.g.get(u);return N||this.g.set(u,N=[]),N.push(A),this.h+=1,this};function St(u,A){gn(u),A=mn(u,A),u.g.has(A)&&(u.i=null,u.h-=u.g.get(A).length,u.g.delete(A))}function xi(u,A){return gn(u),A=mn(u,A),u.g.has(A)}t.forEach=function(u,A){gn(this),this.g.forEach(function(N,M){N.forEach(function(oe){u.call(A,oe,M,this)},this)},this)},t.na=function(){gn(this);const u=Array.from(this.g.values()),A=Array.from(this.g.keys()),N=[];for(let M=0;M<A.length;M++){const oe=u[M];for(let ce=0;ce<oe.length;ce++)N.push(A[M])}return N},t.V=function(u){gn(this);let A=[];if(typeof u=="string")xi(this,u)&&(A=A.concat(this.g.get(mn(this,u))));else{u=Array.from(this.g.values());for(let N=0;N<u.length;N++)A=A.concat(u[N])}return A},t.set=function(u,A){return gn(this),this.i=null,u=mn(this,u),xi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[A]),this.h+=1,this},t.get=function(u,A){return u?(u=this.V(u),0<u.length?String(u[0]):A):A};function Li(u,A,N){St(u,A),0<N.length&&(u.i=null,u.g.set(mn(u,A),y(N)),u.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],A=Array.from(this.g.keys());for(var N=0;N<A.length;N++){var M=A[N];const ce=encodeURIComponent(String(M)),_e=this.V(M);for(M=0;M<_e.length;M++){var oe=ce;_e[M]!==""&&(oe+="="+encodeURIComponent(String(_e[M]))),u.push(oe)}}return this.i=u.join("&")};function mn(u,A){return A=String(A),u.j&&(A=A.toLowerCase()),A}function Mi(u,A){A&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(N,M){var oe=M.toLowerCase();M!=oe&&(St(this,M),Li(this,oe,N))},u)),u.j=A}function Hr(u,A){const N=new mr;if(a.Image){const M=new Image;M.onload=p(vn,N,"TestLoadImage: loaded",!0,A,M),M.onerror=p(vn,N,"TestLoadImage: error",!1,A,M),M.onabort=p(vn,N,"TestLoadImage: abort",!1,A,M),M.ontimeout=p(vn,N,"TestLoadImage: timeout",!1,A,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=u}else A(!1)}function Eo(u,A){const N=new mr,M=new AbortController,oe=setTimeout(()=>{M.abort(),vn(N,"TestPingServer: timeout",!1,A)},1e4);fetch(u,{signal:M.signal}).then(ce=>{clearTimeout(oe),ce.ok?vn(N,"TestPingServer: ok",!0,A):vn(N,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(oe),vn(N,"TestPingServer: error",!1,A)})}function vn(u,A,N,M,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),M(N)}catch{}}function Vi(){this.g=new bt}function Ts(u,A,N){const M=N||"";try{Ni(u,function(oe,ce){let _e=oe;c(oe)&&(_e=dn(oe)),A.push(M+ce+"="+encodeURIComponent(_e))})}catch(oe){throw A.push(M+"type="+encodeURIComponent("_badmap")),oe}}function Xt(u){this.l=u.Ub||null,this.j=u.eb||!1}E(Xt,rn),Xt.prototype.g=function(){return new br(this.l,this.j)},Xt.prototype.i=function(u){return function(){return u}}({});function br(u,A){Ee.call(this),this.D=u,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(br,Ee),t=br.prototype,t.open=function(u,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=A,this.readyState=1,Tr(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(A.body=u),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zr(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function zr(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var A=u.value?u.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!u.done}))&&(this.response=this.responseText+=A)}u.done?Er(this):Tr(this),this.readyState==3&&zr(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Er(this))},t.Qa=function(u){this.g&&(this.response=u,Er(this))},t.ga=function(){this.g&&Er(this)};function Er(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Tr(u)}t.setRequestHeader=function(u,A){this.u.append(u,A)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],A=this.h.entries();for(var N=A.next();!N.done;)N=N.value,u.push(N[0]+": "+N[1]),N=A.next();return u.join(`\r
`)};function Tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function P(u){let A="";return D(u,function(N,M){A+=M,A+=":",A+=N,A+=`\r
`}),A}function L(u,A,N){e:{for(M in N){var M=!1;break e}M=!0}M||(N=P(N),typeof u=="string"?N!=null&&encodeURIComponent(String(N)):Ye(u,A,N))}function K(u){Ee.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(K,Ee);var fe=/^https?$/i,De=["POST","PUT"];t=K.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,A,N,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);A=A?A.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ii.g(),this.v=this.o?sn(this.o):sn(Ii),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(A,String(u),!0),this.B=!1}catch(ce){Ie(this,ce);return}if(u=N||"",N=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var oe in M)N.set(oe,M[oe]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ce of M.keys())N.set(ce,M.get(ce));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(N.keys()).find(ce=>ce.toLowerCase()=="content-type"),oe=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(De,A,void 0))||M||oe||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,_e]of N)this.g.setRequestHeader(ce,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{He(this),this.u=!0,this.g.send(u),this.u=!1}catch(ce){Ie(this,ce)}};function Ie(u,A){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=A,u.m=5,qe(u),rt(u)}function qe(u){u.A||(u.A=!0,Te(u,"complete"),Te(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Te(this,"complete"),Te(this,"abort"),rt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rt(this,!0)),K.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fe(this):this.bb())},t.bb=function(){Fe(this)};function Fe(u){if(u.h&&typeof o<"u"&&(!u.v[1]||et(u)!=4||u.Z()!=2)){if(u.u&&et(u)==4)Ve(u.Ea,0,u);else if(Te(u,"readystatechange"),et(u)==4){u.h=!1;try{const _e=u.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var N;if(!(N=A)){var M;if(M=_e===0){var oe=String(u.D).match(Di)[1]||null;!oe&&a.self&&a.self.location&&(oe=a.self.location.protocol.slice(0,-1)),M=!fe.test(oe?oe.toLowerCase():"")}N=M}if(N)Te(u,"complete"),Te(u,"success");else{u.m=6;try{var ce=2<et(u)?u.g.statusText:""}catch{ce=""}u.l=ce+" ["+u.Z()+"]",qe(u)}}finally{rt(u)}}}}function rt(u,A){if(u.g){He(u);const N=u.g,M=u.v[0]?()=>{}:null;u.g=null,u.v=null,A||Te(u,"ready");try{N.onreadystatechange=M}catch{}}}function He(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function et(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<et(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var A=this.g.responseText;return u&&A.indexOf(u)==0&&(A=A.substring(u.length)),vt(A)}};function Nt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function dt(u){const A={};u=(u.g&&2<=et(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<u.length;M++){if(m(u[M]))continue;var N=_(u[M]);const oe=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ce=A[oe]||[];A[oe]=ce,ce.push(N)}S(A,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ct(u,A,N){return N&&N.internalChannelParams&&N.internalChannelParams[u]||A}function yt(u){this.Aa=0,this.i=[],this.j=new mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ct("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ct("baseRetryDelayMs",5e3,u),this.cb=ct("retryDelaySeedMs",1e4,u),this.Wa=ct("forwardChannelMaxRetries",2,u),this.wa=ct("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Br(u&&u.concurrentRequestLimit),this.Da=new Vi,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yt.prototype,t.la=8,t.G=1,t.connect=function(u,A,N,M){nt(0),this.W=u,this.H=A||{},N&&M!==void 0&&(this.H.OSID=N,this.H.OAID=M),this.F=this.X,this.I=Ah(this,null,this.W),Fi(this)};function Pn(u){if(Zn(u),u.G==3){var A=u.U++,N=pn(u.I);if(Ye(N,"SID",u.K),Ye(N,"RID",A),Ye(N,"TYPE","terminate"),To(u,N),A=new wn(u,u.j,A),A.L=2,A.v=Rn(pn(N)),N=!1,a.navigator&&a.navigator.sendBeacon)try{N=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!N&&a.Image&&(new Image().src=A.v,N=!0),N||(A.g=Ih(A.j,null),A.g.ea(A.v)),A.F=Date.now(),qr(A)}wh(u)}function an(u){u.g&&(wu(u),u.g.cancel(),u.g=null)}function Zn(u){an(u),u.u&&(a.clearTimeout(u.u),u.u=null),Pa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Fi(u){if(!vs(u.h)&&!u.s){u.s=!0;var A=u.Ga;Y||$(),ue||(Y(),ue=!0),ee.add(A,u),u.B=0}}function ws(u,A){return ys(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=A.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=gr(d(u.Ga,u,A),Th(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const oe=new wn(this,this.j,u);let ce=this.o;if(this.S&&(ce?(ce=T(ce),I(ce,this.S)):ce=this.S),this.m!==null||this.O||(oe.H=ce,ce=null),this.P)e:{for(var A=0,N=0;N<this.i.length;N++){t:{var M=this.i[N];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(A+=M,4096<A){A=N;break e}if(A===4096||N===this.i.length-1){A=N+1;break e}}A=1e3}else A=1e3;A=yh(this,oe,A),N=pn(this.I),Ye(N,"RID",u),Ye(N,"CVER",22),this.D&&Ye(N,"X-HTTP-Session-Id",this.D),To(this,N),ce&&(this.O?A="headers="+encodeURIComponent(String(P(ce)))+"&"+A:this.m&&L(N,this.m,ce)),ki(this.h,oe),this.Ua&&Ye(N,"TYPE","init"),this.P?(Ye(N,"$req",A),Ye(N,"SID","null"),oe.T=!0,Ri(oe,N,null)):Ri(oe,N,A),this.G=2}}else this.G==3&&(u?Ui(this,u):this.i.length==0||vs(this.h)||Ui(this))};function Ui(u,A){var N;A?N=A.l:N=u.U++;const M=pn(u.I);Ye(M,"SID",u.K),Ye(M,"RID",N),Ye(M,"AID",u.T),To(u,M),u.m&&u.o&&L(M,u.m,u.o),N=new wn(u,u.j,N,u.B+1),u.m===null&&(N.H=u.o),A&&(u.i=A.D.concat(u.i)),A=yh(u,N,1e3),N.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ki(u.h,N),Ri(N,M,A)}function To(u,A){u.H&&D(u.H,function(N,M){Ye(A,M,N)}),u.l&&Ni({},function(N,M){Ye(A,M,N)})}function yh(u,A,N){N=Math.min(u.i.length,N);var M=u.l?d(u.l.Na,u.l,u):null;e:{var oe=u.i;let ce=-1;for(;;){const _e=["count="+N];ce==-1?0<N?(ce=oe[0].g,_e.push("ofs="+ce)):ce=0:_e.push("ofs="+ce);let Je=!0;for(let Dt=0;Dt<N;Dt++){let Ke=oe[Dt].g;const qt=oe[Dt].map;if(Ke-=ce,0>Ke)ce=Math.max(0,oe[Dt].g-100),Je=!1;else try{Ts(qt,_e,"req"+Ke+"_")}catch{M&&M(qt)}}if(Je){M=_e.join("&");break e}}}return u=u.i.splice(0,N),A.D=u,M}function _h(u){if(!u.g&&!u.u){u.Y=1;var A=u.Fa;Y||$(),ue||(Y(),ue=!0),ee.add(A,u),u.v=0}}function Tu(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=gr(d(u.Fa,u),Th(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,bh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=gr(d(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),an(this),bh(this))};function wu(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function bh(u){u.g=new wn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var A=pn(u.qa);Ye(A,"RID","rpc"),Ye(A,"SID",u.K),Ye(A,"AID",u.T),Ye(A,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(A,"TO",u.ja),Ye(A,"TYPE","xmlhttp"),To(u,A),u.m&&u.o&&L(A,u.m,u.o),u.L&&(u.g.I=u.L);var N=u.g;u=u.ia,N.L=1,N.v=Rn(pn(A)),N.m=null,N.P=!0,kt(N,u)}t.Za=function(){this.C!=null&&(this.C=null,an(this),Tu(this),nt(19))};function Pa(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Eh(u,A){var N=null;if(u.g==A){Pa(u),wu(u),u.g=null;var M=2}else if(Pi(u.h,A))N=A.D,_s(u.h,A),M=1;else return;if(u.G!=0){if(A.o)if(M==1){N=A.m?A.m.length:0,A=Date.now()-A.F;var oe=u.B;M=Yn(),Te(M,new cs(M,N)),Fi(u)}else _h(u);else if(oe=A.s,oe==3||oe==0&&0<A.X||!(M==1&&ws(u,A)||M==2&&Tu(u)))switch(N&&0<N.length&&(A=u.h,A.i=A.i.concat(N)),oe){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function Th(u,A){let N=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(N*=2),N*A}function ji(u,A){if(u.j.info("Error code "+A),A==2){var N=d(u.fb,u),M=u.Xa;const oe=!M;M=new Un(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$r(M,"https"),Rn(M),oe?Hr(M.toString(),N):Eo(M.toString(),N)}else nt(2);u.G=0,u.l&&u.l.sa(A),wh(u),Zn(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function wh(u){if(u.G=0,u.ka=[],u.l){const A=vr(u.h);(A.length!=0||u.i.length!=0)&&(b(u.ka,A),b(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function Ah(u,A,N){var M=N instanceof Un?pn(N):new Un(N);if(M.g!="")A&&(M.g=A+"."+M.g),Jn(M,M.s);else{var oe=a.location;M=oe.protocol,A=A?A+"."+oe.hostname:oe.hostname,oe=+oe.port;var ce=new Un(null);M&&$r(ce,M),A&&(ce.g=A),oe&&Jn(ce,oe),N&&(ce.l=N),M=ce}return N=u.D,A=u.ya,N&&A&&Ye(M,N,A),Ye(M,"VER",u.la),To(u,M),M}function Ih(u,A,N){if(A&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=u.Ca&&!u.pa?new K(new Xt({eb:N})):new K(u.pa),A.Ha(u.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sh(){}t=Sh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ka(){}ka.prototype.g=function(u,A){return new yn(u,A)};function yn(u,A){Ee.call(this),this.g=new yt(A),this.l=u,this.h=A&&A.messageUrlParams||null,u=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(u?u["X-WebChannel-Content-Type"]=A.messageContentType:u={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(u?u["X-WebChannel-Client-Profile"]=A.va:u={"X-WebChannel-Client-Profile":A.va}),this.g.S=u,(u=A&&A.Sb)&&!m(u)&&(this.g.m=u),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!m(A)&&(this.g.D=A,u=this.h,u!==null&&A in u&&(u=this.h,A in u&&delete u[A])),this.j=new As(this)}E(yn,Ee),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Pn(this.g)},yn.prototype.o=function(u){var A=this.g;if(typeof u=="string"){var N={};N.__data__=u,u=N}else this.u&&(N={},N.__data__=dn(u),u=N);A.i.push(new Sn(A.Ya++,u)),A.G==3&&Fi(A)},yn.prototype.N=function(){this.g.l=null,delete this.j,Pn(this.g),delete this.g,yn.aa.N.call(this)};function Rh(u){Fn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var A=u.__sm__;if(A){e:{for(const N in A){u=N;break e}u=void 0}(this.i=u)&&(u=this.i,A=A!==null&&u in A?A[u]:void 0),this.data=A}else this.data=u}E(Rh,Fn);function Oh(){pr.call(this),this.status=1}E(Oh,pr);function As(u){this.g=u}E(As,Sh),As.prototype.ua=function(){Te(this.g,"a")},As.prototype.ta=function(u){Te(this.g,new Rh(u))},As.prototype.sa=function(u){Te(this.g,new Oh)},As.prototype.ra=function(){Te(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,Vv=function(){return new ka},Mv=function(){return Yn()},Lv=Qt,kc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,Ja=jr,hs.COMPLETE="complete",xv=hs,dr.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,Co=dr,K.prototype.listenOnce=K.prototype.L,K.prototype.getLastError=K.prototype.Ka,K.prototype.getLastErrorCode=K.prototype.Ba,K.prototype.getStatus=K.prototype.Z,K.prototype.getResponseJson=K.prototype.Oa,K.prototype.getResponseText=K.prototype.oa,K.prototype.send=K.prototype.ea,K.prototype.setWithCredentials=K.prototype.Ha,Dv=K}).apply(typeof Va<"u"?Va:typeof self<"u"?self:typeof window<"u"?window:{});const zd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new Yl("@firebase/firestore");function Cs(){return ts.logLevel}function we(t,...e){if(ts.logLevel<=Ue.DEBUG){const n=e.map(Cf);ts.debug(`Firestore (${ao}): ${t}`,...n)}}function Lr(t,...e){if(ts.logLevel<=Ue.ERROR){const n=e.map(Cf);ts.error(`Firestore (${ao}): ${t}`,...n)}}function Ws(t,...e){if(ts.logLevel<=Ue.WARN){const n=e.map(Cf);ts.warn(`Firestore (${ao}): ${t}`,...n)}}function Cf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+t;throw Lr(e),new Error(e)}function Qe(t,e){t||Ce()}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class dI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pI{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new Fv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Ht(e)}}class gI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Qe(this.o===void 0);const r=s=>{s.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new vI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_I(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function Qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new wt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new wt(0,0))}static max(){return new xe(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(),r===void 0?r=e.length-n:r>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return aa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof aa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class st extends aa{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new st(n)}static emptyPath(){return new st([])}}const bI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends aa{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return bI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Se(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Se(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Se(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(st.fromString(e))}static fromName(e){return new Re(st.fromString(e).popFirst(5))}static empty(){return new Re(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new st(e.slice()))}}function EI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new hi(i,Re.empty(),e)}function TI(t){return new hi(t.readTime,t.key,-1)}class hi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hi(xe.min(),Re.empty(),-1)}static max(){return new hi(xe.max(),Re.empty(),-1)}}function wI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class II{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==AI)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,r)=>{n(e)})}static reject(e){return new pe((n,r)=>{r(e)})}static waitFor(e){return new pe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=pe.resolve(!1);for(const r of e)n=n.next(i=>i?pe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new pe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new pe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function SI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ru.oe=-1;function iu(t){return t==null}function wl(t){return t===0&&1/t==-1/0}function RI(t){return typeof t=="number"&&Number.isInteger(t)&&!wl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Kd(e)),e=PI(t.get(n),e);return Kd(e)}function PI(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Kd(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ei(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fa(this.root,e,this.comparator,!0)}}class Fa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Mt.RED,this.left=i??Mt.EMPTY,this.right=s??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Mt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wd(this.data.getIterator())}getIteratorFrom(e){return new Wd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class Wd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new At(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qv("Invalid base64 string: "+s):s}}(e);return new jt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const kI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=kI.exec(t);if(Qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pi(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function su(t){const e=t.mapValue.fields.__previous_value__;return Nf(e)?su(e):e}function la(t){const e=di(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ua{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ua("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ua&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nf(t)?4:DI(t)?9007199254740991:NI(t)?10:11:Ce()}function cr(t,e){if(t===e)return!0;const n=gi(t);if(n!==gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return la(t).isEqual(la(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=di(i.timestampValue),a=di(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return pi(i.bytesValue).isEqual(pi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return pt(i.geoPointValue.latitude)===pt(s.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return pt(i.integerValue)===pt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=pt(i.doubleValue),a=pt(s.doubleValue);return o===a?wl(o)===wl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qs(t.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Gd(o)!==Gd(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!cr(o[l],a[l])))return!1;return!0}(t,e);default:return Ce()}}function ca(t,e){return(t.values||[]).find(n=>cr(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;const n=gi(t),r=gi(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=pt(s.integerValue||s.doubleValue),l=pt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Qd(t.timestampValue,e.timestampValue);case 4:return Qd(la(t),la(e));case 5:return Be(t.stringValue,e.stringValue);case 6:return function(s,o){const a=pi(s),l=pi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const f=Be(a[c],l[c]);if(f!==0)return f}return Be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Be(pt(s.latitude),pt(o.latitude));return a!==0?a:Be(pt(s.longitude),pt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Yd(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,f;const h=s.fields||{},d=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,E=(l=d.value)===null||l===void 0?void 0:l.arrayValue,y=Be(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0);return y!==0?y:Yd(p,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ua.mapValue&&o===Ua.mapValue)return 0;if(s===Ua.mapValue)return 1;if(o===Ua.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const d=Be(l[h],f[h]);if(d!==0)return d;const p=Ys(a[l[h]],c[f[h]]);if(p!==0)return p}return Be(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function Qd(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=di(t),r=di(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function Yd(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ys(n[i],r[i]);if(s)return s}return Be(n.length,r.length)}function Xs(t){return Cc(t)}function Cc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Cc(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Cc(n.fields[o])}`;return i+"}"}(t.mapValue):Ce()}function Za(t){switch(gi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=su(t);return e?16+Za(e):16;case 5:return 2*t.stringValue.length;case 6:return pi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Za(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ei(r.fields,(s,o)=>{i+=s.length+Za(o)}),i}(t.mapValue);default:throw Ce()}}function Nc(t){return!!t&&"integerValue"in t}function Df(t){return!!t&&"arrayValue"in t}function Xd(t){return!!t&&"nullValue"in t}function Jd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function el(t){return!!t&&"mapValue"in t}function NI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function $o(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$o(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$o(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!el(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$o(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$o(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());el(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];el(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ei(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _n($o(this.value))}}function Bv(t){const e=[];return Ei(t.fields,(n,r)=>{const i=new Ft([n]);if(el(r)){const s=Bv(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gt(e,0,xe.min(),xe.min(),xe.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new Gt(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new Gt(e,2,n,xe.min(),xe.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,xe.min(),xe.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.position=e,this.inclusive=n}}function Zd(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Re.comparator(Re.fromName(o.referenceValue),n.key):r=Ys(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ep(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n="asc"){this.field=e,this.dir=n}}function xI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{}class Tt extends $v{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MI(e,n,r):n==="array-contains"?new UI(e,r):n==="in"?new jI(e,r):n==="not-in"?new qI(e,r):n==="array-contains-any"?new BI(e,r):new Tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VI(e,r):new FI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ys(n,this.value)):n!==null&&gi(this.value)===gi(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends $v{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new fr(e,n)}matches(e){return Hv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Hv(t){return t.op==="and"}function zv(t){return LI(t)&&Hv(t)}function LI(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function Dc(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+Xs(t.value);if(zv(t))return t.filters.map(e=>Dc(e)).join(",");{const e=t.filters.map(n=>Dc(n)).join(",");return`${t.op}(${e})`}}function Kv(t,e){return t instanceof Tt?function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&cr(r.value,i.value)}(t,e):t instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Kv(o,i.filters[a]),!0):!1}(t,e):void Ce()}function Gv(t){return t instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Xs(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(Gv).join(" ,")+"}"}(t):"Filter"}class MI extends Tt{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class VI extends Tt{constructor(e,n){super(e,"in",n),this.keys=Wv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FI extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=Wv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Wv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Re.fromName(r.referenceValue))}class UI extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Df(n)&&ca(n.arrayValue,this.value)}}class jI extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ca(this.value.arrayValue,n)}}class qI extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ca(this.value.arrayValue,n)}}class BI extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Df(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ca(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function tp(t,e=null,n=[],r=[],i=null,s=null,o=null){return new $I(t,e,n,r,i,s,o)}function xf(t){const e=Le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),iu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xs(r)).join(",")),e.ue=n}return e.ue}function Lf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Kv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ep(t.startAt,e.startAt)&&ep(t.endAt,e.endAt)}function xc(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HI(t,e,n,r,i,s,o,a){return new ou(t,e,n,r,i,s,o,a)}function Mf(t){return new ou(t)}function np(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zI(t){return t.collectionGroup!==null}function Ho(t){const e=Le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new At(Ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Il(s,r))}),n.has(Ft.keyField().canonicalString())||e.ce.push(new Il(Ft.keyField(),r))}return e.ce}function or(t){const e=Le(t);return e.le||(e.le=KI(e,Ho(t))),e.le}function KI(t,e){if(t.limitType==="F")return tp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Il(i.field,s)});const n=t.endAt?new Al(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Al(t.startAt.position,t.startAt.inclusive):null;return tp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lc(t,e,n){return new ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function au(t,e){return Lf(or(t),or(e))&&t.limitType===e.limitType}function Qv(t){return`${xf(or(t))}|lt:${t.limitType}`}function Ns(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Gv(i)).join(", ")}]`),iu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xs(i)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function lu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ho(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Zd(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ho(r),i)||r.endAt&&!function(o,a,l){const c=Zd(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ho(r),i))}(t,e)}function GI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Yv(t){return(e,n)=>{let r=!1;for(const i of Ho(t)){const s=WI(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function WI(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ys(l,c):Ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new lt(Re.comparator);function Mr(){return QI}const Xv=new lt(Re.comparator);function No(...t){let e=Xv;for(const n of t)e=e.insert(n.key,n);return e}function Jv(t){let e=Xv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ki(){return zo()}function Zv(){return zo()}function zo(){return new os(t=>t.toString(),(t,e)=>t.isEqual(e))}const YI=new lt(Re.comparator),XI=new At(Re.comparator);function je(...t){let e=XI;for(const n of t)e=e.add(n);return e}const JI=new At(Be);function ZI(){return JI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wl(e)?"-0":e}}function ey(t){return{integerValue:""+t}}function eS(t,e){return RI(e)?ey(e):Vf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this._=void 0}}function tS(t,e,n){return t instanceof Sl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Nf(s)&&(s=su(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof fa?ny(t,e):t instanceof ha?ry(t,e):function(i,s){const o=ty(i,s),a=rp(o)+rp(i.Pe);return Nc(o)&&Nc(i.Pe)?ey(a):Vf(i.serializer,a)}(t,e)}function nS(t,e,n){return t instanceof fa?ny(t,e):t instanceof ha?ry(t,e):n}function ty(t,e){return t instanceof Rl?function(r){return Nc(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Sl extends uu{}class fa extends uu{constructor(e){super(),this.elements=e}}function ny(t,e){const n=iy(e);for(const r of t.elements)n.some(i=>cr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ha extends uu{constructor(e){super(),this.elements=e}}function ry(t,e){let n=iy(e);for(const r of t.elements)n=n.filter(i=>!cr(i,r));return{arrayValue:{values:n}}}class Rl extends uu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function rp(t){return pt(t.integerValue||t.doubleValue)}function iy(t){return Df(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rS(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof fa&&i instanceof fa||r instanceof ha&&i instanceof ha?Qs(r.elements,i.elements,cr):r instanceof Rl&&i instanceof Rl?cr(r.Pe,i.Pe):r instanceof Sl&&i instanceof Sl}(t.transform,e.transform)}class iS{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cu{}function sy(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ff(t.key,zn.none()):new Aa(t.key,t.data,zn.none());{const n=t.data,r=_n.empty();let i=new At(Ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ti(t.key,r,new Nn(i.toArray()),zn.none())}}function sS(t,e,n){t instanceof Aa?function(i,s,o){const a=i.value.clone(),l=sp(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ti?function(i,s,o){if(!tl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=sp(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(oy(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ko(t,e,n,r){return t instanceof Aa?function(s,o,a,l){if(!tl(s.precondition,o))return a;const c=s.value.clone(),f=op(s.fieldTransforms,l,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ti?function(s,o,a,l){if(!tl(s.precondition,o))return a;const c=op(s.fieldTransforms,l,o),f=o.data;return f.setAll(oy(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return tl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function oS(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ty(r.transform,i||null);s!=null&&(n===null&&(n=_n.empty()),n.set(r.field,s))}return n||null}function ip(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qs(r,i,(s,o)=>rS(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Aa extends cu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ti extends cu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oy(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sp(t,e,n){const r=new Map;Qe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nS(o,a,n[i]))}return r}function op(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,tS(s,o,e))}return r}class Ff extends cu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aS extends cu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sS(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ko(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ko(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Zv();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sy(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,(n,r)=>ip(n,r))&&Qs(this.baseMutations,e.baseMutations,(n,r)=>ip(n,r))}}class Uf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qe(e.mutations.length===r.length);let i=function(){return YI}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Uf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,$e;function fS(t){switch(t){default:return Ce();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function ay(t){if(t===void 0)return Lr("GRPC error has no .code"),ve.UNKNOWN;switch(t){case _t.OK:return ve.OK;case _t.CANCELLED:return ve.CANCELLED;case _t.UNKNOWN:return ve.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ve.INTERNAL;case _t.UNAVAILABLE:return ve.UNAVAILABLE;case _t.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case _t.NOT_FOUND:return ve.NOT_FOUND;case _t.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case _t.ABORTED:return ve.ABORTED;case _t.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case _t.DATA_LOSS:return ve.DATA_LOSS;default:return Ce()}}($e=_t||(_t={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Qi([4294967295,4294967295],0);function ap(t){const e=hS().encode(t),n=new Nv;return n.update(e),new Uint8Array(n.digest())}function lp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qi([n,r],0),new Qi([i,s],0)]}class jf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Do(`Invalid padding: ${n}`);if(r<0)throw new Do(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Do(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Do(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Qi.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Qi.fromNumber(r)));return i.compare(dS)===1&&(i=new Qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=ap(e),[r,i]=lp(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new jf(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=ap(e),[r,i]=lp(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Do extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ia.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fu(xe.min(),i,new lt(Be),Mr(),je())}}class Ia{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ia(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class ly{constructor(e,n){this.targetId=e,this.me=n}}class uy{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class up{constructor(){this.fe=0,this.ge=cp(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),n=je(),r=je();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce()}}),new Ia(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=cp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=ja(),this.Qe=ja(),this.Ke=new lt(Be)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(xc(s))if(r===0){const o=new Re(s.path);this.We(n,o,Gt.newNoDocument(o,xe.min()))}else Qe(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=pi(r).toUint8Array()}catch(l){if(l instanceof qv)return Ws("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new jf(o,i,s)}catch(l){return Ws(l instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&xc(a.target)){const l=new Re(a.target.path);this.st(l).has(o)||this.ot(o,l)||this.We(o,l,Gt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=je();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new fu(e,n,this.Ke,this.ke,r);return this.ke=Mr(),this.qe=ja(),this.Qe=ja(),this.Ke=new lt(Be),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new up,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new At(Be),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new At(Be),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new up),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ja(){return new lt(Re.comparator)}function cp(){return new lt(Re.comparator)}const gS={asc:"ASCENDING",desc:"DESCENDING"},mS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vS={and:"AND",or:"OR"};class yS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mc(t,e){return t.useProto3Json||iu(e)?e:{value:e}}function Ol(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cy(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _S(t,e){return Ol(t,e.toTimestamp())}function ar(t){return Qe(!!t),xe.fromTimestamp(function(n){const r=di(n);return new wt(r.seconds,r.nanos)}(t))}function qf(t,e){return Vc(t,e).canonicalString()}function Vc(t,e){const n=function(i){return new st(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fy(t){const e=st.fromString(t);return Qe(my(e)),e}function Fc(t,e){return qf(t.databaseId,e.path)}function Qu(t,e){const n=fy(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(dy(n))}function hy(t,e){return qf(t.databaseId,e)}function bS(t){const e=fy(t);return e.length===4?st.emptyPath():dy(e)}function Uc(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dy(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fp(t,e,n){return{name:Fc(t,e),fields:n.value.mapValue.fields}}function ES(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(Qe(f===void 0||typeof f=="string"),jt.fromBase64String(f||"")):(Qe(f===void 0||f instanceof Buffer||f instanceof Uint8Array),jt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?ve.UNKNOWN:ay(c.code);return new Se(f,c.message||"")}(o);n=new uy(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qu(t,r.document.name),s=ar(r.document.updateTime),o=r.document.createTime?ar(r.document.createTime):xe.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Gt.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new nl(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qu(t,r.document),s=r.readTime?ar(r.readTime):xe.min(),o=Gt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new nl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qu(t,r.document),s=r.removedTargetIds||[];n=new nl([],s,i,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new cS(i,s),a=r.targetId;n=new ly(a,o)}}return n}function TS(t,e){let n;if(e instanceof Aa)n={update:fp(t,e.key,e.value)};else if(e instanceof Ff)n={delete:Fc(t,e.key)};else if(e instanceof Ti)n={update:fp(t,e.key,e.data),updateMask:CS(e.fieldMask)};else{if(!(e instanceof aS))return Ce();n={verify:Fc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Sl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof fa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ha)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rl)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_S(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce()}(t,e.precondition)),n}function wS(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ar(i.updateTime):ar(s);return o.isEqual(xe.min())&&(o=ar(s)),new iS(o,i.transformResults||[])}(n,e))):[]}function AS(t,e){return{documents:[hy(t,e.path)]}}function IS(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hy(t,i);const s=function(c){if(c.length!==0)return gy(fr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(d){return{field:Ds(d.field),direction:OS(d.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mc(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function SS(t){let e=bS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qe(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const d=py(h);return d instanceof fr&&zv(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(E){return new Il(xs(E.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,iu(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new Al(p,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,p=h.values||[];return new Al(p,d)}(n.endAt)),HI(e,i,o,s,a,"F",l,c)}function RS(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function py(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xs(n.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xs(n.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xs(n.unaryFilter.field);return Tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xs(n.unaryFilter.field);return Tt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(n){return Tt.create(xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>py(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(t):Ce()}function OS(t){return gS[t]}function PS(t){return mS[t]}function kS(t){return vS[t]}function Ds(t){return{fieldPath:t.canonicalString()}}function xs(t){return Ft.fromServerFormat(t.fieldPath)}function gy(t){return t instanceof Tt?function(n){if(n.op==="=="){if(Jd(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NAN"}};if(Xd(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jd(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NAN"}};if(Xd(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(n.field),op:PS(n.op),value:n.value}}}(t):t instanceof fr?function(n){const r=n.getFilters().map(i=>gy(i));return r.length===1?r[0]:{compositeFilter:{op:kS(n.op),filters:r}}}(t):Ce()}function CS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function my(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,r,i,s=xe.min(),o=xe.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.ht=e}}function DS(t){const e=SS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.ln=new LS}addToCollectionParentIndex(e,n){return this.ln.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(hi.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(hi.min())}updateCollectionGroup(e,n,r){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class LS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(st.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Js(0)}static Qn(){return new Js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp([t,e],[n,r]){const i=Be(t,n);return i===0?Be(e,r):i}class MS{constructor(e){this.Gn=e,this.buffer=new At(dp),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dp(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VS{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){we("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uo(n)?we("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await lo(n)}await this.Yn(3e5)})}}class FS{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(ru.oe);const r=new MS(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(hp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hp):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,a,l,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Cs()<=Ue.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-f}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function US(t,e){return new FS(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.changes=new os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ko(r.mutation,i,Nn.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){const i=Ki();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=No();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ki();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Mr();const o=zo(),a=function(){return zo()}();return n.forEach((l,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Ti)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),Ko(f.mutation,c,f.mutation.getFieldMask(),wt.now())):o.set(c.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var h;return a.set(c,new qS(f,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=zo();let i=new lt((o,a)=>o-a),s=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||Nn.empty();f=a.applyToLocalView(c,f),r.set(l,f);const h=(i.get(a.batchId)||je()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,h=Zv();f.forEach(d=>{if(!s.has(d)){const p=sy(n.get(d),r.get(d));p!==null&&h.set(d,p),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return pe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):pe.resolve(Ki());let a=-1,l=s;return o.next(c=>pe.forEach(c,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?pe.resolve():this.remoteDocumentCache.getEntry(e,f).next(d=>{l=l.insert(f,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,je())).next(f=>({batchId:a,changes:Jv(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(r=>{let i=No();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=No();return this.indexManager.getCollectionParents(e,s).next(a=>pe.forEach(a,l=>{const c=function(h,d){return new ou(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,Gt.newInvalidDocument(f)))});let a=No();return o.forEach((l,c)=>{const f=s.get(l);f!==void 0&&Ko(f.mutation,c,Nn.empty(),wt.now()),lu(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return pe.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ar(i.createTime)}}(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:DS(i.bundledQuery),readTime:ar(i.readTime)}}(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.overlays=new lt(Re.comparator),this.Er=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ki();return pe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),pe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),pe.resolve()}getOverlaysForCollection(e,n,r){const i=Ki(),s=n.length+1,o=new Re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new lt((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=Ki(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Ki(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return pe.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uS(n,r));let s=this.Er.get(n);s===void 0&&(s=je(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this.dr=new At(Rt.Ar),this.Rr=new At(Rt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Rt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Re(new st([])),r=new Rt(n,e),i=new Rt(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Re(new st([])),r=new Rt(n,e),i=new Rt(n,e+1);let s=je();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Rt(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Re.comparator(e.key,n.key)||Be(e.br,n.br)}static Vr(e,n){return Be(e.br,n.br)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new At(Rt.Ar)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lS(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new Rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return pe.resolve(o)}lookupMutationBatch(e,n){return pe.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Be);return n.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),pe.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Re.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new Re(s),0);let a=new At(Be);return this.vr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.br)),!0)},o),pe.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Qe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return pe.forEach(n.mutations,i=>{const s=new Rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new Rt(n,0),i=this.vr.firstAfterOrEqual(r);return pe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.Nr=e,this.docs=function(){return new lt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pe.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gt.newInvalidDocument(i))}),pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mr();const o=n.path,a=new Re(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||wI(TI(f),r)<=0||(i.has(f.key)||lu(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return pe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ce()}Lr(e,n){return pe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WS(this)}getSize(e){return pe.resolve(this.size)}}class WS extends jS{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),pe.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.persistence=e,this.Br=new os(n=>xf(n),Lf),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Bf,this.targetCount=0,this.Qr=Js.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),pe.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Js(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Un(n),pe.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),pe.waitFor(s).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return pe.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),pe.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),pe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return pe.resolve(r)}containsKey(e,n){return pe.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.Kr={},this.overlays={},this.$r=new ru(0),this.Ur=!1,this.Ur=!0,this.Wr=new zS,this.referenceDelegate=e(this),this.Gr=new QS(this),this.indexManager=new xS,this.remoteDocumentCache=function(i){return new GS(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new NS(n),this.jr=new $S(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new KS(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new YS(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return pe.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class YS extends II{constructor(e){super(),this.currentSequenceNumber=e}}class $f{constructor(e){this.persistence=e,this.Zr=new Bf,this.Xr=null}static ei(e){return new $f(e)}get ti(){if(this.Xr)return this.Xr;throw Ce()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),pe.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.ti,r=>{const i=Re.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,xe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return pe.or([()=>pe.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Pl{constructor(e,n){this.persistence=e,this.ri=new os(r=>OI(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=US(this,n)}static ei(e,n){return new Pl(e,n)}Hr(){}Jr(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return pe.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?pe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,s.removeEntry(o,xe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),pe.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Za(e.data.value)),n}ir(e,n,r){return pe.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return pe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=je(),i=je();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Hf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return dE()?8:SI(Wt())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new XS;return this.ts(e,n,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Cs()<=Ue.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),pe.resolve()):(Cs()<=Ue.DEBUG&&we("QueryEngine","Query:",Ns(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Cs()<=Ue.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):pe.resolve())}Xi(e,n){if(np(n))return pe.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lc(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=je(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.rs(n,a);return this.ss(n,c,o,l.readTime)?this.Xi(e,Lc(n,null,"F")):this.os(e,c,n,l)}))})))}es(e,n,r,i){return np(n)||i.isEqual(xe.min())?pe.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?pe.resolve(null):(Cs()<=Ue.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(n)),this.os(e,o,n,EI(i,-1)).next(a=>a))})}rs(e,n){let r=new At(Yv(e));return n.forEach((i,s)=>{lu(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return Cs()<=Ue.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Ns(n)),this.Zi.getDocumentsMatchingQuery(e,n,hi.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new lt(Be),this.cs=new os(s=>xf(s),Lf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BS(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function eR(t,e,n,r){return new ZS(t,e,n,r)}async function yy(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=je();for(const c of i){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function tR(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,f){const h=c.batch,d=h.keys();let p=pe.resolve();return d.forEach(E=>{p=p.next(()=>f.getEntry(l,E)).next(y=>{const b=c.docVersions.get(E);Qe(b!==null),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),f.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=je();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _y(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function nR(t,e){const n=Le(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((f,h)=>{const d=i.get(h);if(!d)return;a.push(n.Gr.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Gr.addMatchingKeys(s,f.addedDocuments,h)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(jt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(h,p),function(y,b,v){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,p,f)&&a.push(n.Gr.updateTargetData(s,p))});let l=Mr(),c=je();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(rR(s,o,e.documentUpdates).next(f=>{l=f.Is,c=f.Es})),!r.isEqual(xe.min())){const f=n.Gr.getLastRemoteSnapshotVersion(s).next(h=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return pe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.us=i,s))}function rR(t,e,n){let r=je(),i=je();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Mr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):we("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Is:o,Es:i}})}function iR(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sR(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,pe.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new ii(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function jc(t,e,n){const r=Le(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!uo(o))throw o;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function pp(t,e,n){const r=Le(t);let i=xe.min(),s=je();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,f){const h=Le(l),d=h.cs.get(f);return d!==void 0?pe.resolve(h.us.get(d)):h.Gr.getTargetData(c,f)}(r,o,or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:xe.min(),n?s:je())).next(a=>(oR(r,GI(e),a),{documents:a,ds:s})))}function oR(t,e,n){let r=t.ls.get(e)||xe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class gp{constructor(){this.activeTargetIds=ZI()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aR{constructor(){this._o=new gp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new gp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa=null;function Yu(){return qa===null?qa=function(){return 268435456+Math.round(2147483648*Math.random())}():qa++,"0x"+qa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class fR extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const a=Yu(),l=this.No(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,s,o),this.Bo(n,l,c,i).then(f=>(we("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Ws("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}ko(n,r,i,s,o,a){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=uR[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=Yu();return new Promise((o,a)=>{const l=new Dv;l.setWithCredentials(!0),l.listenOnce(xv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ja.NO_ERROR:const f=l.getResponseJson();we($t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ja.TIMEOUT:we($t,`RPC '${e}' ${s} timed out`),a(new Se(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Ja.HTTP_ERROR:const h=l.getStatus();if(we($t,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const E=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(v)>=0?v:ve.UNKNOWN}(p.status);a(new Se(E,p.message))}else a(new Se(ve.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Se(ve.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{we($t,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);we($t,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}qo(e,n,r){const i=Yu(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vv(),a=Mv(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");we($t,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=o.createWebChannel(f,l);let d=!1,p=!1;const E=new cR({Eo:b=>{p?we($t,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(d||(we($t,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),we($t,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},Ao:()=>h.close()}),y=(b,v,m)=>{b.listen(v,w=>{try{m(w)}catch(g){setTimeout(()=>{throw g},0)}})};return y(h,Co.EventType.OPEN,()=>{p||(we($t,`RPC '${e}' stream ${i} transport opened.`),E.So())}),y(h,Co.EventType.CLOSE,()=>{p||(p=!0,we($t,`RPC '${e}' stream ${i} transport closed`),E.Do())}),y(h,Co.EventType.ERROR,b=>{p||(p=!0,Ws($t,`RPC '${e}' stream ${i} transport errored:`,b),E.Do(new Se(ve.UNAVAILABLE,"The operation could not be completed")))}),y(h,Co.EventType.MESSAGE,b=>{var v;if(!p){const m=b.data[0];Qe(!!m);const w=m,g=(w==null?void 0:w.error)||((v=w[0])===null||v===void 0?void 0:v.error);if(g){we($t,`RPC '${e}' stream ${i} received error:`,g);const k=g.status;let D=function(C){const I=_t[C];if(I!==void 0)return ay(I)}(k),S=g.message;D===void 0&&(D=ve.INTERNAL,S="Unknown error status: "+k+" with message "+g.message),p=!0,E.Do(new Se(D,S)),h.close()}else we($t,`RPC '${e}' stream ${i} received:`,m),E.vo(m)}}),y(a,Lv.STAT_EVENT,b=>{b.stat===kc.PROXY?we($t,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===kc.NOPROXY&&we($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.bo()},0),E}}function Xu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){return new yS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,i,s,o,a,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new by(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Se(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hR extends Ey{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=ES(this.serializer,e),r=function(s){if(!("targetChange"in s))return xe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?xe.min():o.readTime?ar(o.readTime):xe.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Uc(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=xc(l)?{documents:AS(s,l)}:{query:IS(s,l).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=cy(s,o.resumeToken);const c=Mc(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(xe.min())>0){a.readTime=Ol(s,o.snapshotVersion.toTimestamp());const c=Mc(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=RS(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Uc(this.serializer),n.removeTarget=e,this.c_(n)}}class dR extends Ey{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=wS(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Uc(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>TS(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Se(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,Vc(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(ve.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,Vc(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(ve.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class gR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Lr(n),this.C_=!1):we("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{as(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Le(l);c.k_.add(4),await Sa(c),c.K_.set("Unknown"),c.k_.delete(4),await du(c)}(this))})}),this.K_=new gR(r,i)}}async function du(t){if(as(t))for(const e of t.q_)await e(!0)}async function Sa(t){for(const e of t.q_)await e(!1)}function Ty(t,e){const n=Le(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Wf(n)?Gf(n):co(n).s_()&&Kf(n,e))}function zf(t,e){const n=Le(t),r=co(n);n.B_.delete(e),r.s_()&&wy(n,e),n.B_.size===0&&(r.s_()?r.a_():as(n)&&n.K_.set("Unknown"))}function Kf(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(t).V_(e)}function wy(t,e){t.U_.xe(e),co(t).m_(e)}function Gf(t){t.U_=new pS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),co(t).start(),t.K_.F_()}function Wf(t){return as(t)&&!co(t).i_()&&t.B_.size>0}function as(t){return Le(t).k_.size===0}function Ay(t){t.U_=void 0}async function vR(t){t.K_.set("Online")}async function yR(t){t.B_.forEach((e,n)=>{Kf(t,e)})}async function _R(t,e){Ay(t),Wf(t)?(t.K_.O_(e),Gf(t)):t.K_.set("Unknown")}async function bR(t,e,n){if(t.K_.set("Online"),e instanceof uy&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kl(t,r)}else if(e instanceof nl?t.U_.$e(e):e instanceof ly?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(xe.min()))try{const r=await _y(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.U_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.B_.get(c);f&&s.B_.set(c,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const f=s.B_.get(l);if(!f)return;s.B_.set(l,f.withResumeToken(jt.EMPTY_BYTE_STRING,f.snapshotVersion)),wy(s,l);const h=new ii(f.target,l,c,f.sequenceNumber);Kf(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await kl(t,r)}}async function kl(t,e,n){if(!uo(e))throw e;t.k_.add(1),await Sa(t),t.K_.set("Offline"),n||(n=()=>_y(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await du(t)})}function Iy(t,e){return e().catch(n=>kl(t,n,e))}async function pu(t){const e=Le(t),n=mi(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;ER(e);)try{const i=await iR(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,TR(e,i)}catch(i){await kl(e,i)}Sy(e)&&Ry(e)}function ER(t){return as(t)&&t.L_.length<10}function TR(t,e){t.L_.push(e);const n=mi(t);n.s_()&&n.f_&&n.g_(e.mutations)}function Sy(t){return as(t)&&!mi(t).i_()&&t.L_.length>0}function Ry(t){mi(t).start()}async function wR(t){mi(t).w_()}async function AR(t){const e=mi(t);for(const n of t.L_)e.g_(n.mutations)}async function IR(t,e,n){const r=t.L_.shift(),i=Uf.from(r,e,n);await Iy(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pu(t)}async function SR(t,e){e&&mi(t).f_&&await async function(r,i){if(function(o){return fS(o)&&o!==ve.ABORTED}(i.code)){const s=r.L_.shift();mi(r).__(),await Iy(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await pu(r)}}(t,e),Sy(t)&&Ry(t)}async function vp(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=as(n);n.k_.add(3),await Sa(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await du(n)}async function RR(t,e){const n=Le(t);e?(n.k_.delete(2),await du(n)):e||(n.k_.add(2),await Sa(n),n.K_.set("Unknown"))}function co(t){return t.W_||(t.W_=function(n,r,i){const s=Le(n);return s.b_(),new hR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:vR.bind(null,t),mo:yR.bind(null,t),po:_R.bind(null,t),R_:bR.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Wf(t)?Gf(t):t.K_.set("Unknown")):(await t.W_.stop(),Ay(t))})),t.W_}function mi(t){return t.G_||(t.G_=function(n,r,i){const s=Le(n);return s.b_(),new dR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:wR.bind(null,t),po:SR.bind(null,t),p_:AR.bind(null,t),y_:IR.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await pu(t)):(await t.G_.stop(),t.L_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Qf(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yf(t,e){if(Lr("AsyncQueue",`${e}: ${t}`),uo(t))return new Se(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{static emptySet(e){return new Ks(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=No(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ks;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.z_=new lt(Re.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ce():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zs{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zs(e,n,Ks.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class PR{constructor(){this.queries=_p(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Le(n),s=i.queries;i.queries=_p(),s.forEach((o,a)=>{for(const l of a.J_)l.onError(r)})})(this,new Se(ve.ABORTED,"Firestore shutting down"))}}function _p(){return new os(t=>Qv(t),au)}async function Oy(t,e){const n=Le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new OR,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Yf(o,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&Xf(n)}async function Py(t,e){const n=Le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kR(t,e){const n=Le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.J_)a.ta(i)&&(r=!0);o.H_=i}}r&&Xf(n)}function CR(t,e,n){const r=Le(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function Xf(t){t.X_.forEach(e=>{e.next()})}var qc,bp;(bp=qc||(qc={})).na="default",bp.Cache="cache";class ky{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==qc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e){this.key=e}}class Ny{constructor(e){this.key=e}}class NR{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=je(),this.mutatedKeys=je(),this.Va=Yv(e),this.ma=new Ks(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new yp,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const d=i.get(f),p=lu(this.query,h)?h:null,E=!!d&&this.mutatedKeys.has(d.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;d&&p?d.data.isEqual(p.data)?E!==y&&(r.track({type:3,doc:p}),b=!0):this.ya(d,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.Va(p,l)>0||c&&this.Va(p,c)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),b=!0):d&&!p&&(r.track({type:1,doc:d}),b=!0,(l||c)&&(a=!0)),b&&(p?(o=o.add(p),s=y?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ma:o,pa:r,ss:a,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((f,h)=>function(p,E){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return y(p)-y(E)}(f.type,h.type)||this.Va(f.doc,h.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,c=l!==this.Aa;return this.Aa=l,o.length!==0||c?{snapshot:new Zs(this.query,e.ma,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new yp,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=je(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new Ny(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new Cy(r))}),n}va(e){this.da=e.ds,this.Ra=je();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Zs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class DR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xR{constructor(e){this.key=e,this.Fa=!1}}class LR{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new os(a=>Qv(a),au),this.Oa=new Map,this.Na=new Set,this.La=new lt(Re.comparator),this.Ba=new Map,this.ka=new Bf,this.qa={},this.Qa=new Map,this.Ka=Js.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function MR(t,e,n=!0){const r=Fy(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await Dy(r,e,n,!0),i}async function VR(t,e){const n=Fy(t);await Dy(n,e,!0,!1)}async function Dy(t,e,n,r){const i=await sR(t.localStore,or(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await FR(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ty(t.remoteStore,i),a}async function FR(t,e,n,r,i){t.Ua=(h,d,p)=>async function(y,b,v,m){let w=b.view.ga(v);w.ss&&(w=await pp(y.localStore,b.query,!1).then(({documents:S})=>b.view.ga(S,w)));const g=m&&m.targetChanges.get(b.targetId),k=m&&m.targetMismatches.get(b.targetId)!=null,D=b.view.applyChanges(w,y.isPrimaryClient,g,k);return Tp(y,b.targetId,D.ba),D.snapshot}(t,h,d,p);const s=await pp(t.localStore,e,!0),o=new NR(e,s.ds),a=o.ga(s.documents),l=Ia.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Tp(t,n,c.ba);const f=new DR(e,n,o);return t.xa.set(e,f),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function UR(t,e,n){const r=Le(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!au(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zf(r.remoteStore,i.targetId),Bc(r,i.targetId)}).catch(lo)):(Bc(r,i.targetId),await jc(r.localStore,i.targetId,!0))}async function jR(t,e){const n=Le(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zf(n.remoteStore,r.targetId))}async function qR(t,e,n){const r=WR(t);try{const i=await function(o,a){const l=Le(o),c=wt.now(),f=a.reduce((p,E)=>p.add(E.key),je());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let E=Mr(),y=je();return l.hs.getEntries(p,f).next(b=>{E=b,E.forEach((v,m)=>{m.isValidDocument()||(y=y.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,E)).next(b=>{h=b;const v=[];for(const m of a){const w=oS(m,h.get(m.key).overlayedDocument);w!=null&&v.push(new Ti(m.key,w,Bv(w.value.mapValue),zn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,a)}).next(b=>{d=b;const v=b.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(p,b.batchId,v)})}).then(()=>({batchId:d.batchId,changes:Jv(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.qa[o.currentUser.toKey()];c||(c=new lt(Be)),c=c.insert(a,l),o.qa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ra(r,i.changes),await pu(r.remoteStore)}catch(i){const s=Yf(i,"Failed to persist write");n.reject(s)}}async function xy(t,e){const n=Le(t);try{const r=await nR(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?Qe(o.Fa):i.removedDocuments.size>0&&(Qe(o.Fa),o.Fa=!1))}),await Ra(n,r,e)}catch(r){await lo(r)}}function Ep(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Le(o);l.onlineState=a;let c=!1;l.queries.forEach((f,h)=>{for(const d of h.J_)d.ea(a)&&(c=!0)}),c&&Xf(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BR(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new lt(Re.comparator);o=o.insert(s,Gt.newNoDocument(s,xe.min()));const a=je().add(s),l=new fu(xe.min(),new Map,new lt(Be),o,a);await xy(r,l),r.La=r.La.remove(s),r.Ba.delete(e),Jf(r)}else await jc(r.localStore,e,!1).then(()=>Bc(r,e,n)).catch(lo)}async function $R(t,e){const n=Le(t),r=e.batch.batchId;try{const i=await tR(n.localStore,e);My(n,r,null),Ly(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ra(n,i)}catch(i){await lo(i)}}async function HR(t,e,n){const r=Le(t);try{const i=await function(o,a){const l=Le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Qe(h!==null),f=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(r.localStore,e);My(r,e,n),Ly(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ra(r,i)}catch(i){await lo(i)}}function Ly(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function My(t,e,n){const r=Le(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Bc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||Vy(t,r)})}function Vy(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(zf(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),Jf(t))}function Tp(t,e,n){for(const r of n)r instanceof Cy?(t.ka.addReference(r.key,e),zR(t,r)):r instanceof Ny?(we("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||Vy(t,r.key)):Ce()}function zR(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(we("SyncEngine","New document in limbo: "+n),t.Na.add(r),Jf(t))}function Jf(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Re(st.fromString(e)),r=t.Ka.next();t.Ba.set(r,new xR(n)),t.La=t.La.insert(n,r),Ty(t.remoteStore,new ii(or(Mf(n.path)),r,"TargetPurposeLimboResolution",ru.oe))}}async function Ra(t,e,n){const r=Le(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{o.push(r.Ua(l,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Hf.zi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(l,c){const f=Le(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>pe.forEach(c,d=>pe.forEach(d.Wi,p=>f.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>pe.forEach(d.Gi,p=>f.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!uo(h))throw h;we("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const p=f.us.get(d),E=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(E);f.us=f.us.insert(d,y)}}}(r.localStore,s))}async function KR(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await yy(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(a=>{a.forEach(l=>{l.reject(new Se(ve.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ra(n,r.Ts)}}function GR(t,e){const n=Le(t),r=n.Ba.get(e);if(r&&r.Fa)return je().add(r.key);{let i=je();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const a=n.xa.get(o);i=i.unionWith(a.view.fa)}return i}}function Fy(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BR.bind(null,e),e.Ma.R_=kR.bind(null,e.eventManager),e.Ma.Wa=CR.bind(null,e.eventManager),e}function WR(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$R.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HR.bind(null,e),e}class Cl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return eR(this.persistence,new JS,e.initialUser,this.serializer)}ja(e){return new vy($f.ei,this.serializer)}za(e){return new aR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cl.provider={build:()=>new Cl};class QR extends Cl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Qe(this.persistence.referenceDelegate instanceof Pl);const r=this.persistence.referenceDelegate.garbageCollector;return new VS(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new vy(r=>Pl.ei(r,n),this.serializer)}}class $c{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ep(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KR.bind(null,this.syncEngine),await RR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PR}()}createDatastore(e){const n=hu(e.databaseInfo.databaseId),r=function(s){return new fR(s)}(e.databaseInfo);return function(s,o,a,l){return new pR(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new mR(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Ep(this.syncEngine,n,0),function(){return mp.p()?new mp:new lR}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,f){const h=new LR(i,s,o,a,l,c);return f&&(h.$a=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Le(i);we("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Sa(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$c.provider={build:()=>new $c};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=Uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{we("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(we("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ju(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yy(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XR(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vp(e.remoteStore,i)),t._onlineComponents=e}async function XR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ju(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ws("Error using user provided cache. Falling back to memory cache: "+n),await Ju(t,new Cl)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await Ju(t,new QR(void 0));return t._offlineComponents}async function jy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await wp(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await wp(t,new $c))),t._onlineComponents}function JR(t){return jy(t).then(e=>e.syncEngine)}async function qy(t){const e=await jy(t),n=e.eventManager;return n.onListen=MR.bind(null,e.syncEngine),n.onUnlisten=UR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jR.bind(null,e.syncEngine),n}function ZR(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const f=new Uy({next:d=>{f.eu(),o.enqueueAndForget(()=>Py(s,h));const p=d.docs.has(a);!p&&d.fromCache?c.reject(new Se(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?c.reject(new Se(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new ky(Mf(a.path),f,{includeMetadataChanges:!0,ua:!0});return Oy(s,h)}(await qy(t),t.asyncQueue,e,n,r)),r.promise}function eO(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const f=new Uy({next:d=>{f.eu(),o.enqueueAndForget(()=>Py(s,h)),d.fromCache&&l.source==="server"?c.reject(new Se(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new ky(a,f,{includeMetadataChanges:!0,ua:!0});return Oy(s,h)}(await qy(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t,e,n){if(!n)throw new Se(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tO(t,e,n,r){if(e===!0&&r===!0)throw new Se(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ip(t){if(!Re.isDocumentKey(t))throw new Se(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sp(t){if(Re.isDocumentKey(t))throw new Se(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zf(t);throw new Se(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=By((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hI;switch(r.type){case"firstParty":return new mI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ap.get(n);r&&(we("ComponentProvider","Removing Datastore"),Ap.delete(n),r.terminate())}(this),Promise.resolve()}}function nO(t,e,n,r={}){var i;const s=(t=hr(t,gu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ht.MOCK_USER;else{a=aE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Se(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ht(c)}t._authCredentials=new dI(new Fv(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mu(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class ci extends mu{constructor(e,n,r){super(e,n,Mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Re(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function rO(t,e,...n){if(t=It(t),$y("collection","path",e),t instanceof gu){const r=st.fromString(e,...n);return Sp(r),new ci(t,null,r)}{if(!(t instanceof hn||t instanceof ci))throw new Se(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return Sp(r),new ci(t.firestore,null,r)}}function fo(t,e,...n){if(t=It(t),arguments.length===1&&(e=Uv.newId()),$y("doc","path",e),t instanceof gu){const r=st.fromString(e,...n);return Ip(r),new hn(t,null,new Re(r))}{if(!(t instanceof hn||t instanceof ci))throw new Se(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return Ip(r),new hn(t.firestore,t instanceof ci?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new by(this,"async_queue_retry"),this.fu=()=>{const r=Xu();r&&we("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Xu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Xu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Nr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!uo(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Lr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=Qf.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&Ce()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class ho extends gu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Op,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Op(e),this._firestoreClient=void 0,await e}}}function iO(t,e){const n=typeof t=="object"?t:mf(),r=typeof t=="string"?t:"(default)",i=is(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sE("firestore");s&&nO(i,...s)}return i}function eh(t){if(t._terminated)throw new Se(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sO(t),t._firestoreClient}function sO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,f){return new CI(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,By(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new YR(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eo(jt.fromBase64String(e))}catch(n){throw new Se(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eo(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=/^__.*__$/;class aO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new Aa(e,this.data,n,this.fieldTransforms)}}class lO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ti(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class ih{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new ih(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Nl(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Hy(this.Mu)&&oO.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class uO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hu(e)}$u(e,n,r,i=!1){return new ih({Mu:e,methodName:n,Ku:r,path:Ft.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zy(t){const e=t._freezeSettings(),n=hu(t._databaseId);return new uO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cO(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);ah("Data must be an object, but it was:",o,r);const a=Ky(r,o);let l,c;if(s.merge)l=new Nn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const d=Wy(e,h,n);if(!o.contains(d))throw new Se(ve.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);pO(f,d)||f.push(d)}l=new Nn(f),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new aO(new _n(a),l,c)}class sh extends th{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sh}}function fO(t,e,n,r){const i=t.$u(1,e,n);ah("Data must be an object, but it was:",i,r);const s=[],o=_n.empty();Ei(r,(l,c)=>{const f=lh(e,l,n);c=It(c);const h=i.Bu(f);if(c instanceof sh)s.push(f);else{const d=oh(c,h);d!=null&&(s.push(f),o.set(f,d))}});const a=new Nn(s);return new lO(o,a,i.fieldTransforms)}function hO(t,e,n,r,i,s){if(t.$u(1,e,n),Wy(e,r,n),s.length%2!=0)throw new Se(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`)}function oh(t,e){if(Gy(t=It(t)))return ah("Unsupported field value:",e,t),Ky(t,e);if(t instanceof th)return function(r,i){if(!Hy(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=oh(a,i.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eS(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=wt.fromDate(r);return{timestampValue:Ol(i.serializer,s)}}if(r instanceof wt){const s=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ol(i.serializer,s)}}if(r instanceof nh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof eo)return{bytesValue:cy(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof rh)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return Vf(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Zf(r)}`)}(t,e)}function Ky(t,e){const n={};return jv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(t,(r,i)=>{const s=oh(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Gy(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof nh||t instanceof eo||t instanceof hn||t instanceof th||t instanceof rh)}function ah(t,e,n){if(!Gy(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Zf(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Wy(t,e,n){if((e=It(e))instanceof vu)return e._internalPath;if(typeof e=="string")return lh(t,e);throw Nl("Field path arguments must be of type string or ",t,!1,void 0,n)}const dO=new RegExp("[~\\*/\\[\\]]");function lh(t,e,n){if(e.search(dO)>=0)throw Nl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vu(...e.split("."))._internalPath}catch{throw Nl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Se(ve.INVALID_ARGUMENT,a+t+l)}function pO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gO extends Qy{data(){return super.data()}}function Yy(t,e){return typeof e=="string"?lh(t,e):e instanceof vu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vO{convertValue(e,n="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ei(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>pt(o.doubleValue));return new rh(s)}convertGeoPoint(e){return new nh(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=su(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(la(e));default:return null}}convertTimestamp(e){const n=di(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Qe(my(r));const i=new ua(r.get(1),r.get(3)),s=new Re(r.popFirst(5));return i.isEqual(n)||Lr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xy extends Qy{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rl extends Xy{data(e={}){return super.data(e)}}class _O{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rl(this._firestore,this._userDataWriter,r.key,r,new xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new rl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new rl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:bO(a.type),doc:l,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){t=hr(t,hn);const e=hr(t.firestore,ho);return ZR(eh(e),t._key).then(n=>AO(e,t,n))}class Jy extends vO{constructor(e){super(),this.firestore=e}convertBytes(e){return new eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function TO(t){t=hr(t,mu);const e=hr(t.firestore,ho),n=eh(e),r=new Jy(e);return mO(t._query),eO(n,t._query).then(i=>new _O(e,r,t,i))}function Zy(t,e,n){t=hr(t,hn);const r=hr(t.firestore,ho),i=yO(t.converter,e);return uh(r,[cO(zy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,zn.none())])}function e_(t,e,n,...r){t=hr(t,hn);const i=hr(t.firestore,ho),s=zy(i);let o;return o=typeof(e=It(e))=="string"||e instanceof vu?hO(s,"updateDoc",t._key,e,n,r):fO(s,"updateDoc",t._key,e),uh(i,[o.toMutation(t._key,zn.exists(!0))])}function wO(t){return uh(hr(t.firestore,ho),[new Ff(t._key,zn.none())])}function uh(t,e){return function(r,i){const s=new Nr;return r.asyncQueue.enqueueAndForget(async()=>qR(await JR(r),i,s)),s.promise}(eh(t),e)}function AO(t,e,n){const r=n.docs.get(e._key),i=new Jy(t);return new Xy(t,i,e._key,r,new xo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ao=i})(io),ur(new Kn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ho(new pI(r.getProvider("auth-internal")),new yI(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Se(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ua(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ln(zd,"4.7.5",e),Ln(zd,"4.7.5","esm2017")})();const IO={apiKey:"AIzaSyCbm6L_FcZumK_x-_wMFF3F4pWAe7HQYGM",authDomain:"anascrew-6b546.firebaseapp.com",databaseURL:"https://anascrew-6b546-default-rtdb.europe-west1.firebasedatabase.app",projectId:"anascrew-6b546",storageBucket:"anascrew-6b546.firebasestorage.app",messagingSenderId:"869848160499",appId:"1:869848160499:web:0484705de0ffa03efcff86",measurementId:"G-8NZ6NB12T7"},ch=Rm(IO);QT(ch);const Pp=cI(ch),ls=iO(ch),SO=Wl("auth",()=>{const t=at(null),e=at(localStorage.getItem("authToken")||null),n=at(!1);return{user:t,token:e,ready:n,fetchUser:()=>new Promise(s=>{Jw(Pp,async o=>{if(t.value=o,o){const a=await fw(o);e.value=a,localStorage.setItem("authToken",a)}else e.value=null,localStorage.removeItem("authToken");n.value=!0,s()})}),logout:async()=>{await Zw(Pp),t.value=null,e.value=null,n.value=!1,localStorage.removeItem("authToken")}}});var Ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n_={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Ut,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),c=i(46),f=i(47),h=i(48),d=i(49),p=i(12),E=i(32),y=i(33),b=i(31),v=i(1),m={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:f.default,Inline:c.default,Text:d.default,Attributor:{Attribute:p.default,Class:E.default,Style:y.default,Store:b.default}};r.default=m},function(n,r,i){var s=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var w in m)m.hasOwnProperty(w)&&(v[w]=m[w])};return function(v,m){b(v,m);function w(){this.constructor=v}v.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(b){s(v,b);function v(m){var w=this;return m="[Parchment] "+m,w=b.call(this,m)||this,w.message=m,w.name=w.constructor.name,w}return v}(Error);r.ParchmentError=o;var a={},l={},c={},f={};r.DATA_KEY="__blot";var h;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function d(b,v){var m=E(b);if(m==null)throw new o("Unable to create "+b+" blot");var w=m,g=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:w.create(v);return new w(g,v)}r.create=d;function p(b,v){return v===void 0&&(v=!1),b==null?null:b[r.DATA_KEY]!=null?b[r.DATA_KEY].blot:v?p(b.parentNode,v):null}r.find=p;function E(b,v){v===void 0&&(v=h.ANY);var m;if(typeof b=="string")m=f[b]||a[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)m=f.text;else if(typeof b=="number")b&h.LEVEL&h.BLOCK?m=f.block:b&h.LEVEL&h.INLINE&&(m=f.inline);else if(b instanceof HTMLElement){var w=(b.getAttribute("class")||"").split(/\s+/);for(var g in w)if(m=l[w[g]],m)break;m=m||c[b.tagName]}return m==null?null:v&h.LEVEL&m.scope&&v&h.TYPE&m.scope?m:null}r.query=E;function y(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];if(b.length>1)return b.map(function(g){return y(g)});var m=b[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new o("Invalid definition");if(m.blotName==="abstract")throw new o("Cannot register abstract class");if(f[m.blotName||m.attrName]=m,typeof m.keyName=="string")a[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(g){return g.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var w=Array.isArray(m.tagName)?m.tagName:[m.tagName];w.forEach(function(g){(c[g]==null||m.className==null)&&(c[g]=m)})}return m}r.register=y},function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),c="\0",f=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};f.prototype.insert=function(h,d){var p={};return h.length===0?this:(p.insert=h,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p))},f.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},f.prototype.retain=function(h,d){if(h<=0)return this;var p={retain:h};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p)},f.prototype.push=function(h){var d=this.ops.length,p=this.ops[d-1];if(h=a(!0,{},h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[d-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(d-=1,p=this.ops[d-1],typeof p!="object"))return this.ops.unshift(h),this;if(o(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[d-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[d-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this}}return d===this.ops.length?this.ops.push(h):this.ops.splice(d,0,h),this},f.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},f.prototype.filter=function(h){return this.ops.filter(h)},f.prototype.forEach=function(h){this.ops.forEach(h)},f.prototype.map=function(h){return this.ops.map(h)},f.prototype.partition=function(h){var d=[],p=[];return this.forEach(function(E){var y=h(E)?d:p;y.push(E)}),[d,p]},f.prototype.reduce=function(h,d){return this.ops.reduce(h,d)},f.prototype.changeLength=function(){return this.reduce(function(h,d){return d.insert?h+l.length(d):d.delete?h-d.delete:h},0)},f.prototype.length=function(){return this.reduce(function(h,d){return h+l.length(d)},0)},f.prototype.slice=function(h,d){h=h||0,typeof d!="number"&&(d=1/0);for(var p=[],E=l.iterator(this.ops),y=0;y<d&&E.hasNext();){var b;y<h?b=E.next(h-y):(b=E.next(d-y),p.push(b)),y+=l.length(b)}return new f(p)},f.prototype.compose=function(h){var d=l.iterator(this.ops),p=l.iterator(h.ops),E=[],y=p.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var b=y.retain;d.peekType()==="insert"&&d.peekLength()<=b;)b-=d.peekLength(),E.push(d.next());y.retain-b>0&&p.next(y.retain-b)}for(var v=new f(E);d.hasNext()||p.hasNext();)if(p.peekType()==="insert")v.push(p.next());else if(d.peekType()==="delete")v.push(d.next());else{var m=Math.min(d.peekLength(),p.peekLength()),w=d.next(m),g=p.next(m);if(typeof g.retain=="number"){var k={};typeof w.retain=="number"?k.retain=m:k.insert=w.insert;var D=l.attributes.compose(w.attributes,g.attributes,typeof w.retain=="number");if(D&&(k.attributes=D),v.push(k),!p.hasNext()&&o(v.ops[v.ops.length-1],k)){var S=new f(d.rest());return v.concat(S).chop()}}else typeof g.delete=="number"&&typeof w.retain=="number"&&v.push(g)}return v.chop()},f.prototype.concat=function(h){var d=new f(this.ops.slice());return h.ops.length>0&&(d.push(h.ops[0]),d.ops=d.ops.concat(h.ops.slice(1))),d},f.prototype.diff=function(h,d){if(this.ops===h.ops)return new f;var p=[this,h].map(function(m){return m.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:c;var g=m===h?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),E=new f,y=s(p[0],p[1],d),b=l.iterator(this.ops),v=l.iterator(h.ops);return y.forEach(function(m){for(var w=m[1].length;w>0;){var g=0;switch(m[0]){case s.INSERT:g=Math.min(v.peekLength(),w),E.push(v.next(g));break;case s.DELETE:g=Math.min(w,b.peekLength()),b.next(g),E.delete(g);break;case s.EQUAL:g=Math.min(b.peekLength(),v.peekLength(),w);var k=b.next(g),D=v.next(g);o(k.insert,D.insert)?E.retain(g,l.attributes.diff(k.attributes,D.attributes)):E.push(D).delete(g);break}w-=g}}),E.chop()},f.prototype.eachLine=function(h,d){d=d||`
`;for(var p=l.iterator(this.ops),E=new f,y=0;p.hasNext();){if(p.peekType()!=="insert")return;var b=p.peek(),v=l.length(b)-p.peekLength(),m=typeof b.insert=="string"?b.insert.indexOf(d,v)-v:-1;if(m<0)E.push(p.next());else if(m>0)E.push(p.next(m));else{if(h(E,p.next(1).attributes||{},y)===!1)return;y+=1,E=new f}}E.length()>0&&h(E,{},y)},f.prototype.transform=function(h,d){if(d=!!d,typeof h=="number")return this.transformPosition(h,d);for(var p=l.iterator(this.ops),E=l.iterator(h.ops),y=new f;p.hasNext()||E.hasNext();)if(p.peekType()==="insert"&&(d||E.peekType()!=="insert"))y.retain(l.length(p.next()));else if(E.peekType()==="insert")y.push(E.next());else{var b=Math.min(p.peekLength(),E.peekLength()),v=p.next(b),m=E.next(b);if(v.delete)continue;m.delete?y.push(m):y.retain(b,l.attributes.transform(v.attributes,m.attributes,d))}return y.chop()},f.prototype.transformPosition=function(h,d){d=!!d;for(var p=l.iterator(this.ops),E=0;p.hasNext()&&E<=h;){var y=p.peekLength(),b=p.peekType();if(p.next(),b==="delete"){h-=Math.min(y,h-E);continue}else b==="insert"&&(E<h||!d)&&(h+=y);E+=y}return h},n.exports=f},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},c=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var E=i.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!E&&!y)return!1;var b;for(b in p);return typeof b>"u"||i.call(p,b)},f=function(p,E){o&&E.name==="__proto__"?o(p,E.name,{enumerable:!0,configurable:!0,value:E.newValue,writable:!0}):p[E.name]=E.newValue},h=function(p,E){if(E==="__proto__")if(i.call(p,E)){if(a)return a(p,E).value}else return;return p[E]};n.exports=function d(){var p,E,y,b,v,m,w=arguments[0],g=1,k=arguments.length,D=!1;for(typeof w=="boolean"&&(D=w,w=arguments[1]||{},g=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});g<k;++g)if(p=arguments[g],p!=null)for(E in p)y=h(w,E),b=h(p,E),w!==b&&(D&&b&&(c(b)||(v=l(b)))?(v?(v=!1,m=y&&l(y)?y:[]):m=y&&c(y)?y:{},f(w,{name:E,newValue:d(D,m,b)})):typeof b<"u"&&f(w,{name:E,newValue:b}));return w}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function _(R,O){for(var U=0;U<O.length;U++){var z=O[U];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(R,z.key,z)}}return function(R,O,U){return O&&_(R.prototype,O),U&&_(R,U),R}}(),o=function _(R,O,U){R===null&&(R=Function.prototype);var z=Object.getOwnPropertyDescriptor(R,O);if(z===void 0){var J=Object.getPrototypeOf(R);return J===null?void 0:_(J,O,U)}else{if("value"in z)return z.value;var Y=z.get;return Y===void 0?void 0:Y.call(U)}},a=i(3),l=w(a),c=i(2),f=w(c),h=i(0),d=w(h),p=i(16),E=w(p),y=i(6),b=w(y),v=i(7),m=w(v);function w(_){return _&&_.__esModule?_:{default:_}}function g(_,R){if(!(_ instanceof R))throw new TypeError("Cannot call a class as a function")}function k(_,R){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:_}function D(_,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);_.prototype=Object.create(R&&R.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(_,R):_.__proto__=R)}var S=1,T=function(_){D(R,_);function R(){return g(this,R),k(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return s(R,[{key:"attach",value:function(){o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(U,z){var J=d.default.query(U,d.default.Scope.BLOCK_ATTRIBUTE);J!=null&&this.attributes.attribute(J,z)}},{key:"formatAt",value:function(U,z,J,Y){this.format(J,Y)}},{key:"insertAt",value:function(U,z,J){if(typeof z=="string"&&z.endsWith(`
`)){var Y=d.default.create(C.blotName);this.parent.insertBefore(Y,U===0?this:this.next),Y.insertAt(0,z.slice(0,-1))}else o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,U,z,J)}}]),R}(d.default.Embed);T.scope=d.default.Scope.BLOCK_BLOT;var C=function(_){D(R,_);function R(O){g(this,R);var U=k(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,O));return U.cache={},U}return s(R,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(U,z){return z.length()===0?U:U.insert(z.value(),I(z))},new f.default).insert(`
`,I(this))),this.cache.delta}},{key:"deleteAt",value:function(U,z){o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,U,z),this.cache={}}},{key:"formatAt",value:function(U,z,J,Y){z<=0||(d.default.query(J,d.default.Scope.BLOCK)?U+z===this.length()&&this.format(J,Y):o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,U,Math.min(z,this.length()-U-1),J,Y),this.cache={})}},{key:"insertAt",value:function(U,z,J){if(J!=null)return o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,U,z,J);if(z.length!==0){var Y=z.split(`
`),ue=Y.shift();ue.length>0&&(U<this.length()-1||this.children.tail==null?o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,Math.min(U,this.length()-1),ue):this.children.tail.insertAt(this.children.tail.length(),ue),this.cache={});var ee=this;Y.reduce(function($,x){return ee=ee.split($,!0),ee.insertAt(0,x),x.length},U+ue.length)}}},{key:"insertBefore",value:function(U,z){var J=this.children.head;o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,U,z),J instanceof E.default&&J.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(U,z){o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"moveChildren",this).call(this,U,z),this.cache={}}},{key:"optimize",value:function(U){o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,U),this.cache={}}},{key:"path",value:function(U){return o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,U,!0)}},{key:"removeChild",value:function(U){o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"removeChild",this).call(this,U),this.cache={}}},{key:"split",value:function(U){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(z&&(U===0||U>=this.length()-S)){var J=this.clone();return U===0?(this.parent.insertBefore(J,this),this):(this.parent.insertBefore(J,this.next),J)}else{var Y=o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"split",this).call(this,U,z);return this.cache={},Y}}}]),R}(d.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[b.default,d.default.Embed,m.default];function I(_){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _==null||(typeof _.formats=="function"&&(R=(0,l.default)(R,_.formats())),_.parent==null||_.parent.blotName=="scroll"||_.parent.statics.scope!==_.statics.scope)?R:I(_.parent,R)}r.bubbleFormats=I,r.BlockEmbed=T,r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},o=function(){function ee($,x){var q=[],H=!0,re=!1,X=void 0;try{for(var j=$[Symbol.iterator](),V;!(H=(V=j.next()).done)&&(q.push(V.value),!(x&&q.length===x));H=!0);}catch(W){re=!0,X=W}finally{try{!H&&j.return&&j.return()}finally{if(re)throw X}}return q}return function($,x){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return ee($,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ee($,x){for(var q=0;q<x.length;q++){var H=x[q];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty($,H.key,H)}}return function($,x,q){return x&&ee($.prototype,x),q&&ee($,q),$}}();i(50);var l=i(2),c=I(l),f=i(14),h=I(f),d=i(8),p=I(d),E=i(9),y=I(E),b=i(0),v=I(b),m=i(15),w=I(m),g=i(3),k=I(g),D=i(10),S=I(D),T=i(34),C=I(T);function I(ee){return ee&&ee.__esModule?ee:{default:ee}}function _(ee,$,x){return $ in ee?Object.defineProperty(ee,$,{value:x,enumerable:!0,configurable:!0,writable:!0}):ee[$]=x,ee}function R(ee,$){if(!(ee instanceof $))throw new TypeError("Cannot call a class as a function")}var O=(0,S.default)("quill"),U=function(){a(ee,null,[{key:"debug",value:function(x){x===!0&&(x="log"),S.default.level(x)}},{key:"find",value:function(x){return x.__quill||v.default.find(x)}},{key:"import",value:function(x){return this.imports[x]==null&&O.error("Cannot import "+x+". Are you sure it was registered?"),this.imports[x]}},{key:"register",value:function(x,q){var H=this,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof x!="string"){var X=x.attrName||x.blotName;typeof X=="string"?this.register("formats/"+X,x,q):Object.keys(x).forEach(function(j){H.register(j,x[j],q)})}else this.imports[x]!=null&&!re&&O.warn("Overwriting "+x+" with",q),this.imports[x]=q,(x.startsWith("blots/")||x.startsWith("formats/"))&&q.blotName!=="abstract"?v.default.register(q):x.startsWith("modules")&&typeof q.register=="function"&&q.register()}}]);function ee($){var x=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R(this,ee),this.options=z($,q),this.container=this.options.container,this.container==null)return O.error("Invalid Quill container",$);this.options.debug&&ee.debug(this.options.debug);var H=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(X){X===p.default.events.TEXT_CHANGE&&x.root.classList.toggle("ql-blank",x.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(X,j){var V=x.selection.lastRange,W=V&&V.length===0?V.index:void 0;J.call(x,function(){return x.editor.update(null,j,W)},X)});var re=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+H+"<p><br></p></div>");this.setContents(re),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(ee,[{key:"addContainer",value:function(x){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof x=="string"){var H=x;x=document.createElement("div"),x.classList.add(H)}return this.container.insertBefore(x,q),x}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(x,q,H){var re=this,X=Y(x,q,H),j=o(X,4);return x=j[0],q=j[1],H=j[3],J.call(this,function(){return re.editor.deleteText(x,q)},H,x,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(x),this.container.classList.toggle("ql-disabled",!x)}},{key:"focus",value:function(){var x=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=x,this.scrollIntoView()}},{key:"format",value:function(x,q){var H=this,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return J.call(this,function(){var X=H.getSelection(!0),j=new c.default;if(X==null)return j;if(v.default.query(x,v.default.Scope.BLOCK))j=H.editor.formatLine(X.index,X.length,_({},x,q));else{if(X.length===0)return H.selection.format(x,q),j;j=H.editor.formatText(X.index,X.length,_({},x,q))}return H.setSelection(X,p.default.sources.SILENT),j},re)}},{key:"formatLine",value:function(x,q,H,re,X){var j=this,V=void 0,W=Y(x,q,H,re,X),Q=o(W,4);return x=Q[0],q=Q[1],V=Q[2],X=Q[3],J.call(this,function(){return j.editor.formatLine(x,q,V)},X,x,0)}},{key:"formatText",value:function(x,q,H,re,X){var j=this,V=void 0,W=Y(x,q,H,re,X),Q=o(W,4);return x=Q[0],q=Q[1],V=Q[2],X=Q[3],J.call(this,function(){return j.editor.formatText(x,q,V)},X,x,0)}},{key:"getBounds",value:function(x){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=void 0;typeof x=="number"?H=this.selection.getBounds(x,q):H=this.selection.getBounds(x.index,x.length);var re=this.container.getBoundingClientRect();return{bottom:H.bottom-re.top,height:H.height,left:H.left-re.left,right:H.right-re.left,top:H.top-re.top,width:H.width}}},{key:"getContents",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,H=Y(x,q),re=o(H,2);return x=re[0],q=re[1],this.editor.getContents(x,q)}},{key:"getFormat",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof x=="number"?this.editor.getFormat(x,q):this.editor.getFormat(x.index,x.length)}},{key:"getIndex",value:function(x){return x.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(x){return this.scroll.leaf(x)}},{key:"getLine",value:function(x){return this.scroll.line(x)}},{key:"getLines",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof x!="number"?this.scroll.lines(x.index,x.length):this.scroll.lines(x,q)}},{key:"getModule",value:function(x){return this.theme.modules[x]}},{key:"getSelection",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return x&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,H=Y(x,q),re=o(H,2);return x=re[0],q=re[1],this.editor.getText(x,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(x,q,H){var re=this,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ee.sources.API;return J.call(this,function(){return re.editor.insertEmbed(x,q,H)},X,x)}},{key:"insertText",value:function(x,q,H,re,X){var j=this,V=void 0,W=Y(x,0,H,re,X),Q=o(W,4);return x=Q[0],V=Q[2],X=Q[3],J.call(this,function(){return j.editor.insertText(x,q,V)},X,x,q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(x,q,H){this.clipboard.dangerouslyPasteHTML(x,q,H)}},{key:"removeFormat",value:function(x,q,H){var re=this,X=Y(x,q,H),j=o(X,4);return x=j[0],q=j[1],H=j[3],J.call(this,function(){return re.editor.removeFormat(x,q)},H,x)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(x){var q=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return J.call(this,function(){x=new c.default(x);var re=q.getLength(),X=q.editor.deleteText(0,re),j=q.editor.applyDelta(x),V=j.ops[j.ops.length-1];V!=null&&typeof V.insert=="string"&&V.insert[V.insert.length-1]===`
`&&(q.editor.deleteText(q.getLength()-1,1),j.delete(1));var W=X.compose(j);return W},H)}},{key:"setSelection",value:function(x,q,H){if(x==null)this.selection.setRange(null,q||ee.sources.API);else{var re=Y(x,q,H),X=o(re,4);x=X[0],q=X[1],H=X[3],this.selection.setRange(new m.Range(x,q),H),H!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(x){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,H=new c.default().insert(x);return this.setContents(H,q)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,q=this.scroll.update(x);return this.selection.update(x),q}},{key:"updateContents",value:function(x){var q=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return J.call(this,function(){return x=new c.default(x),q.editor.applyDelta(x,H)},H,!0)}}]),ee}();U.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},U.events=p.default.events,U.sources=p.default.sources,U.version="1.3.7",U.imports={delta:c.default,parchment:v.default,"core/module":y.default,"core/theme":C.default};function z(ee,$){if($=(0,k.default)(!0,{container:ee,modules:{clipboard:!0,keyboard:!0,history:!0}},$),!$.theme||$.theme===U.DEFAULTS.theme)$.theme=C.default;else if($.theme=U.import("themes/"+$.theme),$.theme==null)throw new Error("Invalid theme "+$.theme+". Did you register it?");var x=(0,k.default)(!0,{},$.theme.DEFAULTS);[x,$].forEach(function(re){re.modules=re.modules||{},Object.keys(re.modules).forEach(function(X){re.modules[X]===!0&&(re.modules[X]={})})});var q=Object.keys(x.modules).concat(Object.keys($.modules)),H=q.reduce(function(re,X){var j=U.import("modules/"+X);return j==null?O.error("Cannot load "+X+" module. Are you sure you registered it?"):re[X]=j.DEFAULTS||{},re},{});return $.modules!=null&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,k.default)(!0,{},U.DEFAULTS,{modules:H},x,$),["bounds","container","scrollingContainer"].forEach(function(re){typeof $[re]=="string"&&($[re]=document.querySelector($[re]))}),$.modules=Object.keys($.modules).reduce(function(re,X){return $.modules[X]&&(re[X]=$.modules[X]),re},{}),$}function J(ee,$,x,q){if(this.options.strict&&!this.isEnabled()&&$===p.default.sources.USER)return new c.default;var H=x==null?null:this.getSelection(),re=this.editor.delta,X=ee();if(H!=null&&(x===!0&&(x=H.index),q==null?H=ue(H,X,$):q!==0&&(H=ue(H,x,q,$)),this.setSelection(H,p.default.sources.SILENT)),X.length()>0){var j,V=[p.default.events.TEXT_CHANGE,X,re,$];if((j=this.emitter).emit.apply(j,[p.default.events.EDITOR_CHANGE].concat(V)),$!==p.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,V)}}return X}function Y(ee,$,x,q,H){var re={};return typeof ee.index=="number"&&typeof ee.length=="number"?typeof $!="number"?(H=q,q=x,x=$,$=ee.length,ee=ee.index):($=ee.length,ee=ee.index):typeof $!="number"&&(H=q,q=x,x=$,$=0),(typeof x>"u"?"undefined":s(x))==="object"?(re=x,H=q):typeof x=="string"&&(q!=null?re[x]=q:H=x),H=H||p.default.sources.API,[ee,$,re,H]}function ue(ee,$,x,q){if(ee==null)return null;var H=void 0,re=void 0;if($ instanceof c.default){var X=[ee.index,ee.index+ee.length].map(function(Q){return $.transformPosition(Q,q!==p.default.sources.USER)}),j=o(X,2);H=j[0],re=j[1]}else{var V=[ee.index,ee.index+ee.length].map(function(Q){return Q<$||Q===$&&q===p.default.sources.USER?Q:x>=0?Q+x:Math.max($,Q+x)}),W=o(V,2);H=W[0],re=W[1]}return new m.Range(H,re-H)}r.expandConfig=z,r.overload=Y,r.default=U},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(v,m){for(var w=0;w<m.length;w++){var g=m[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,m,w){return m&&b(v.prototype,m),w&&b(v,w),v}}(),o=function b(v,m,w){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,m);if(g===void 0){var k=Object.getPrototypeOf(v);return k===null?void 0:b(k,m,w)}else{if("value"in g)return g.value;var D=g.get;return D===void 0?void 0:D.call(w)}},a=i(7),l=h(a),c=i(0),f=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function d(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function p(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function E(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var y=function(b){E(v,b);function v(){return d(this,v),p(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"formatAt",value:function(w,g,k,D){if(v.compare(this.statics.blotName,k)<0&&f.default.query(k,f.default.Scope.BLOT)){var S=this.isolate(w,g);D&&S.wrap(k,D)}else o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,w,g,k,D)}},{key:"optimize",value:function(w){if(o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,w),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(w,g){var k=v.order.indexOf(w),D=v.order.indexOf(g);return k>=0||D>=0?k-D:w===g?0:w<g?-1:1}}]),v}(f.default.Inline);y.allowedChildren=[y,f.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function m(w,g){for(var k=0;k<g.length;k++){var D=g[k];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,g,k){return g&&m(w.prototype,g),k&&m(w,k),w}}(),o=function m(w,g,k){w===null&&(w=Function.prototype);var D=Object.getOwnPropertyDescriptor(w,g);if(D===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:m(S,g,k)}else{if("value"in D)return D.value;var T=D.get;return T===void 0?void 0:T.call(k)}},a=i(54),l=h(a),c=i(10),f=h(c);function h(m){return m&&m.__esModule?m:{default:m}}function d(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function p(m,w){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:m}function E(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}var y=(0,f.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(m){document.addEventListener(m,function(){for(var w=arguments.length,g=Array(w),k=0;k<w;k++)g[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(D){if(D.__quill&&D.__quill.emitter){var S;(S=D.__quill.emitter).handleDOM.apply(S,g)}})})});var v=function(m){E(w,m);function w(){d(this,w);var g=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return g.listeners={},g.on("error",y.error),g}return s(w,[{key:"emit",value:function(){y.log.apply(y,arguments),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var D=arguments.length,S=Array(D>1?D-1:0),T=1;T<D;T++)S[T-1]=arguments[T];(this.listeners[k.type]||[]).forEach(function(C){var I=C.node,_=C.handler;(k.target===I||I.contains(k.target))&&_.apply(void 0,[k].concat(S))})}},{key:"listenDOM",value:function(k,D,S){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:D,handler:S})}}]),w}(l.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=c};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(c){if(s.indexOf(c)<=s.indexOf(o)){for(var f,h=arguments.length,d=Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];(f=console)[c].apply(f,d)}}function l(c){return s.reduce(function(f,h){return f[h]=a.bind(console,h,c),f},{})}a.level=l.level=function(c){o=c},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(d,p,E){return E||(E={}),d===p?!0:d instanceof Date&&p instanceof Date?d.getTime()===p.getTime():!d||!p||typeof d!="object"&&typeof p!="object"?E.strict?d===p:d==p:h(d,p,E)};function c(d){return d==null}function f(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function h(d,p,E){var y,b;if(c(d)||c(p)||d.prototype!==p.prototype)return!1;if(a(d))return a(p)?(d=s.call(d),p=s.call(p),l(d,p,E)):!1;if(f(d)){if(!f(p)||d.length!==p.length)return!1;for(y=0;y<d.length;y++)if(d[y]!==p[y])return!1;return!0}try{var v=o(d),m=o(p)}catch{return!1}if(v.length!=m.length)return!1;for(v.sort(),m.sort(),y=v.length-1;y>=0;y--)if(v[y]!=m[y])return!1;for(y=v.length-1;y>=0;y--)if(b=v[y],!l(d[b],p[b],E))return!1;return typeof d==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l,c,f){f===void 0&&(f={}),this.attrName=l,this.keyName=c;var h=s.Scope.TYPE&s.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&s.Scope.LEVEL|h:this.scope=s.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},a.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},a.prototype.canAdd=function(l,c){var f=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function T(C,I){var _=[],R=!0,O=!1,U=void 0;try{for(var z=C[Symbol.iterator](),J;!(R=(J=z.next()).done)&&(_.push(J.value),!(I&&_.length===I));R=!0);}catch(Y){O=!0,U=Y}finally{try{!R&&z.return&&z.return()}finally{if(O)throw U}}return _}return function(C,I){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return T(C,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(C,I){for(var _=0;_<I.length;_++){var R=I[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(C,R.key,R)}}return function(C,I,_){return I&&T(C.prototype,I),_&&T(C,_),C}}(),a=function T(C,I,_){C===null&&(C=Function.prototype);var R=Object.getOwnPropertyDescriptor(C,I);if(R===void 0){var O=Object.getPrototypeOf(C);return O===null?void 0:T(O,I,_)}else{if("value"in R)return R.value;var U=R.get;return U===void 0?void 0:U.call(_)}},l=i(2),c=m(l),f=i(0),h=m(f),d=i(4),p=m(d),E=i(6),y=m(E),b=i(7),v=m(b);function m(T){return T&&T.__esModule?T:{default:T}}function w(T,C){if(!(T instanceof C))throw new TypeError("Cannot call a class as a function")}function g(T,C){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:T}function k(T,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);T.prototype=Object.create(C&&C.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(T,C):T.__proto__=C)}var D=function(T){k(C,T);function C(){return w(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C}(y.default);D.blotName="code",D.tagName="CODE";var S=function(T){k(C,T);function C(){return w(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return o(C,[{key:"delta",value:function(){var _=this,R=this.domNode.textContent;return R.endsWith(`
`)&&(R=R.slice(0,-1)),R.split(`
`).reduce(function(O,U){return O.insert(U).insert(`
`,_.formats())},new c.default)}},{key:"format",value:function(_,R){if(!(_===this.statics.blotName&&R)){var O=this.descendant(v.default,this.length()-1),U=s(O,1),z=U[0];z!=null&&z.deleteAt(z.length()-1,1),a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,_,R)}}},{key:"formatAt",value:function(_,R,O,U){if(R!==0&&!(h.default.query(O,h.default.Scope.BLOCK)==null||O===this.statics.blotName&&U===this.statics.formats(this.domNode))){var z=this.newlineIndex(_);if(!(z<0||z>=_+R)){var J=this.newlineIndex(_,!0)+1,Y=z-J+1,ue=this.isolate(J,Y),ee=ue.next;ue.format(O,U),ee instanceof C&&ee.formatAt(0,_-J+R-Y,O,U)}}}},{key:"insertAt",value:function(_,R,O){if(O==null){var U=this.descendant(v.default,_),z=s(U,2),J=z[0],Y=z[1];J.insertAt(Y,R)}}},{key:"length",value:function(){var _=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?_:_+1}},{key:"newlineIndex",value:function(_){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R)return this.domNode.textContent.slice(0,_).lastIndexOf(`
`);var O=this.domNode.textContent.slice(_).indexOf(`
`);return O>-1?_+O:-1}},{key:"optimize",value:function(_){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,_);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===R.statics.formats(R.domNode)&&(R.optimize(_),R.moveChildren(this),R.remove())}},{key:"replace",value:function(_){a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,_),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(R){var O=h.default.find(R);O==null?R.parentNode.removeChild(R):O instanceof h.default.Embed?O.remove():O.unwrap()})}}],[{key:"create",value:function(_){var R=a(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,_);return R.setAttribute("spellcheck",!1),R}},{key:"formats",value:function(){return!0}}]),C}(p.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=D,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},o=function(){function ee($,x){var q=[],H=!0,re=!1,X=void 0;try{for(var j=$[Symbol.iterator](),V;!(H=(V=j.next()).done)&&(q.push(V.value),!(x&&q.length===x));H=!0);}catch(W){re=!0,X=W}finally{try{!H&&j.return&&j.return()}finally{if(re)throw X}}return q}return function($,x){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return ee($,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ee($,x){for(var q=0;q<x.length;q++){var H=x[q];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty($,H.key,H)}}return function($,x,q){return x&&ee($.prototype,x),q&&ee($,q),$}}(),l=i(2),c=R(l),f=i(20),h=R(f),d=i(0),p=R(d),E=i(13),y=R(E),b=i(24),v=R(b),m=i(4),w=R(m),g=i(16),k=R(g),D=i(21),S=R(D),T=i(11),C=R(T),I=i(3),_=R(I);function R(ee){return ee&&ee.__esModule?ee:{default:ee}}function O(ee,$,x){return $ in ee?Object.defineProperty(ee,$,{value:x,enumerable:!0,configurable:!0,writable:!0}):ee[$]=x,ee}function U(ee,$){if(!(ee instanceof $))throw new TypeError("Cannot call a class as a function")}var z=/^[ -~]*$/,J=function(){function ee($){U(this,ee),this.scroll=$,this.delta=this.getDelta()}return a(ee,[{key:"applyDelta",value:function(x){var q=this,H=!1;this.scroll.update();var re=this.scroll.length();return this.scroll.batchStart(),x=ue(x),x.reduce(function(X,j){var V=j.retain||j.delete||j.insert.length||1,W=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var Q=j.insert;Q.endsWith(`
`)&&H&&(H=!1,Q=Q.slice(0,-1)),X>=re&&!Q.endsWith(`
`)&&(H=!0),q.scroll.insertAt(X,Q);var ie=q.scroll.line(X),ge=o(ie,2),be=ge[0],F=ge[1],B=(0,_.default)({},(0,m.bubbleFormats)(be));if(be instanceof w.default){var ne=be.descendant(p.default.Leaf,F),de=o(ne,1),le=de[0];B=(0,_.default)(B,(0,m.bubbleFormats)(le))}W=h.default.attributes.diff(B,W)||{}}else if(s(j.insert)==="object"){var G=Object.keys(j.insert)[0];if(G==null)return X;q.scroll.insertAt(X,G,j.insert[G])}re+=V}return Object.keys(W).forEach(function(te){q.scroll.formatAt(X,V,te,W[te])}),X+V},0),x.reduce(function(X,j){return typeof j.delete=="number"?(q.scroll.deleteAt(X,j.delete),X):X+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(x)}},{key:"deleteText",value:function(x,q){return this.scroll.deleteAt(x,q),this.update(new c.default().retain(x).delete(q))}},{key:"formatLine",value:function(x,q){var H=this,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(re).forEach(function(X){if(!(H.scroll.whitelist!=null&&!H.scroll.whitelist[X])){var j=H.scroll.lines(x,Math.max(q,1)),V=q;j.forEach(function(W){var Q=W.length();if(!(W instanceof y.default))W.format(X,re[X]);else{var ie=x-W.offset(H.scroll),ge=W.newlineIndex(ie+V)-ie+1;W.formatAt(ie,ge,X,re[X])}V-=Q})}}),this.scroll.optimize(),this.update(new c.default().retain(x).retain(q,(0,S.default)(re)))}},{key:"formatText",value:function(x,q){var H=this,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(re).forEach(function(X){H.scroll.formatAt(x,q,X,re[X])}),this.update(new c.default().retain(x).retain(q,(0,S.default)(re)))}},{key:"getContents",value:function(x,q){return this.delta.slice(x,x+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(x,q){return x.concat(q.delta())},new c.default)}},{key:"getFormat",value:function(x){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=[],re=[];q===0?this.scroll.path(x).forEach(function(j){var V=o(j,1),W=V[0];W instanceof w.default?H.push(W):W instanceof p.default.Leaf&&re.push(W)}):(H=this.scroll.lines(x,q),re=this.scroll.descendants(p.default.Leaf,x,q));var X=[H,re].map(function(j){if(j.length===0)return{};for(var V=(0,m.bubbleFormats)(j.shift());Object.keys(V).length>0;){var W=j.shift();if(W==null)return V;V=Y((0,m.bubbleFormats)(W),V)}return V});return _.default.apply(_.default,X)}},{key:"getText",value:function(x,q){return this.getContents(x,q).filter(function(H){return typeof H.insert=="string"}).map(function(H){return H.insert}).join("")}},{key:"insertEmbed",value:function(x,q,H){return this.scroll.insertAt(x,q,H),this.update(new c.default().retain(x).insert(O({},q,H)))}},{key:"insertText",value:function(x,q){var H=this,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q=q.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(x,q),Object.keys(re).forEach(function(X){H.scroll.formatAt(x,q.length,X,re[X])}),this.update(new c.default().retain(x).insert(q,(0,S.default)(re)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var x=this.scroll.children.head;return x.statics.blotName!==w.default.blotName||x.children.length>1?!1:x.children.head instanceof k.default}},{key:"removeFormat",value:function(x,q){var H=this.getText(x,q),re=this.scroll.line(x+q),X=o(re,2),j=X[0],V=X[1],W=0,Q=new c.default;j!=null&&(j instanceof y.default?W=j.newlineIndex(V)-V+1:W=j.length()-V,Q=j.delta().slice(V,V+W-1).insert(`
`));var ie=this.getContents(x,q+W),ge=ie.diff(new c.default().insert(H).concat(Q)),be=new c.default().retain(x).concat(ge);return this.applyDelta(be)}},{key:"update",value:function(x){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,re=this.delta;if(q.length===1&&q[0].type==="characterData"&&q[0].target.data.match(z)&&p.default.find(q[0].target)){var X=p.default.find(q[0].target),j=(0,m.bubbleFormats)(X),V=X.offset(this.scroll),W=q[0].oldValue.replace(v.default.CONTENTS,""),Q=new c.default().insert(W),ie=new c.default().insert(X.value()),ge=new c.default().retain(V).concat(Q.diff(ie,H));x=ge.reduce(function(be,F){return F.insert?be.insert(F.insert,j):be.push(F)},new c.default),this.delta=re.compose(x)}else this.delta=this.getDelta(),(!x||!(0,C.default)(re.compose(x),this.delta))&&(x=re.diff(this.delta,H));return x}}]),ee}();function Y(ee,$){return Object.keys($).reduce(function(x,q){return ee[q]==null||($[q]===ee[q]?x[q]=$[q]:Array.isArray($[q])?$[q].indexOf(ee[q])<0&&(x[q]=$[q].concat([ee[q]])):x[q]=[$[q],ee[q]]),x},{})}function ue(ee){return ee.reduce(function($,x){if(x.insert===1){var q=(0,S.default)(x.attributes);return delete q.image,$.insert({image:x.attributes.image},q)}if(x.attributes!=null&&(x.attributes.list===!0||x.attributes.bullet===!0)&&(x=(0,S.default)(x),x.attributes.list?x.attributes.list="ordered":(x.attributes.list="bullet",delete x.attributes.bullet)),typeof x.insert=="string"){var H=x.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return $.insert(H,x.attributes)}return $.push(x)},new c.default)}r.default=J},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function T(C,I){var _=[],R=!0,O=!1,U=void 0;try{for(var z=C[Symbol.iterator](),J;!(R=(J=z.next()).done)&&(_.push(J.value),!(I&&_.length===I));R=!0);}catch(Y){O=!0,U=Y}finally{try{!R&&z.return&&z.return()}finally{if(O)throw U}}return _}return function(C,I){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return T(C,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(C,I){for(var _=0;_<I.length;_++){var R=I[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(C,R.key,R)}}return function(C,I,_){return I&&T(C.prototype,I),_&&T(C,_),C}}(),a=i(0),l=v(a),c=i(21),f=v(c),h=i(11),d=v(h),p=i(8),E=v(p),y=i(10),b=v(y);function v(T){return T&&T.__esModule?T:{default:T}}function m(T){if(Array.isArray(T)){for(var C=0,I=Array(T.length);C<T.length;C++)I[C]=T[C];return I}else return Array.from(T)}function w(T,C){if(!(T instanceof C))throw new TypeError("Cannot call a class as a function")}var g=(0,b.default)("quill:selection"),k=function T(C){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,T),this.index=C,this.length=I},D=function(){function T(C,I){var _=this;w(this,T),this.emitter=I,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){_.mouseDown||setTimeout(_.update.bind(_,E.default.sources.USER),1)}),this.emitter.on(E.default.events.EDITOR_CHANGE,function(R,O){R===E.default.events.TEXT_CHANGE&&O.length()>0&&_.update(E.default.sources.SILENT)}),this.emitter.on(E.default.events.SCROLL_BEFORE_UPDATE,function(){if(_.hasFocus()){var R=_.getNativeRange();R!=null&&R.start.node!==_.cursor.textNode&&_.emitter.once(E.default.events.SCROLL_UPDATE,function(){try{_.setNativeRange(R.start.node,R.start.offset,R.end.node,R.end.offset)}catch{}})}}),this.emitter.on(E.default.events.SCROLL_OPTIMIZE,function(R,O){if(O.range){var U=O.range,z=U.startNode,J=U.startOffset,Y=U.endNode,ue=U.endOffset;_.setNativeRange(z,J,Y,ue)}}),this.update(E.default.sources.SILENT)}return o(T,[{key:"handleComposition",value:function(){var I=this;this.root.addEventListener("compositionstart",function(){I.composing=!0}),this.root.addEventListener("compositionend",function(){if(I.composing=!1,I.cursor.parent){var _=I.cursor.restore();if(!_)return;setTimeout(function(){I.setNativeRange(_.startNode,_.startOffset,_.endNode,_.endOffset)},1)}})}},{key:"handleDragging",value:function(){var I=this;this.emitter.listenDOM("mousedown",document.body,function(){I.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){I.mouseDown=!1,I.update(E.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(I,_){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[I])){this.scroll.update();var R=this.getNativeRange();if(!(R==null||!R.native.collapsed||l.default.query(I,l.default.Scope.BLOCK))){if(R.start.node!==this.cursor.textNode){var O=l.default.find(R.start.node,!1);if(O==null)return;if(O instanceof l.default.Leaf){var U=O.split(R.start.offset);O.parent.insertBefore(this.cursor,U)}else O.insertBefore(this.cursor,R.start.node);this.cursor.attach()}this.cursor.format(I,_),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(I){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=this.scroll.length();I=Math.min(I,R-1),_=Math.min(I+_,R-1)-I;var O=void 0,U=this.scroll.leaf(I),z=s(U,2),J=z[0],Y=z[1];if(J==null)return null;var ue=J.position(Y,!0),ee=s(ue,2);O=ee[0],Y=ee[1];var $=document.createRange();if(_>0){$.setStart(O,Y);var x=this.scroll.leaf(I+_),q=s(x,2);if(J=q[0],Y=q[1],J==null)return null;var H=J.position(Y,!0),re=s(H,2);return O=re[0],Y=re[1],$.setEnd(O,Y),$.getBoundingClientRect()}else{var X="left",j=void 0;return O instanceof Text?(Y<O.data.length?($.setStart(O,Y),$.setEnd(O,Y+1)):($.setStart(O,Y-1),$.setEnd(O,Y),X="right"),j=$.getBoundingClientRect()):(j=J.domNode.getBoundingClientRect(),Y>0&&(X="right")),{bottom:j.top+j.height,height:j.height,left:j[X],right:j[X],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var I=document.getSelection();if(I==null||I.rangeCount<=0)return null;var _=I.getRangeAt(0);if(_==null)return null;var R=this.normalizeNative(_);return g.info("getNativeRange",R),R}},{key:"getRange",value:function(){var I=this.getNativeRange();if(I==null)return[null,null];var _=this.normalizedToRange(I);return[_,I]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(I){var _=this,R=[[I.start.node,I.start.offset]];I.native.collapsed||R.push([I.end.node,I.end.offset]);var O=R.map(function(J){var Y=s(J,2),ue=Y[0],ee=Y[1],$=l.default.find(ue,!0),x=$.offset(_.scroll);return ee===0?x:$ instanceof l.default.Container?x+$.length():x+$.index(ue,ee)}),U=Math.min(Math.max.apply(Math,m(O)),this.scroll.length()-1),z=Math.min.apply(Math,[U].concat(m(O)));return new k(z,U-z)}},{key:"normalizeNative",value:function(I){if(!S(this.root,I.startContainer)||!I.collapsed&&!S(this.root,I.endContainer))return null;var _={start:{node:I.startContainer,offset:I.startOffset},end:{node:I.endContainer,offset:I.endOffset},native:I};return[_.start,_.end].forEach(function(R){for(var O=R.node,U=R.offset;!(O instanceof Text)&&O.childNodes.length>0;)if(O.childNodes.length>U)O=O.childNodes[U],U=0;else if(O.childNodes.length===U)O=O.lastChild,U=O instanceof Text?O.data.length:O.childNodes.length+1;else break;R.node=O,R.offset=U}),_}},{key:"rangeToNative",value:function(I){var _=this,R=I.collapsed?[I.index]:[I.index,I.index+I.length],O=[],U=this.scroll.length();return R.forEach(function(z,J){z=Math.min(U-1,z);var Y=void 0,ue=_.scroll.leaf(z),ee=s(ue,2),$=ee[0],x=ee[1],q=$.position(x,J!==0),H=s(q,2);Y=H[0],x=H[1],O.push(Y,x)}),O.length<2&&(O=O.concat(O)),O}},{key:"scrollIntoView",value:function(I){var _=this.lastRange;if(_!=null){var R=this.getBounds(_.index,_.length);if(R!=null){var O=this.scroll.length()-1,U=this.scroll.line(Math.min(_.index,O)),z=s(U,1),J=z[0],Y=J;if(_.length>0){var ue=this.scroll.line(Math.min(_.index+_.length,O)),ee=s(ue,1);Y=ee[0]}if(!(J==null||Y==null)){var $=I.getBoundingClientRect();R.top<$.top?I.scrollTop-=$.top-R.top:R.bottom>$.bottom&&(I.scrollTop+=R.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(I,_){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_,U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",I,_,R,O),!(I!=null&&(this.root.parentNode==null||I.parentNode==null||R.parentNode==null))){var z=document.getSelection();if(z!=null)if(I!=null){this.hasFocus()||this.root.focus();var J=(this.getNativeRange()||{}).native;if(J==null||U||I!==J.startContainer||_!==J.startOffset||R!==J.endContainer||O!==J.endOffset){I.tagName=="BR"&&(_=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode),R.tagName=="BR"&&(O=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode);var Y=document.createRange();Y.setStart(I,_),Y.setEnd(R,O),z.removeAllRanges(),z.addRange(Y)}}else z.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(I){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.default.sources.API;if(typeof _=="string"&&(R=_,_=!1),g.info("setRange",I),I!=null){var O=this.rangeToNative(I);this.setNativeRange.apply(this,m(O).concat([_]))}else this.setNativeRange(null);this.update(R)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E.default.sources.USER,_=this.lastRange,R=this.getRange(),O=s(R,2),U=O[0],z=O[1];if(this.lastRange=U,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(_,this.lastRange)){var J;!this.composing&&z!=null&&z.native.collapsed&&z.start.node!==this.cursor.textNode&&this.cursor.restore();var Y=[E.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(_),I];if((J=this.emitter).emit.apply(J,[E.default.events.EDITOR_CHANGE].concat(Y)),I!==E.default.sources.SILENT){var ue;(ue=this.emitter).emit.apply(ue,Y)}}}}]),T}();function S(T,C){try{C.parentNode}catch{return!1}return C instanceof Text&&(C=C.parentNode),T.contains(C)}r.Range=k,r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function E(y,b){for(var v=0;v<b.length;v++){var m=b[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,b,v){return b&&E(y.prototype,b),v&&E(y,v),y}}(),o=function E(y,b,v){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,b);if(m===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:E(w,b,v)}else{if("value"in m)return m.value;var g=m.get;return g===void 0?void 0:g.call(v)}},a=i(0),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function f(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function h(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function d(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var p=function(E){d(y,E);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"insertInto",value:function(v,m){v.children.length===0?o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,v,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var E in p)p.hasOwnProperty(E)&&(d[E]=p[E])};return function(d,p){h(d,p);function E(){this.constructor=d}d.prototype=p===null?Object.create(p):(E.prototype=p.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),c=function(h){s(d,h);function d(p){var E=h.call(this,p)||this;return E.build(),E}return d.prototype.appendChild=function(p){this.insertBefore(p)},d.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},d.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(E){try{var y=f(E);p.insertBefore(y,p.children.head||void 0)}catch(b){if(b instanceof l.ParchmentError)return;throw b}})},d.prototype.deleteAt=function(p,E){if(p===0&&E===this.length())return this.remove();this.children.forEachAt(p,E,function(y,b,v){y.deleteAt(b,v)})},d.prototype.descendant=function(p,E){var y=this.children.find(E),b=y[0],v=y[1];return p.blotName==null&&p(b)||p.blotName!=null&&b instanceof p?[b,v]:b instanceof d?b.descendant(p,v):[null,-1]},d.prototype.descendants=function(p,E,y){E===void 0&&(E=0),y===void 0&&(y=Number.MAX_VALUE);var b=[],v=y;return this.children.forEachAt(E,y,function(m,w,g){(p.blotName==null&&p(m)||p.blotName!=null&&m instanceof p)&&b.push(m),m instanceof d&&(b=b.concat(m.descendants(p,w,v))),v-=g}),b},d.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),h.prototype.detach.call(this)},d.prototype.formatAt=function(p,E,y,b){this.children.forEachAt(p,E,function(v,m,w){v.formatAt(m,w,y,b)})},d.prototype.insertAt=function(p,E,y){var b=this.children.find(p),v=b[0],m=b[1];if(v)v.insertAt(m,E,y);else{var w=y==null?l.create("text",E):l.create(E,y);this.appendChild(w)}},d.prototype.insertBefore=function(p,E){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return p instanceof y}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,E)},d.prototype.length=function(){return this.children.reduce(function(p,E){return p+E.length()},0)},d.prototype.moveChildren=function(p,E){this.children.forEach(function(y){p.insertBefore(y,E)})},d.prototype.optimize=function(p){if(h.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var E=l.create(this.statics.defaultChild);this.appendChild(E),E.optimize(p)}else this.remove()},d.prototype.path=function(p,E){E===void 0&&(E=!1);var y=this.children.find(p,E),b=y[0],v=y[1],m=[[this,p]];return b instanceof d?m.concat(b.path(v,E)):(b!=null&&m.push([b,v]),m)},d.prototype.removeChild=function(p){this.children.remove(p)},d.prototype.replace=function(p){p instanceof d&&p.moveChildren(this),h.prototype.replace.call(this,p)},d.prototype.split=function(p,E){if(E===void 0&&(E=!1),!E){if(p===0)return this;if(p===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(p,this.length(),function(b,v,m){b=b.split(v,E),y.appendChild(b)}),y},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(p,E){var y=this,b=[],v=[];p.forEach(function(m){m.target===y.domNode&&m.type==="childList"&&(b.push.apply(b,m.addedNodes),v.push.apply(v,m.removedNodes))}),v.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(m);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===y.domNode)&&w.detach()}}),b.filter(function(m){return m.parentNode==y.domNode}).sort(function(m,w){return m===w?0:m.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var w=null;m.nextSibling!=null&&(w=l.find(m.nextSibling));var g=f(m);(g.next!=w||g.next==null)&&(g.parent!=null&&g.parent.removeChild(y),y.insertBefore(g,w||void 0))})},d}(a.default);function f(h){var d=l.find(h);if(d==null)try{d=l.create(h)}catch{d=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(E){d.domNode.appendChild(E)}),h.parentNode&&h.parentNode.replaceChild(d.domNode,h),d.attach()}return d}r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var E in p)p.hasOwnProperty(E)&&(d[E]=p[E])};return function(d,p){h(d,p);function E(){this.constructor=d}d.prototype=p===null?Object.create(p):(E.prototype=p.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),c=i(1),f=function(h){s(d,h);function d(p){var E=h.call(this,p)||this;return E.attributes=new a.default(E.domNode),E}return d.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},d.prototype.format=function(p,E){var y=c.query(p);y instanceof o.default?this.attributes.attribute(y,E):E&&y!=null&&(p!==this.statics.blotName||this.formats()[p]!==E)&&this.replaceWith(p,E)},d.prototype.formats=function(){var p=this.attributes.values(),E=this.statics.formats(this.domNode);return E!=null&&(p[this.statics.blotName]=E),p},d.prototype.replaceWith=function(p,E){var y=h.prototype.replaceWith.call(this,p,E);return this.attributes.copy(y),y},d.prototype.update=function(p,E){var y=this;h.prototype.update.call(this,p,E),p.some(function(b){return b.target===y.domNode&&b.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(p,E){var y=h.prototype.wrap.call(this,p,E);return y instanceof d&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},d}(l.default);r.default=f},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.value=function(h){return!0},f.prototype.index=function(h,d){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},f.prototype.position=function(h,d){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(p+=1),[this.parent.domNode,p]},f.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},f.scope=a.Scope.INLINE_BLOT,f}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(c,f,h){typeof c!="object"&&(c={}),typeof f!="object"&&(f={});var d=o(!0,{},f);h||(d=Object.keys(d).reduce(function(E,y){return d[y]!=null&&(E[y]=d[y]),E},{}));for(var p in c)c[p]!==void 0&&f[p]===void 0&&(d[p]=c[p]);return Object.keys(d).length>0?d:void 0},diff:function(c,f){typeof c!="object"&&(c={}),typeof f!="object"&&(f={});var h=Object.keys(c).concat(Object.keys(f)).reduce(function(d,p){return s(c[p],f[p])||(d[p]=f[p]===void 0?null:f[p]),d},{});return Object.keys(h).length>0?h:void 0},transform:function(c,f,h){if(typeof c!="object")return f;if(typeof f=="object"){if(!h)return f;var d=Object.keys(f).reduce(function(p,E){return c[E]===void 0&&(p[E]=f[E]),p},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var f=this.ops[this.index];if(f){var h=this.offset,d=a.length(f);if(c>=d-h?(c=d-h,this.index+=1,this.offset=0):this.offset+=c,typeof f.delete=="number")return{delete:c};var p={};return f.attributes&&(p.attributes=f.attributes),typeof f.retain=="number"?p.retain=c:typeof f.insert=="string"?p.insert=f.insert.substr(h,c):p.insert=f.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,f=this.index,h=this.next(),d=this.ops.slice(this.index);return this.offset=c,this.index=f,[h].concat(d)}else return[]},n.exports=a},function(n,r){var i=function(){function s(y,b){return b!=null&&y instanceof b}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(y,b,v,m,w){typeof b=="object"&&(v=b.depth,m=b.prototype,w=b.includeNonEnumerable,b=b.circular);var g=[],k=[],D=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof v>"u"&&(v=1/0);function S(T,C){if(T===null)return null;if(C===0)return T;var I,_;if(typeof T!="object")return T;if(s(T,o))I=new o;else if(s(T,a))I=new a;else if(s(T,l))I=new l(function($,x){T.then(function(q){$(S(q,C-1))},function(q){x(S(q,C-1))})});else if(c.__isArray(T))I=[];else if(c.__isRegExp(T))I=new RegExp(T.source,E(T)),T.lastIndex&&(I.lastIndex=T.lastIndex);else if(c.__isDate(T))I=new Date(T.getTime());else{if(D&&Buffer.isBuffer(T))return Buffer.allocUnsafe?I=Buffer.allocUnsafe(T.length):I=new Buffer(T.length),T.copy(I),I;s(T,Error)?I=Object.create(T):typeof m>"u"?(_=Object.getPrototypeOf(T),I=Object.create(_)):(I=Object.create(m),_=m)}if(b){var R=g.indexOf(T);if(R!=-1)return k[R];g.push(T),k.push(I)}s(T,o)&&T.forEach(function($,x){var q=S(x,C-1),H=S($,C-1);I.set(q,H)}),s(T,a)&&T.forEach(function($){var x=S($,C-1);I.add(x)});for(var O in T){var U;_&&(U=Object.getOwnPropertyDescriptor(_,O)),!(U&&U.set==null)&&(I[O]=S(T[O],C-1))}if(Object.getOwnPropertySymbols)for(var z=Object.getOwnPropertySymbols(T),O=0;O<z.length;O++){var J=z[O],Y=Object.getOwnPropertyDescriptor(T,J);Y&&!Y.enumerable&&!w||(I[J]=S(T[J],C-1),Y.enumerable||Object.defineProperty(I,J,{enumerable:!1}))}if(w)for(var ue=Object.getOwnPropertyNames(T),O=0;O<ue.length;O++){var ee=ue[O],Y=Object.getOwnPropertyDescriptor(T,ee);Y&&Y.enumerable||(I[ee]=S(T[ee],C-1),Object.defineProperty(I,ee,{enumerable:!1}))}return I}return S(y,v)}c.clonePrototype=function(b){if(b===null)return null;var v=function(){};return v.prototype=b,new v};function f(y){return Object.prototype.toString.call(y)}c.__objToStr=f;function h(y){return typeof y=="object"&&f(y)==="[object Date]"}c.__isDate=h;function d(y){return typeof y=="object"&&f(y)==="[object Array]"}c.__isArray=d;function p(y){return typeof y=="object"&&f(y)==="[object RegExp]"}c.__isRegExp=p;function E(y){var b="";return y.global&&(b+="g"),y.ignoreCase&&(b+="i"),y.multiline&&(b+="m"),b}return c.__getRegExpFlags=E,c}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function I(_,R){var O=[],U=!0,z=!1,J=void 0;try{for(var Y=_[Symbol.iterator](),ue;!(U=(ue=Y.next()).done)&&(O.push(ue.value),!(R&&O.length===R));U=!0);}catch(ee){z=!0,J=ee}finally{try{!U&&Y.return&&Y.return()}finally{if(z)throw J}}return O}return function(_,R){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return I(_,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(_,R){for(var O=0;O<R.length;O++){var U=R[O];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(_,U.key,U)}}return function(_,R,O){return R&&I(_.prototype,R),O&&I(_,O),_}}(),a=function I(_,R,O){_===null&&(_=Function.prototype);var U=Object.getOwnPropertyDescriptor(_,R);if(U===void 0){var z=Object.getPrototypeOf(_);return z===null?void 0:I(z,R,O)}else{if("value"in U)return U.value;var J=U.get;return J===void 0?void 0:J.call(O)}},l=i(0),c=g(l),f=i(8),h=g(f),d=i(4),p=g(d),E=i(16),y=g(E),b=i(13),v=g(b),m=i(25),w=g(m);function g(I){return I&&I.__esModule?I:{default:I}}function k(I,_){if(!(I instanceof _))throw new TypeError("Cannot call a class as a function")}function D(I,_){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:I}function S(I,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);I.prototype=Object.create(_&&_.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(I,_):I.__proto__=_)}function T(I){return I instanceof p.default||I instanceof d.BlockEmbed}var C=function(I){S(_,I);function _(R,O){k(this,_);var U=D(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,R));return U.emitter=O.emitter,Array.isArray(O.whitelist)&&(U.whitelist=O.whitelist.reduce(function(z,J){return z[J]=!0,z},{})),U.domNode.addEventListener("DOMNodeInserted",function(){}),U.optimize(),U.enable(),U}return o(_,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(O,U){var z=this.line(O),J=s(z,2),Y=J[0],ue=J[1],ee=this.line(O+U),$=s(ee,1),x=$[0];if(a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,O,U),x!=null&&Y!==x&&ue>0){if(Y instanceof d.BlockEmbed||x instanceof d.BlockEmbed){this.optimize();return}if(Y instanceof v.default){var q=Y.newlineIndex(Y.length(),!0);if(q>-1&&(Y=Y.split(q+1),Y===x)){this.optimize();return}}else if(x instanceof v.default){var H=x.newlineIndex(0);H>-1&&x.split(H+1)}var re=x.children.head instanceof y.default?null:x.children.head;Y.moveChildren(x,re),Y.remove()}this.optimize()}},{key:"enable",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",O)}},{key:"formatAt",value:function(O,U,z,J){this.whitelist!=null&&!this.whitelist[z]||(a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,O,U,z,J),this.optimize())}},{key:"insertAt",value:function(O,U,z){if(!(z!=null&&this.whitelist!=null&&!this.whitelist[U])){if(O>=this.length())if(z==null||c.default.query(U,c.default.Scope.BLOCK)==null){var J=c.default.create(this.statics.defaultChild);this.appendChild(J),z==null&&U.endsWith(`
`)&&(U=U.slice(0,-1)),J.insertAt(0,U,z)}else{var Y=c.default.create(U,z);this.appendChild(Y)}else a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,O,U,z);this.optimize()}}},{key:"insertBefore",value:function(O,U){if(O.statics.scope===c.default.Scope.INLINE_BLOT){var z=c.default.create(this.statics.defaultChild);z.appendChild(O),O=z}a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,O,U)}},{key:"leaf",value:function(O){return this.path(O).pop()||[null,-1]}},{key:"line",value:function(O){return O===this.length()?this.line(O-1):this.descendant(T,O)}},{key:"lines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,z=function J(Y,ue,ee){var $=[],x=ee;return Y.children.forEachAt(ue,ee,function(q,H,re){T(q)?$.push(q):q instanceof c.default.Container&&($=$.concat(J(q,H,x))),x-=re}),$};return z(this,O,U)}},{key:"optimize",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,O,U),O.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,O,U))}},{key:"path",value:function(O){return a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,O).slice(1)}},{key:"update",value:function(O){if(this.batch!==!0){var U=h.default.sources.USER;typeof O=="string"&&(U=O),Array.isArray(O)||(O=this.observer.takeRecords()),O.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,U,O),a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"update",this).call(this,O.concat([])),O.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,U,O)}}}]),_}(c.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[p.default,d.BlockEmbed,w.default],r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},o=function(){function j(V,W){var Q=[],ie=!0,ge=!1,be=void 0;try{for(var F=V[Symbol.iterator](),B;!(ie=(B=F.next()).done)&&(Q.push(B.value),!(W&&Q.length===W));ie=!0);}catch(ne){ge=!0,be=ne}finally{try{!ie&&F.return&&F.return()}finally{if(ge)throw be}}return Q}return function(V,W){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return j(V,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(V,W){for(var Q=0;Q<W.length;Q++){var ie=W[Q];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(V,ie.key,ie)}}return function(V,W,Q){return W&&j(V.prototype,W),Q&&j(V,Q),V}}(),l=i(21),c=I(l),f=i(11),h=I(f),d=i(3),p=I(d),E=i(2),y=I(E),b=i(20),v=I(b),m=i(0),w=I(m),g=i(5),k=I(g),D=i(10),S=I(D),T=i(9),C=I(T);function I(j){return j&&j.__esModule?j:{default:j}}function _(j,V,W){return V in j?Object.defineProperty(j,V,{value:W,enumerable:!0,configurable:!0,writable:!0}):j[V]=W,j}function R(j,V){if(!(j instanceof V))throw new TypeError("Cannot call a class as a function")}function O(j,V){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:j}function U(j,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);j.prototype=Object.create(V&&V.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(j,V):j.__proto__=V)}var z=(0,S.default)("quill:keyboard"),J=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Y=function(j){U(V,j),a(V,null,[{key:"match",value:function(Q,ie){return ie=X(ie),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ge){return!!ie[ge]!==Q[ge]&&ie[ge]!==null})?!1:ie.key===(Q.which||Q.keyCode)}}]);function V(W,Q){R(this,V);var ie=O(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,W,Q));return ie.bindings={},Object.keys(ie.options.bindings).forEach(function(ge){ge==="list autofill"&&W.scroll.whitelist!=null&&!W.scroll.whitelist.list||ie.options.bindings[ge]&&ie.addBinding(ie.options.bindings[ge])}),ie.addBinding({key:V.keys.ENTER,shiftKey:null},q),ie.addBinding({key:V.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ie.addBinding({key:V.keys.BACKSPACE},{collapsed:!0},ee),ie.addBinding({key:V.keys.DELETE},{collapsed:!0},$)):(ie.addBinding({key:V.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},ee),ie.addBinding({key:V.keys.DELETE},{collapsed:!0,suffix:/^.?$/},$)),ie.addBinding({key:V.keys.BACKSPACE},{collapsed:!1},x),ie.addBinding({key:V.keys.DELETE},{collapsed:!1},x),ie.addBinding({key:V.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},ee),ie.listen(),ie}return a(V,[{key:"addBinding",value:function(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},be=X(Q);if(be==null||be.key==null)return z.warn("Attempted to add invalid keyboard binding",be);typeof ie=="function"&&(ie={handler:ie}),typeof ge=="function"&&(ge={handler:ge}),be=(0,p.default)(be,ie,ge),this.bindings[be.key]=this.bindings[be.key]||[],this.bindings[be.key].push(be)}},{key:"listen",value:function(){var Q=this;this.quill.root.addEventListener("keydown",function(ie){if(!ie.defaultPrevented){var ge=ie.which||ie.keyCode,be=(Q.bindings[ge]||[]).filter(function(Oe){return V.match(ie,Oe)});if(be.length!==0){var F=Q.quill.getSelection();if(!(F==null||!Q.quill.hasFocus())){var B=Q.quill.getLine(F.index),ne=o(B,2),de=ne[0],le=ne[1],G=Q.quill.getLeaf(F.index),te=o(G,2),se=te[0],ae=te[1],Z=F.length===0?[se,ae]:Q.quill.getLeaf(F.index+F.length),ye=o(Z,2),he=ye[0],me=ye[1],Ee=se instanceof w.default.Text?se.value().slice(0,ae):"",Te=he instanceof w.default.Text?he.value().slice(me):"",Ae={collapsed:F.length===0,empty:F.length===0&&de.length()<=1,format:Q.quill.getFormat(F),offset:le,prefix:Ee,suffix:Te},Ve=be.some(function(Oe){if(Oe.collapsed!=null&&Oe.collapsed!==Ae.collapsed||Oe.empty!=null&&Oe.empty!==Ae.empty||Oe.offset!=null&&Oe.offset!==Ae.offset)return!1;if(Array.isArray(Oe.format)){if(Oe.format.every(function(ze){return Ae.format[ze]==null}))return!1}else if(s(Oe.format)==="object"&&!Object.keys(Oe.format).every(function(ze){return Oe.format[ze]===!0?Ae.format[ze]!=null:Oe.format[ze]===!1?Ae.format[ze]==null:(0,h.default)(Oe.format[ze],Ae.format[ze])}))return!1;return Oe.prefix!=null&&!Oe.prefix.test(Ae.prefix)||Oe.suffix!=null&&!Oe.suffix.test(Ae.suffix)?!1:Oe.handler.call(Q,F,Ae)!==!0});Ve&&ie.preventDefault()}}}})}}]),V}(C.default);Y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Y.DEFAULTS={bindings:{bold:re("bold"),italic:re("italic"),underline:re("underline"),indent:{key:Y.keys.TAB,format:["blockquote","indent","list"],handler:function(V,W){if(W.collapsed&&W.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:Y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(V,W){if(W.collapsed&&W.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:Y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(V,W){W.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):W.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":H(!0),"outdent code-block":H(!1),"remove tab":{key:Y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(V){this.quill.deleteText(V.index-1,1,k.default.sources.USER)}},tab:{key:Y.keys.TAB,handler:function(V){this.quill.history.cutoff();var W=new y.default().retain(V.index).delete(V.length).insert("	");this.quill.updateContents(W,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index+1,k.default.sources.SILENT)}},"list empty enter":{key:Y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(V,W){this.quill.format("list",!1,k.default.sources.USER),W.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:Y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(V){var W=this.quill.getLine(V.index),Q=o(W,2),ie=Q[0],ge=Q[1],be=(0,p.default)({},ie.formats(),{list:"checked"}),F=new y.default().retain(V.index).insert(`
`,be).retain(ie.length()-ge-1).retain(1,{list:"unchecked"});this.quill.updateContents(F,k.default.sources.USER),this.quill.setSelection(V.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(V,W){var Q=this.quill.getLine(V.index),ie=o(Q,2),ge=ie[0],be=ie[1],F=new y.default().retain(V.index).insert(`
`,W.format).retain(ge.length()-be-1).retain(1,{header:null});this.quill.updateContents(F,k.default.sources.USER),this.quill.setSelection(V.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(V,W){var Q=W.prefix.length,ie=this.quill.getLine(V.index),ge=o(ie,2),be=ge[0],F=ge[1];if(F>Q)return!0;var B=void 0;switch(W.prefix.trim()){case"[]":case"[ ]":B="unchecked";break;case"[x]":B="checked";break;case"-":case"*":B="bullet";break;default:B="ordered"}this.quill.insertText(V.index," ",k.default.sources.USER),this.quill.history.cutoff();var ne=new y.default().retain(V.index-F).delete(Q+1).retain(be.length()-2-F).retain(1,{list:B});this.quill.updateContents(ne,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index-Q,k.default.sources.SILENT)}},"code exit":{key:Y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(V){var W=this.quill.getLine(V.index),Q=o(W,2),ie=Q[0],ge=Q[1],be=new y.default().retain(V.index+ie.length()-ge-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(be,k.default.sources.USER)}},"embed left":ue(Y.keys.LEFT,!1),"embed left shift":ue(Y.keys.LEFT,!0),"embed right":ue(Y.keys.RIGHT,!1),"embed right shift":ue(Y.keys.RIGHT,!0)}};function ue(j,V){var W,Q=j===Y.keys.LEFT?"prefix":"suffix";return W={key:j,shiftKey:V,altKey:null},_(W,Q,/^$/),_(W,"handler",function(ge){var be=ge.index;j===Y.keys.RIGHT&&(be+=ge.length+1);var F=this.quill.getLeaf(be),B=o(F,1),ne=B[0];return ne instanceof w.default.Embed?(j===Y.keys.LEFT?V?this.quill.setSelection(ge.index-1,ge.length+1,k.default.sources.USER):this.quill.setSelection(ge.index-1,k.default.sources.USER):V?this.quill.setSelection(ge.index,ge.length+1,k.default.sources.USER):this.quill.setSelection(ge.index+ge.length+1,k.default.sources.USER),!1):!0}),W}function ee(j,V){if(!(j.index===0||this.quill.getLength()<=1)){var W=this.quill.getLine(j.index),Q=o(W,1),ie=Q[0],ge={};if(V.offset===0){var be=this.quill.getLine(j.index-1),F=o(be,1),B=F[0];if(B!=null&&B.length()>1){var ne=ie.formats(),de=this.quill.getFormat(j.index-1,1);ge=v.default.attributes.diff(ne,de)||{}}}var le=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(V.prefix)?2:1;this.quill.deleteText(j.index-le,le,k.default.sources.USER),Object.keys(ge).length>0&&this.quill.formatLine(j.index-le,le,ge,k.default.sources.USER),this.quill.focus()}}function $(j,V){var W=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(V.suffix)?2:1;if(!(j.index>=this.quill.getLength()-W)){var Q={},ie=0,ge=this.quill.getLine(j.index),be=o(ge,1),F=be[0];if(V.offset>=F.length()-1){var B=this.quill.getLine(j.index+1),ne=o(B,1),de=ne[0];if(de){var le=F.formats(),G=this.quill.getFormat(j.index,1);Q=v.default.attributes.diff(le,G)||{},ie=de.length()}}this.quill.deleteText(j.index,W,k.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(j.index+ie-1,W,Q,k.default.sources.USER)}}function x(j){var V=this.quill.getLines(j),W={};if(V.length>1){var Q=V[0].formats(),ie=V[V.length-1].formats();W=v.default.attributes.diff(ie,Q)||{}}this.quill.deleteText(j,k.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(j.index,1,W,k.default.sources.USER),this.quill.setSelection(j.index,k.default.sources.SILENT),this.quill.focus()}function q(j,V){var W=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var Q=Object.keys(V.format).reduce(function(ie,ge){return w.default.query(ge,w.default.Scope.BLOCK)&&!Array.isArray(V.format[ge])&&(ie[ge]=V.format[ge]),ie},{});this.quill.insertText(j.index,`
`,Q,k.default.sources.USER),this.quill.setSelection(j.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(V.format).forEach(function(ie){Q[ie]==null&&(Array.isArray(V.format[ie])||ie!=="link"&&W.quill.format(ie,V.format[ie],k.default.sources.USER))})}function H(j){return{key:Y.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(W){var Q=w.default.query("code-block"),ie=W.index,ge=W.length,be=this.quill.scroll.descendant(Q,ie),F=o(be,2),B=F[0],ne=F[1];if(B!=null){var de=this.quill.getIndex(B),le=B.newlineIndex(ne,!0)+1,G=B.newlineIndex(de+ne+ge),te=B.domNode.textContent.slice(le,G).split(`
`);ne=0,te.forEach(function(se,ae){j?(B.insertAt(le+ne,Q.TAB),ne+=Q.TAB.length,ae===0?ie+=Q.TAB.length:ge+=Q.TAB.length):se.startsWith(Q.TAB)&&(B.deleteAt(le+ne,Q.TAB.length),ne-=Q.TAB.length,ae===0?ie-=Q.TAB.length:ge-=Q.TAB.length),ne+=se.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(ie,ge,k.default.sources.SILENT)}}}}function re(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(W,Q){this.quill.format(j,!Q.format[j],k.default.sources.USER)}}}function X(j){if(typeof j=="string"||typeof j=="number")return X({key:j});if((typeof j>"u"?"undefined":s(j))==="object"&&(j=(0,c.default)(j,!1)),typeof j.key=="string")if(Y.keys[j.key.toUpperCase()]!=null)j.key=Y.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[J]=j.shortKey,delete j.shortKey),j}r.default=Y,r.SHORTKEY=J},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(m,w){var g=[],k=!0,D=!1,S=void 0;try{for(var T=m[Symbol.iterator](),C;!(k=(C=T.next()).done)&&(g.push(C.value),!(w&&g.length===w));k=!0);}catch(I){D=!0,S=I}finally{try{!k&&T.return&&T.return()}finally{if(D)throw S}}return g}return function(m,w){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return v(m,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function v(m,w,g){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,w);if(k===void 0){var D=Object.getPrototypeOf(m);return D===null?void 0:v(D,w,g)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(g)}},a=function(){function v(m,w){for(var g=0;g<w.length;g++){var k=w[g];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,w,g){return w&&v(m.prototype,w),g&&v(m,g),m}}(),l=i(0),c=d(l),f=i(7),h=d(f);function d(v){return v&&v.__esModule?v:{default:v}}function p(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function E(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function y(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var b=function(v){y(m,v),a(m,null,[{key:"value",value:function(){}}]);function m(w,g){p(this,m);var k=E(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w));return k.selection=g,k.textNode=document.createTextNode(m.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return a(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,k){if(this._length!==0)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,g,k);for(var D=this,S=0;D!=null&&D.statics.scope!==c.default.Scope.BLOCK_BLOT;)S+=D.offset(D.parent),D=D.parent;D!=null&&(this._length=m.CONTENTS.length,D.optimize(),D.formatAt(S,m.CONTENTS.length,g,k),this._length=0)}},{key:"index",value:function(g,k){return g===this.textNode?0:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,g,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,k=this.selection.getNativeRange(),D=void 0,S=void 0,T=void 0;if(k!=null&&k.start.node===g&&k.end.node===g){var C=[g,k.start.offset,k.end.offset];D=C[0],S=C[1],T=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var I=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof h.default?(D=this.next.domNode,this.next.insertAt(0,I),this.textNode.data=m.CONTENTS):(this.textNode.data=I,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var _=[S,T].map(function(O){return Math.max(0,Math.min(D.data.length,O-1))}),R=s(_,2);return S=R[0],T=R[1],{startNode:D,startOffset:S,endNode:D,endOffset:T}}}}},{key:"update",value:function(g,k){var D=this;if(g.some(function(T){return T.type==="characterData"&&T.target===D.textNode})){var S=this.restore();S&&(k.range=S)}}},{key:"value",value:function(){return""}}]),m}(c.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=c(s),a=i(4),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function f(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function h(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function d(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var p=function(E){d(y,E);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(o.default.Container);p.allowedChildren=[l.default,a.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function b(v,m){for(var w=0;w<m.length;w++){var g=m[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,m,w){return m&&b(v.prototype,m),w&&b(v,w),v}}(),o=function b(v,m,w){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,m);if(g===void 0){var k=Object.getPrototypeOf(v);return k===null?void 0:b(k,m,w)}else{if("value"in g)return g.value;var D=g.get;return D===void 0?void 0:D.call(w)}},a=i(0),l=c(a);function c(b){return b&&b.__esModule?b:{default:b}}function f(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function h(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function d(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var p=function(b){d(v,b);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"value",value:function(w){var g=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,w);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):g}}]),v}(l.default.Attributor.Style),E=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=E,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function y(b,v){for(var m=0;m<v.length;m++){var w=v[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,v,m){return v&&y(b.prototype,v),m&&y(b,m),b}}(),o=function y(b,v,m){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,v);if(w===void 0){var g=Object.getPrototypeOf(b);return g===null?void 0:y(g,v,m)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(m)}},a=i(6),l=c(a);function c(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function d(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var p=function(y){d(b,y);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(m,w){if(m!==this.statics.blotName||!w)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,m,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(m){var w=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,m);return m=this.sanitize(m),w.setAttribute("href",m),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return E(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),b}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function E(y,b){var v=document.createElement("a");v.href=y;var m=v.href.slice(0,v.href.indexOf(":"));return b.indexOf(m)>-1}r.default=p,r.sanitize=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o=function(){function b(v,m){for(var w=0;w<m.length;w++){var g=m[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,m,w){return m&&b(v.prototype,m),w&&b(v,w),v}}(),a=i(23),l=h(a),c=i(107),f=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function d(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}var p=0;function E(b,v){b.setAttribute(v,b.getAttribute(v)!=="true")}var y=function(){function b(v){var m=this;d(this,b),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),E(this.label,"aria-expanded"),E(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var w=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),m.hasAttribute("value")&&g.setAttribute("data-value",m.getAttribute("value")),m.textContent&&g.setAttribute("data-label",m.textContent),g.addEventListener("click",function(){w.selectItem(g,!0)}),g.addEventListener("keydown",function(k){switch(k.keyCode){case l.default.keys.ENTER:w.selectItem(g,!0),k.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),k.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=f.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(g){var k=m.buildItem(g);w.appendChild(k),g.selected===!0&&m.selectItem(k)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(w){m.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(m!==g&&(g!=null&&g.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var g=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),b}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=z(s),a=i(5),l=z(a),c=i(4),f=z(c),h=i(16),d=z(h),p=i(25),E=z(p),y=i(24),b=z(y),v=i(35),m=z(v),w=i(6),g=z(w),k=i(22),D=z(k),S=i(7),T=z(S),C=i(55),I=z(C),_=i(42),R=z(_),O=i(23),U=z(O);function z(J){return J&&J.__esModule?J:{default:J}}l.default.register({"blots/block":f.default,"blots/block/embed":c.BlockEmbed,"blots/break":d.default,"blots/container":E.default,"blots/cursor":b.default,"blots/embed":m.default,"blots/inline":g.default,"blots/scroll":D.default,"blots/text":T.default,"modules/clipboard":I.default,"modules/history":R.default,"modules/keyboard":U.default}),o.default.register(f.default,d.default,b.default,g.default,D.default,T.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,c){var f=this.isolate(l,c);f.remove()},a.prototype.formatAt=function(l,c,f,h){var d=this.isolate(l,c);if(s.query(f,s.Scope.BLOT)!=null&&h)d.wrap(f,h);else if(s.query(f,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);d.wrap(p),p.format(f,h)}},a.prototype.insertAt=function(l,c,f){var h=f==null?s.create("text",c):s.create(c,f),d=this.split(l);this.parent.insertBefore(h,d)},a.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var f=null;l.children.insertBefore(this,c),c!=null&&(f=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=f)&&l.domNode.insertBefore(this.domNode,f),this.parent=l,this.attach()},a.prototype.isolate=function(l,c){var f=this.split(l);return f.split(c),f},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,c){var f=typeof l=="string"?s.create(l,c):l;return f.replace(this),f},a.prototype.split=function(l,c){return l===0?this:this.next},a.prototype.update=function(l,c){},a.prototype.wrap=function(l,c){var f=typeof l=="string"?s.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},a.blotName="abstract",a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),c=function(){function f(h){this.attributes={},this.domNode=h,this.build()}return f.prototype.attribute=function(h,d){d?h.add(this.domNode,d)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},f.prototype.build=function(){var h=this;this.attributes={};var d=s.default.keys(this.domNode),p=o.default.keys(this.domNode),E=a.default.keys(this.domNode);d.concat(p).concat(E).forEach(function(y){var b=l.query(y,l.Scope.ATTRIBUTE);b instanceof s.default&&(h.attributes[b.attrName]=b)})},f.prototype.copy=function(h){var d=this;Object.keys(this.attributes).forEach(function(p){var E=d.attributes[p].value(d.domNode);h.format(p,E)})},f.prototype.move=function(h){var d=this;this.copy(h),Object.keys(this.attributes).forEach(function(p){d.attributes[p].remove(d.domNode)}),this.attributes={}},f.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(d,p){return d[p]=h.attributes[p].value(h.domNode),d},{})},f}();r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(c,f){var h=c.getAttribute("class")||"";return h.split(/\s+/).filter(function(d){return d.indexOf(f+"-")===0})}var l=function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},f.prototype.add=function(h,d){return this.canAdd(h,d)?(this.remove(h),h.classList.add(this.keyName+"-"+d),!0):!1},f.prototype.remove=function(h){var d=a(h,this.keyName);d.forEach(function(p){h.classList.remove(p)}),h.classList.length===0&&h.removeAttribute("class")},f.prototype.value=function(h){var d=a(h,this.keyName)[0]||"",p=d.slice(this.keyName.length+1);return this.canAdd(h,p)?p:""},f}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(c){var f=c.split("-"),h=f.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return f[0]+h}var l=function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(d){var p=d.split(":");return p[0].trim()})},f.prototype.add=function(h,d){return this.canAdd(h,d)?(h.style[a(this.keyName)]=d,!0):!1},f.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},f.prototype.value=function(h){var d=h.style[a(this.keyName)];return this.canAdd(h,d)?d:""},f}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(c,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}();function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,f){o(this,l),this.quill=c,this.options=f,this.modules={}}return s(l,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(h){f.modules[h]==null&&f.addModule(h)})}},{key:"addModule",value:function(f){var h=this.quill.constructor.import("modules/"+f);return this.modules[f]=new h(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(m,w){for(var g=0;g<w.length;g++){var k=w[g];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,w,g){return w&&v(m.prototype,w),g&&v(m,g),m}}(),o=function v(m,w,g){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,w);if(k===void 0){var D=Object.getPrototypeOf(m);return D===null?void 0:v(D,w,g)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=h(a),c=i(7),f=h(c);function h(v){return v&&v.__esModule?v:{default:v}}function d(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function p(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function E(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var y="\uFEFF",b=function(v){E(m,v);function m(w){d(this,m);var g=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(k){g.contentNode.appendChild(k)}),g.leftGuard=document.createTextNode(y),g.rightGuard=document.createTextNode(y),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return s(m,[{key:"index",value:function(g,k){return g===this.leftGuard?0:g===this.rightGuard?1:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,g,k)}},{key:"restore",value:function(g){var k=void 0,D=void 0,S=g.data.split(y).join("");if(g===this.leftGuard)if(this.prev instanceof f.default){var T=this.prev.length();this.prev.insertAt(T,S),k={startNode:this.prev.domNode,startOffset:T+S.length}}else D=document.createTextNode(S),this.parent.insertBefore(l.default.create(D),this),k={startNode:D,startOffset:S.length};else g===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,S),k={startNode:this.next.domNode,startOffset:S.length}):(D=document.createTextNode(S),this.parent.insertBefore(l.default.create(D),this.next),k={startNode:D,startOffset:S.length}));return g.data=y,k}},{key:"update",value:function(g,k){var D=this;g.forEach(function(S){if(S.type==="characterData"&&(S.target===D.leftGuard||S.target===D.rightGuard)){var T=D.restore(S.target);T&&(k.range=T)}})}}]),m}(l.default.Embed);r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new o.default.Attributor.Attribute("align","align",l),f=new o.default.Attributor.Class("align","ql-align",l),h=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=f,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var c=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),f=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},c=new o.default.Attributor.Attribute("direction","dir",l),f=new o.default.Attributor.Class("direction","ql-direction",l),h=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=f,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function v(m,w){for(var g=0;g<w.length;g++){var k=w[g];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,w,g){return w&&v(m.prototype,w),g&&v(m,g),m}}(),o=function v(m,w,g){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,w);if(k===void 0){var D=Object.getPrototypeOf(m);return D===null?void 0:v(D,w,g)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function f(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function h(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function d(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},E=new l.default.Attributor.Class("font","ql-font",p),y=function(v){d(m,v);function m(){return f(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"value",value:function(g){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),b=new y("font","font-family",p);r.FontStyle=b,r.FontClass=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function w(g,k){for(var D=0;D<k.length;D++){var S=k[D];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,k,D){return k&&w(g.prototype,k),D&&w(g,D),g}}(),o=i(0),a=d(o),l=i(5),c=d(l),f=i(9),h=d(f);function d(w){return w&&w.__esModule?w:{default:w}}function p(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function E(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function y(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var b=function(w){y(g,w);function g(k,D){p(this,g);var S=E(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,k,D));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(c.default.events.EDITOR_CHANGE,function(T,C,I,_){T!==c.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||_===c.default.sources.USER?S.record(C,I):S.transform(C))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return s(g,[{key:"change",value:function(D,S){if(this.stack[D].length!==0){var T=this.stack[D].pop();this.stack[S].push(T),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(T[D],c.default.sources.USER),this.ignoreChange=!1;var C=m(T[D]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(D,S){if(D.ops.length!==0){this.stack.redo=[];var T=this.quill.getContents().diff(S),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var I=this.stack.undo.pop();T=T.compose(I.undo),D=I.redo.compose(D)}else this.lastRecorded=C;this.stack.undo.push({redo:D,undo:T}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(D){this.stack.undo.forEach(function(S){S.undo=D.transform(S.undo,!0),S.redo=D.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=D.transform(S.undo,!0),S.redo=D.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(h.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(w){var g=w.ops[w.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(k){return a.default.query(k,a.default.Scope.BLOCK)!=null}):!1}function m(w){var g=w.reduce(function(D,S){return D+=S.delete||0,D},0),k=w.length()-g;return v(w)&&(k-=1),k}r.default=b,r.getLastChangeIndex=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function q(H,re){for(var X=0;X<re.length;X++){var j=re[X];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(H,j.key,j)}}return function(H,re,X){return re&&q(H.prototype,re),X&&q(H,X),H}}(),o=function q(H,re,X){H===null&&(H=Function.prototype);var j=Object.getOwnPropertyDescriptor(H,re);if(j===void 0){var V=Object.getPrototypeOf(H);return V===null?void 0:q(V,re,X)}else{if("value"in j)return j.value;var W=j.get;return W===void 0?void 0:W.call(X)}},a=i(3),l=C(a),c=i(2),f=C(c),h=i(8),d=C(h),p=i(23),E=C(p),y=i(34),b=C(y),v=i(59),m=C(v),w=i(60),g=C(w),k=i(28),D=C(k),S=i(61),T=C(S);function C(q){return q&&q.__esModule?q:{default:q}}function I(q,H){if(!(q instanceof H))throw new TypeError("Cannot call a class as a function")}function _(q,H){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:q}function R(q,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);q.prototype=Object.create(H&&H.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(q,H):q.__proto__=H)}var O=[!1,"center","right","justify"],U=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],z=[!1,"serif","monospace"],J=["1","2","3",!1],Y=["small",!1,"large","huge"],ue=function(q){R(H,q);function H(re,X){I(this,H);var j=_(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,re,X)),V=function W(Q){if(!document.body.contains(re.root))return document.body.removeEventListener("click",W);j.tooltip!=null&&!j.tooltip.root.contains(Q.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(ie){ie.container.contains(Q.target)||ie.close()})};return re.emitter.listenDOM("click",document.body,V),j}return s(H,[{key:"addModule",value:function(X){var j=o(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"addModule",this).call(this,X);return X==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(X,j){X.forEach(function(V){var W=V.getAttribute("class")||"";W.split(/\s+/).forEach(function(Q){if(Q.startsWith("ql-")&&(Q=Q.slice(3),j[Q]!=null))if(Q==="direction")V.innerHTML=j[Q][""]+j[Q].rtl;else if(typeof j[Q]=="string")V.innerHTML=j[Q];else{var ie=V.value||"";ie!=null&&j[Q][ie]&&(V.innerHTML=j[Q][ie])}})})}},{key:"buildPickers",value:function(X,j){var V=this;this.pickers=X.map(function(Q){if(Q.classList.contains("ql-align"))return Q.querySelector("option")==null&&x(Q,O),new g.default(Q,j.align);if(Q.classList.contains("ql-background")||Q.classList.contains("ql-color")){var ie=Q.classList.contains("ql-background")?"background":"color";return Q.querySelector("option")==null&&x(Q,U,ie==="background"?"#ffffff":"#000000"),new m.default(Q,j[ie])}else return Q.querySelector("option")==null&&(Q.classList.contains("ql-font")?x(Q,z):Q.classList.contains("ql-header")?x(Q,J):Q.classList.contains("ql-size")&&x(Q,Y)),new D.default(Q)});var W=function(){V.pickers.forEach(function(ie){ie.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,W)}}]),H}(b.default);ue.DEFAULTS=(0,l.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var H=this,re=this.container.querySelector("input.ql-image[type=file]");re==null&&(re=document.createElement("input"),re.setAttribute("type","file"),re.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),re.classList.add("ql-image"),re.addEventListener("change",function(){if(re.files!=null&&re.files[0]!=null){var X=new FileReader;X.onload=function(j){var V=H.quill.getSelection(!0);H.quill.updateContents(new f.default().retain(V.index).delete(V.length).insert({image:j.target.result}),d.default.sources.USER),H.quill.setSelection(V.index+1,d.default.sources.SILENT),re.value=""},X.readAsDataURL(re.files[0])}}),this.container.appendChild(re)),re.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var ee=function(q){R(H,q);function H(re,X){I(this,H);var j=_(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,re,X));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return s(H,[{key:"listen",value:function(){var X=this;this.textbox.addEventListener("keydown",function(j){E.default.match(j,"enter")?(X.save(),j.preventDefault()):E.default.match(j,"escape")&&(X.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:X!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+X)||""),this.root.setAttribute("data-mode",X)}},{key:"restoreFocus",value:function(){var X=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=X}},{key:"save",value:function(){var X=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",X,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",X,d.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":X=$(X);case"formula":{if(!X)break;var V=this.quill.getSelection(!0);if(V!=null){var W=V.index+V.length;this.quill.insertEmbed(W,this.root.getAttribute("data-mode"),X,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(W+1," ",d.default.sources.USER),this.quill.setSelection(W+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),H}(T.default);function $(q){var H=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return H?(H[1]||"https")+"://www.youtube.com/embed/"+H[2]+"?showinfo=0":(H=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(H[1]||"https")+"://player.vimeo.com/video/"+H[2]+"/":q}function x(q,H){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;H.forEach(function(X){var j=document.createElement("option");X===re?j.setAttribute("selected","selected"):j.setAttribute("value",X),q.appendChild(j)})}r.BaseTooltip=ee,r.default=ue},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,c=this.iterator();l=c();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,c=this.head;c!=null;){if(c===a)return l;l+=c.length(),c=c.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var c,f=this.iterator();c=f();){var h=c.length();if(a<h||l&&a===h&&(c.next==null||c.next.length()!==0))return[c,a];a-=h}return[null,0]},o.prototype.forEach=function(a){for(var l,c=this.iterator();l=c();)a(l)},o.prototype.forEachAt=function(a,l,c){if(!(l<=0))for(var f=this.find(a),h=f[0],d=f[1],p,E=a-d,y=this.iterator(h);(p=y())&&E<a+l;){var b=p.length();a>E?c(p,a-E,Math.min(l,E+b-a)):c(p,0,Math.min(b,a+l-E)),E+=b}},o.prototype.map=function(a){return this.reduce(function(l,c){return l.push(a(c)),l},[])},o.prototype.reduce=function(a,l){for(var c,f=this.iterator();c=f();)l=a(l,c);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var E in p)p.hasOwnProperty(E)&&(d[E]=p[E])};return function(d,p){h(d,p);function E(){this.constructor=d}d.prototype=p===null?Object.create(p):(E.prototype=p.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,f=function(h){s(d,h);function d(p){var E=h.call(this,p)||this;return E.scroll=E,E.observer=new MutationObserver(function(y){E.update(y)}),E.observer.observe(E.domNode,l),E.attach(),E}return d.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(p,E){this.update(),p===0&&E===this.length()?this.children.forEach(function(y){y.remove()}):h.prototype.deleteAt.call(this,p,E)},d.prototype.formatAt=function(p,E,y,b){this.update(),h.prototype.formatAt.call(this,p,E,y,b)},d.prototype.insertAt=function(p,E,y){this.update(),h.prototype.insertAt.call(this,p,E,y)},d.prototype.optimize=function(p,E){var y=this;p===void 0&&(p=[]),E===void 0&&(E={}),h.prototype.optimize.call(this,E);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)p.push(b.pop());for(var v=function(k,D){D===void 0&&(D=!0),!(k==null||k===y)&&k.domNode.parentNode!=null&&(k.domNode[a.DATA_KEY].mutations==null&&(k.domNode[a.DATA_KEY].mutations=[]),D&&v(k.parent))},m=function(k){k.domNode[a.DATA_KEY]==null||k.domNode[a.DATA_KEY].mutations==null||(k instanceof o.default&&k.children.forEach(m),k.optimize(E))},w=p,g=0;w.length>0;g+=1){if(g>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(k){var D=a.find(k.target,!0);D!=null&&(D.domNode===k.target&&(k.type==="childList"?(v(a.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(S){var T=a.find(S,!1);v(T,!1),T instanceof o.default&&T.children.forEach(function(C){v(C,!1)})})):k.type==="attributes"&&v(D.prev)),v(D))}),this.children.forEach(m),w=[].slice.call(this.observer.takeRecords()),b=w.slice();b.length>0;)p.push(b.pop())}},d.prototype.update=function(p,E){var y=this;E===void 0&&(E={}),p=p||this.observer.takeRecords(),p.map(function(b){var v=a.find(b.target,!0);return v==null?null:v.domNode[a.DATA_KEY].mutations==null?(v.domNode[a.DATA_KEY].mutations=[b],v):(v.domNode[a.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===y||b.domNode[a.DATA_KEY]==null||b.update(b.domNode[a.DATA_KEY].mutations||[],E)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,E),this.optimize(p,E)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(o.default);r.default=f},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var p in d)d.hasOwnProperty(p)&&(h[p]=d[p])};return function(h,d){f(h,d);function p(){this.constructor=h}h.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(f,h){if(Object.keys(f).length!==Object.keys(h).length)return!1;for(var d in f)if(f[d]!==h[d])return!1;return!0}var c=function(f){s(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(d){if(d.tagName!==h.tagName)return f.formats.call(this,d)},h.prototype.format=function(d,p){var E=this;d===this.statics.blotName&&!p?(this.children.forEach(function(y){y instanceof o.default||(y=y.wrap(h.blotName,!0)),E.attributes.copy(y)}),this.unwrap()):f.prototype.format.call(this,d,p)},h.prototype.formatAt=function(d,p,E,y){if(this.formats()[E]!=null||a.query(E,a.Scope.ATTRIBUTE)){var b=this.isolate(d,p);b.format(E,y)}else f.prototype.formatAt.call(this,d,p,E,y)},h.prototype.optimize=function(d){f.prototype.optimize.call(this,d);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var E=this.next;E instanceof h&&E.prev===this&&l(p,E.formats())&&(E.moveChildren(this),E.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(o.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(h){var d=a.query(f.blotName).tagName;if(h.tagName!==d)return c.formats.call(this,h)},f.prototype.format=function(h,d){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!d?this.replaceWith(f.blotName):c.prototype.format.call(this,h,d))},f.prototype.formatAt=function(h,d,p,E){a.query(p,a.Scope.BLOCK)!=null?this.format(p,E):c.prototype.formatAt.call(this,h,d,p,E)},f.prototype.insertAt=function(h,d,p){if(p==null||a.query(d,a.Scope.INLINE)!=null)c.prototype.insertAt.call(this,h,d,p);else{var E=this.split(h),y=a.create(d,p);E.parent.insertBefore(y,E)}},f.prototype.update=function(h,d){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,h,d)},f.blotName="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="P",f}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){l(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=function(l){s(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(f){},c.prototype.format=function(f,h){l.prototype.formatAt.call(this,0,this.length(),f,h)},c.prototype.formatAt=function(f,h,d,p){f===0&&h===this.length()?this.format(d,p):l.prototype.formatAt.call(this,f,h,d,p)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c}(o.default);r.default=a},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=function(c){s(f,c);function f(h){var d=c.call(this,h)||this;return d.text=d.statics.value(d.domNode),d}return f.create=function(h){return document.createTextNode(h)},f.value=function(h){var d=h.data;return d.normalize&&(d=d.normalize()),d},f.prototype.deleteAt=function(h,d){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+d)},f.prototype.index=function(h,d){return this.domNode===h?d:-1},f.prototype.insertAt=function(h,d,p){p==null?(this.text=this.text.slice(0,h)+d+this.text.slice(h),this.domNode.data=this.text):c.prototype.insertAt.call(this,h,d,p)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(h){c.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(h,d){return[this.domNode,h]},f.prototype.split=function(h,d){if(d===void 0&&(d=!1),!d){if(h===0)return this;if(h===this.length())return this.next}var p=a.create(this.domNode.splitText(h));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},f.prototype.update=function(h,d){var p=this;h.some(function(E){return E.type==="characterData"&&E.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=a.Scope.INLINE_BLOT,f}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=a.length;var f=c.indexOf(a,l);return f!==-1&&f===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),f=c.length>>>0,h=arguments[1],d,p=0;p<f;p++)if(d=c[p],l.call(h,d,p,c))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function a(g,k,D){if(g==k)return g?[[o,g]]:[];(D<0||g.length<D)&&(D=null);var S=h(g,k),T=g.substring(0,S);g=g.substring(S),k=k.substring(S),S=d(g,k);var C=g.substring(g.length-S);g=g.substring(0,g.length-S),k=k.substring(0,k.length-S);var I=l(g,k);return T&&I.unshift([o,T]),C&&I.push([o,C]),E(I),D!=null&&(I=v(I,D)),I=m(I),I}function l(g,k){var D;if(!g)return[[s,k]];if(!k)return[[i,g]];var S=g.length>k.length?g:k,T=g.length>k.length?k:g,C=S.indexOf(T);if(C!=-1)return D=[[s,S.substring(0,C)],[o,T],[s,S.substring(C+T.length)]],g.length>k.length&&(D[0][0]=D[2][0]=i),D;if(T.length==1)return[[i,g],[s,k]];var I=p(g,k);if(I){var _=I[0],R=I[1],O=I[2],U=I[3],z=I[4],J=a(_,O),Y=a(R,U);return J.concat([[o,z]],Y)}return c(g,k)}function c(g,k){for(var D=g.length,S=k.length,T=Math.ceil((D+S)/2),C=T,I=2*T,_=new Array(I),R=new Array(I),O=0;O<I;O++)_[O]=-1,R[O]=-1;_[C+1]=0,R[C+1]=0;for(var U=D-S,z=U%2!=0,J=0,Y=0,ue=0,ee=0,$=0;$<T;$++){for(var x=-$+J;x<=$-Y;x+=2){var q=C+x,H;x==-$||x!=$&&_[q-1]<_[q+1]?H=_[q+1]:H=_[q-1]+1;for(var re=H-x;H<D&&re<S&&g.charAt(H)==k.charAt(re);)H++,re++;if(_[q]=H,H>D)Y+=2;else if(re>S)J+=2;else if(z){var X=C+U-x;if(X>=0&&X<I&&R[X]!=-1){var j=D-R[X];if(H>=j)return f(g,k,H,re)}}}for(var V=-$+ue;V<=$-ee;V+=2){var X=C+V,j;V==-$||V!=$&&R[X-1]<R[X+1]?j=R[X+1]:j=R[X-1]+1;for(var W=j-V;j<D&&W<S&&g.charAt(D-j-1)==k.charAt(S-W-1);)j++,W++;if(R[X]=j,j>D)ee+=2;else if(W>S)ue+=2;else if(!z){var q=C+U-V;if(q>=0&&q<I&&_[q]!=-1){var H=_[q],re=C+H-q;if(j=D-j,H>=j)return f(g,k,H,re)}}}}return[[i,g],[s,k]]}function f(g,k,D,S){var T=g.substring(0,D),C=k.substring(0,S),I=g.substring(D),_=k.substring(S),R=a(T,C),O=a(I,_);return R.concat(O)}function h(g,k){if(!g||!k||g.charAt(0)!=k.charAt(0))return 0;for(var D=0,S=Math.min(g.length,k.length),T=S,C=0;D<T;)g.substring(C,T)==k.substring(C,T)?(D=T,C=D):S=T,T=Math.floor((S-D)/2+D);return T}function d(g,k){if(!g||!k||g.charAt(g.length-1)!=k.charAt(k.length-1))return 0;for(var D=0,S=Math.min(g.length,k.length),T=S,C=0;D<T;)g.substring(g.length-T,g.length-C)==k.substring(k.length-T,k.length-C)?(D=T,C=D):S=T,T=Math.floor((S-D)/2+D);return T}function p(g,k){var D=g.length>k.length?g:k,S=g.length>k.length?k:g;if(D.length<4||S.length*2<D.length)return null;function T(Y,ue,ee){for(var $=Y.substring(ee,ee+Math.floor(Y.length/4)),x=-1,q="",H,re,X,j;(x=ue.indexOf($,x+1))!=-1;){var V=h(Y.substring(ee),ue.substring(x)),W=d(Y.substring(0,ee),ue.substring(0,x));q.length<W+V&&(q=ue.substring(x-W,x)+ue.substring(x,x+V),H=Y.substring(0,ee-W),re=Y.substring(ee+V),X=ue.substring(0,x-W),j=ue.substring(x+V))}return q.length*2>=Y.length?[H,re,X,j,q]:null}var C=T(D,S,Math.ceil(D.length/4)),I=T(D,S,Math.ceil(D.length/2)),_;if(!C&&!I)return null;I?C?_=C[4].length>I[4].length?C:I:_=I:_=C;var R,O,U,z;g.length>k.length?(R=_[0],O=_[1],U=_[2],z=_[3]):(U=_[0],z=_[1],R=_[2],O=_[3]);var J=_[4];return[R,O,U,z,J]}function E(g){g.push([o,""]);for(var k=0,D=0,S=0,T="",C="",I;k<g.length;)switch(g[k][0]){case s:S++,C+=g[k][1],k++;break;case i:D++,T+=g[k][1],k++;break;case o:D+S>1?(D!==0&&S!==0&&(I=h(C,T),I!==0&&(k-D-S>0&&g[k-D-S-1][0]==o?g[k-D-S-1][1]+=C.substring(0,I):(g.splice(0,0,[o,C.substring(0,I)]),k++),C=C.substring(I),T=T.substring(I)),I=d(C,T),I!==0&&(g[k][1]=C.substring(C.length-I)+g[k][1],C=C.substring(0,C.length-I),T=T.substring(0,T.length-I))),D===0?g.splice(k-S,D+S,[s,C]):S===0?g.splice(k-D,D+S,[i,T]):g.splice(k-D-S,D+S,[i,T],[s,C]),k=k-D-S+(D?1:0)+(S?1:0)+1):k!==0&&g[k-1][0]==o?(g[k-1][1]+=g[k][1],g.splice(k,1)):k++,S=0,D=0,T="",C="";break}g[g.length-1][1]===""&&g.pop();var _=!1;for(k=1;k<g.length-1;)g[k-1][0]==o&&g[k+1][0]==o&&(g[k][1].substring(g[k][1].length-g[k-1][1].length)==g[k-1][1]?(g[k][1]=g[k-1][1]+g[k][1].substring(0,g[k][1].length-g[k-1][1].length),g[k+1][1]=g[k-1][1]+g[k+1][1],g.splice(k-1,1),_=!0):g[k][1].substring(0,g[k+1][1].length)==g[k+1][1]&&(g[k-1][1]+=g[k+1][1],g[k][1]=g[k][1].substring(g[k+1][1].length)+g[k+1][1],g.splice(k+1,1),_=!0)),k++;_&&E(g)}var y=a;y.INSERT=s,y.DELETE=i,y.EQUAL=o,n.exports=y;function b(g,k){if(k===0)return[o,g];for(var D=0,S=0;S<g.length;S++){var T=g[S];if(T[0]===i||T[0]===o){var C=D+T[1].length;if(k===C)return[S+1,g];if(k<C){g=g.slice();var I=k-D,_=[T[0],T[1].slice(0,I)],R=[T[0],T[1].slice(I)];return g.splice(S,1,_,R),[S+1,g]}else D=C}}throw new Error("cursor_pos is out of bounds!")}function v(g,k){var D=b(g,k),S=D[1],T=D[0],C=S[T],I=S[T+1];if(C==null)return g;if(C[0]!==o)return g;if(I!=null&&C[1]+I[1]===I[1]+C[1])return S.splice(T,2,I,C),w(S,T,2);if(I!=null&&I[1].indexOf(C[1])===0){S.splice(T,2,[I[0],C[1]],[0,C[1]]);var _=I[1].slice(C[1].length);return _.length>0&&S.splice(T+2,0,[I[0],_]),w(S,T,3)}else return g}function m(g){for(var k=!1,D=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},S=function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319},T=2;T<g.length;T+=1)g[T-2][0]===o&&S(g[T-2][1])&&g[T-1][0]===i&&D(g[T-1][1])&&g[T][0]===s&&D(g[T][1])&&(k=!0,g[T-1][1]=g[T-2][1].slice(-1)+g[T-1][1],g[T][1]=g[T-2][1].slice(-1)+g[T][1],g[T-2][1]=g[T-2][1].slice(0,-1));if(!k)return g;for(var C=[],T=0;T<g.length;T+=1)g[T][1].length>0&&C.push(g[T]);return C}function w(g,k,D){for(var S=k+D-1;S>=0&&S>=k-1;S--)if(S+1<g.length){var T=g[S],C=g[S+1];T[0]===C[1]&&g.splice(S,2,[T[0],T[1]+C[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,d;if(this._eventsCount===0)return f;for(d in h=this._events)i.call(h,d)&&f.push(s?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f,h){var d=s?s+f:f,p=this._events[d];if(h)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var E=0,y=p.length,b=new Array(y);E<y;E++)b[E]=p[E].fn;return b},l.prototype.emit=function(f,h,d,p,E,y){var b=s?s+f:f;if(!this._events[b])return!1;var v=this._events[b],m=arguments.length,w,g;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,d),!0;case 4:return v.fn.call(v.context,h,d,p),!0;case 5:return v.fn.call(v.context,h,d,p,E),!0;case 6:return v.fn.call(v.context,h,d,p,E,y),!0}for(g=1,w=new Array(m-1);g<m;g++)w[g-1]=arguments[g];v.fn.apply(v.context,w)}else{var k=v.length,D;for(g=0;g<k;g++)switch(v[g].once&&this.removeListener(f,v[g].fn,void 0,!0),m){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,h);break;case 3:v[g].fn.call(v[g].context,h,d);break;case 4:v[g].fn.call(v[g].context,h,d,p);break;default:if(!w)for(D=1,w=new Array(m-1);D<m;D++)w[D-1]=arguments[D];v[g].fn.apply(v[g].context,w)}}return!0},l.prototype.on=function(f,h,d){var p=new a(h,d||this),E=s?s+f:f;return this._events[E]?this._events[E].fn?this._events[E]=[this._events[E],p]:this._events[E].push(p):(this._events[E]=p,this._eventsCount++),this},l.prototype.once=function(f,h,d){var p=new a(h,d||this,!0),E=s?s+f:f;return this._events[E]?this._events[E].fn?this._events[E]=[this._events[E],p]:this._events[E].push(p):(this._events[E]=p,this._eventsCount++),this},l.prototype.removeListener=function(f,h,d,p){var E=s?s+f:f;if(!this._events[E])return this;if(!h)return--this._eventsCount===0?this._events=new o:delete this._events[E],this;var y=this._events[E];if(y.fn)y.fn===h&&(!p||y.once)&&(!d||y.context===d)&&(--this._eventsCount===0?this._events=new o:delete this._events[E]);else{for(var b=0,v=[],m=y.length;b<m;b++)(y[b].fn!==h||p&&!y[b].once||d&&y[b].context!==d)&&v.push(y[b]);v.length?this._events[E]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new o:delete this._events[E]}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=s?s+f:f,this._events[h]&&(--this._eventsCount===0?this._events=new o:delete this._events[h])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},o=function(){function G(te,se){var ae=[],Z=!0,ye=!1,he=void 0;try{for(var me=te[Symbol.iterator](),Ee;!(Z=(Ee=me.next()).done)&&(ae.push(Ee.value),!(se&&ae.length===se));Z=!0);}catch(Te){ye=!0,he=Te}finally{try{!Z&&me.return&&me.return()}finally{if(ye)throw he}}return ae}return function(te,se){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return G(te,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function G(te,se){for(var ae=0;ae<se.length;ae++){var Z=se[ae];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(te,Z.key,Z)}}return function(te,se,ae){return se&&G(te.prototype,se),ae&&G(te,ae),te}}(),l=i(3),c=R(l),f=i(2),h=R(f),d=i(0),p=R(d),E=i(5),y=R(E),b=i(10),v=R(b),m=i(9),w=R(m),g=i(36),k=i(37),D=i(13),S=R(D),T=i(26),C=i(38),I=i(39),_=i(40);function R(G){return G&&G.__esModule?G:{default:G}}function O(G,te,se){return te in G?Object.defineProperty(G,te,{value:se,enumerable:!0,configurable:!0,writable:!0}):G[te]=se,G}function U(G,te){if(!(G instanceof te))throw new TypeError("Cannot call a class as a function")}function z(G,te){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:G}function J(G,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);G.prototype=Object.create(te&&te.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(G,te):G.__proto__=te)}var Y=(0,v.default)("quill:clipboard"),ue="__ql-matcher",ee=[[Node.TEXT_NODE,le],[Node.TEXT_NODE,B],["br",ge],[Node.ELEMENT_NODE,B],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,de],["li",F],["b",W.bind(W,"bold")],["i",W.bind(W,"italic")],["style",be]],$=[g.AlignAttribute,C.DirectionAttribute].reduce(function(G,te){return G[te.keyName]=te,G},{}),x=[g.AlignStyle,k.BackgroundStyle,T.ColorStyle,C.DirectionStyle,I.FontStyle,_.SizeStyle].reduce(function(G,te){return G[te.keyName]=te,G},{}),q=function(G){J(te,G);function te(se,ae){U(this,te);var Z=z(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,se,ae));return Z.quill.root.addEventListener("paste",Z.onPaste.bind(Z)),Z.container=Z.quill.addContainer("ql-clipboard"),Z.container.setAttribute("contenteditable",!0),Z.container.setAttribute("tabindex",-1),Z.matchers=[],ee.concat(Z.options.matchers).forEach(function(ye){var he=o(ye,2),me=he[0],Ee=he[1];!ae.matchVisual&&Ee===ne||Z.addMatcher(me,Ee)}),Z}return a(te,[{key:"addMatcher",value:function(ae,Z){this.matchers.push([ae,Z])}},{key:"convert",value:function(ae){if(typeof ae=="string")return this.container.innerHTML=ae.replace(/\>\r?\n +\</g,"><"),this.convert();var Z=this.quill.getFormat(this.quill.selection.savedRange.index);if(Z[S.default.blotName]){var ye=this.container.innerText;return this.container.innerHTML="",new h.default().insert(ye,O({},S.default.blotName,Z[S.default.blotName]))}var he=this.prepareMatching(),me=o(he,2),Ee=me[0],Te=me[1],Ae=V(this.container,Ee,Te);return X(Ae,`
`)&&Ae.ops[Ae.ops.length-1].attributes==null&&(Ae=Ae.compose(new h.default().retain(Ae.length()-1).delete(1))),Y.log("convert",this.container.innerHTML,Ae),this.container.innerHTML="",Ae}},{key:"dangerouslyPasteHTML",value:function(ae,Z){var ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ae=="string")this.quill.setContents(this.convert(ae),Z),this.quill.setSelection(0,y.default.sources.SILENT);else{var he=this.convert(Z);this.quill.updateContents(new h.default().retain(ae).concat(he),ye),this.quill.setSelection(ae+he.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ae){var Z=this;if(!(ae.defaultPrevented||!this.quill.isEnabled())){var ye=this.quill.getSelection(),he=new h.default().retain(ye.index),me=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){he=he.concat(Z.convert()).delete(ye.length),Z.quill.updateContents(he,y.default.sources.USER),Z.quill.setSelection(he.length()-ye.length,y.default.sources.SILENT),Z.quill.scrollingContainer.scrollTop=me,Z.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ae=this,Z=[],ye=[];return this.matchers.forEach(function(he){var me=o(he,2),Ee=me[0],Te=me[1];switch(Ee){case Node.TEXT_NODE:ye.push(Te);break;case Node.ELEMENT_NODE:Z.push(Te);break;default:[].forEach.call(ae.container.querySelectorAll(Ee),function(Ae){Ae[ue]=Ae[ue]||[],Ae[ue].push(Te)});break}}),[Z,ye]}}]),te}(w.default);q.DEFAULTS={matchers:[],matchVisual:!0};function H(G,te,se){return(typeof te>"u"?"undefined":s(te))==="object"?Object.keys(te).reduce(function(ae,Z){return H(ae,Z,te[Z])},G):G.reduce(function(ae,Z){return Z.attributes&&Z.attributes[te]?ae.push(Z):ae.insert(Z.insert,(0,c.default)({},O({},te,se),Z.attributes))},new h.default)}function re(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var te="__ql-computed-style";return G[te]||(G[te]=window.getComputedStyle(G))}function X(G,te){for(var se="",ae=G.ops.length-1;ae>=0&&se.length<te.length;--ae){var Z=G.ops[ae];if(typeof Z.insert!="string")break;se=Z.insert+se}return se.slice(-1*te.length)===te}function j(G){if(G.childNodes.length===0)return!1;var te=re(G);return["block","list-item"].indexOf(te.display)>-1}function V(G,te,se){return G.nodeType===G.TEXT_NODE?se.reduce(function(ae,Z){return Z(G,ae)},new h.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(ae,Z){var ye=V(Z,te,se);return Z.nodeType===G.ELEMENT_NODE&&(ye=te.reduce(function(he,me){return me(Z,he)},ye),ye=(Z[ue]||[]).reduce(function(he,me){return me(Z,he)},ye)),ae.concat(ye)},new h.default):new h.default}function W(G,te,se){return H(se,G,!0)}function Q(G,te){var se=p.default.Attributor.Attribute.keys(G),ae=p.default.Attributor.Class.keys(G),Z=p.default.Attributor.Style.keys(G),ye={};return se.concat(ae).concat(Z).forEach(function(he){var me=p.default.query(he,p.default.Scope.ATTRIBUTE);me!=null&&(ye[me.attrName]=me.value(G),ye[me.attrName])||(me=$[he],me!=null&&(me.attrName===he||me.keyName===he)&&(ye[me.attrName]=me.value(G)||void 0),me=x[he],me!=null&&(me.attrName===he||me.keyName===he)&&(me=x[he],ye[me.attrName]=me.value(G)||void 0))}),Object.keys(ye).length>0&&(te=H(te,ye)),te}function ie(G,te){var se=p.default.query(G);if(se==null)return te;if(se.prototype instanceof p.default.Embed){var ae={},Z=se.value(G);Z!=null&&(ae[se.blotName]=Z,te=new h.default().insert(ae,se.formats(G)))}else typeof se.formats=="function"&&(te=H(te,se.blotName,se.formats(G)));return te}function ge(G,te){return X(te,`
`)||te.insert(`
`),te}function be(){return new h.default}function F(G,te){var se=p.default.query(G);if(se==null||se.blotName!=="list-item"||!X(te,`
`))return te;for(var ae=-1,Z=G.parentNode;!Z.classList.contains("ql-clipboard");)(p.default.query(Z)||{}).blotName==="list"&&(ae+=1),Z=Z.parentNode;return ae<=0?te:te.compose(new h.default().retain(te.length()-1).retain(1,{indent:ae}))}function B(G,te){return X(te,`
`)||(j(G)||te.length()>0&&G.nextSibling&&j(G.nextSibling))&&te.insert(`
`),te}function ne(G,te){if(j(G)&&G.nextElementSibling!=null&&!X(te,`

`)){var se=G.offsetHeight+parseFloat(re(G).marginTop)+parseFloat(re(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+se*1.5&&te.insert(`
`)}return te}function de(G,te){var se={},ae=G.style||{};return ae.fontStyle&&re(G).fontStyle==="italic"&&(se.italic=!0),ae.fontWeight&&(re(G).fontWeight.startsWith("bold")||parseInt(re(G).fontWeight)>=700)&&(se.bold=!0),Object.keys(se).length>0&&(te=H(te,se)),parseFloat(ae.textIndent||0)>0&&(te=new h.default().insert("	").concat(te)),te}function le(G,te){var se=G.data;if(G.parentNode.tagName==="O:P")return te.insert(se.trim());if(se.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return te;if(!re(G.parentNode).whiteSpace.startsWith("pre")){var ae=function(ye,he){return he=he.replace(/[^\u00a0]/g,""),he.length<1&&ye?" ":he};se=se.replace(/\r\n/g," ").replace(/\n/g," "),se=se.replace(/\s\s+/g,ae.bind(ae,!0)),(G.previousSibling==null&&j(G.parentNode)||G.previousSibling!=null&&j(G.previousSibling))&&(se=se.replace(/^\s+/,ae.bind(ae,!1))),(G.nextSibling==null&&j(G.parentNode)||G.nextSibling!=null&&j(G.nextSibling))&&(se=se.replace(/\s+$/,ae.bind(ae,!1)))}return te.insert(se)}r.default=q,r.matchAttributor=Q,r.matchBlot=ie,r.matchNewline=B,r.matchSpacing=ne,r.matchText=le},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function E(y,b){for(var v=0;v<b.length;v++){var m=b[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,b,v){return b&&E(y.prototype,b),v&&E(y,v),y}}(),o=function E(y,b,v){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,b);if(m===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:E(w,b,v)}else{if("value"in m)return m.value;var g=m.get;return g===void 0?void 0:g.call(v)}},a=i(6),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function f(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function h(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function d(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var p=function(E){d(y,E);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"optimize",value:function(v){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function _(R,O){var U=[],z=!0,J=!1,Y=void 0;try{for(var ue=R[Symbol.iterator](),ee;!(z=(ee=ue.next()).done)&&(U.push(ee.value),!(O&&U.length===O));z=!0);}catch($){J=!0,Y=$}finally{try{!z&&ue.return&&ue.return()}finally{if(J)throw Y}}return U}return function(R,O){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return _(R,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function _(R,O){for(var U=0;U<O.length;U++){var z=O[U];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(R,z.key,z)}}return function(R,O,U){return O&&_(R.prototype,O),U&&_(R,U),R}}(),a=i(2),l=v(a),c=i(0),f=v(c),h=i(5),d=v(h),p=i(10),E=v(p),y=i(9),b=v(y);function v(_){return _&&_.__esModule?_:{default:_}}function m(_,R,O){return R in _?Object.defineProperty(_,R,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[R]=O,_}function w(_,R){if(!(_ instanceof R))throw new TypeError("Cannot call a class as a function")}function g(_,R){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:_}function k(_,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);_.prototype=Object.create(R&&R.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(_,R):_.__proto__=R)}var D=(0,E.default)("quill:toolbar"),S=function(_){k(R,_);function R(O,U){w(this,R);var z=g(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,O,U));if(Array.isArray(z.options.container)){var J=document.createElement("div");C(J,z.options.container),O.container.parentNode.insertBefore(J,O.container),z.container=J}else typeof z.options.container=="string"?z.container=document.querySelector(z.options.container):z.container=z.options.container;if(!(z.container instanceof HTMLElement)){var Y;return Y=D.error("Container required for toolbar",z.options),g(z,Y)}return z.container.classList.add("ql-toolbar"),z.controls=[],z.handlers={},Object.keys(z.options.handlers).forEach(function(ue){z.addHandler(ue,z.options.handlers[ue])}),[].forEach.call(z.container.querySelectorAll("button, select"),function(ue){z.attach(ue)}),z.quill.on(d.default.events.EDITOR_CHANGE,function(ue,ee){ue===d.default.events.SELECTION_CHANGE&&z.update(ee)}),z.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var ue=z.quill.selection.getRange(),ee=s(ue,1),$=ee[0];z.update($)}),z}return o(R,[{key:"addHandler",value:function(U,z){this.handlers[U]=z}},{key:"attach",value:function(U){var z=this,J=[].find.call(U.classList,function(ue){return ue.indexOf("ql-")===0});if(J){if(J=J.slice(3),U.tagName==="BUTTON"&&U.setAttribute("type","button"),this.handlers[J]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[J]==null){D.warn("ignoring attaching to disabled format",J,U);return}if(f.default.query(J)==null){D.warn("ignoring attaching to nonexistent format",J,U);return}}var Y=U.tagName==="SELECT"?"change":"click";U.addEventListener(Y,function(ue){var ee=void 0;if(U.tagName==="SELECT"){if(U.selectedIndex<0)return;var $=U.options[U.selectedIndex];$.hasAttribute("selected")?ee=!1:ee=$.value||!1}else U.classList.contains("ql-active")?ee=!1:ee=U.value||!U.hasAttribute("value"),ue.preventDefault();z.quill.focus();var x=z.quill.selection.getRange(),q=s(x,1),H=q[0];if(z.handlers[J]!=null)z.handlers[J].call(z,ee);else if(f.default.query(J).prototype instanceof f.default.Embed){if(ee=prompt("Enter "+J),!ee)return;z.quill.updateContents(new l.default().retain(H.index).delete(H.length).insert(m({},J,ee)),d.default.sources.USER)}else z.quill.format(J,ee,d.default.sources.USER);z.update(H)}),this.controls.push([J,U])}}},{key:"update",value:function(U){var z=U==null?{}:this.quill.getFormat(U);this.controls.forEach(function(J){var Y=s(J,2),ue=Y[0],ee=Y[1];if(ee.tagName==="SELECT"){var $=void 0;if(U==null)$=null;else if(z[ue]==null)$=ee.querySelector("option[selected]");else if(!Array.isArray(z[ue])){var x=z[ue];typeof x=="string"&&(x=x.replace(/\"/g,'\\"')),$=ee.querySelector('option[value="'+x+'"]')}$==null?(ee.value="",ee.selectedIndex=-1):$.selected=!0}else if(U==null)ee.classList.remove("ql-active");else if(ee.hasAttribute("value")){var q=z[ue]===ee.getAttribute("value")||z[ue]!=null&&z[ue].toString()===ee.getAttribute("value")||z[ue]==null&&!ee.getAttribute("value");ee.classList.toggle("ql-active",q)}else ee.classList.toggle("ql-active",z[ue]!=null)})}}]),R}(b.default);S.DEFAULTS={};function T(_,R,O){var U=document.createElement("button");U.setAttribute("type","button"),U.classList.add("ql-"+R),O!=null&&(U.value=O),_.appendChild(U)}function C(_,R){Array.isArray(R[0])||(R=[R]),R.forEach(function(O){var U=document.createElement("span");U.classList.add("ql-formats"),O.forEach(function(z){if(typeof z=="string")T(U,z);else{var J=Object.keys(z)[0],Y=z[J];Array.isArray(Y)?I(U,J,Y):T(U,J,Y)}}),_.appendChild(U)})}function I(_,R,O){var U=document.createElement("select");U.classList.add("ql-"+R),O.forEach(function(z){var J=document.createElement("option");z!==!1?J.setAttribute("value",z):J.setAttribute("selected","selected"),U.appendChild(J)}),_.appendChild(U)}S.DEFAULTS={container:null,handlers:{clean:function(){var R=this,O=this.quill.getSelection();if(O!=null)if(O.length==0){var U=this.quill.getFormat();Object.keys(U).forEach(function(z){f.default.query(z,f.default.Scope.INLINE)!=null&&R.quill.format(z,!1)})}else this.quill.removeFormat(O,d.default.sources.USER)},direction:function(R){var O=this.quill.getFormat().align;R==="rtl"&&O==null?this.quill.format("align","right",d.default.sources.USER):!R&&O==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",R,d.default.sources.USER)},indent:function(R){var O=this.quill.getSelection(),U=this.quill.getFormat(O),z=parseInt(U.indent||0);if(R==="+1"||R==="-1"){var J=R==="+1"?1:-1;U.direction==="rtl"&&(J*=-1),this.quill.format("indent",z+J,d.default.sources.USER)}},link:function(R){R===!0&&(R=prompt("Enter link URL:")),this.quill.format("link",R,d.default.sources.USER)},list:function(R){var O=this.quill.getSelection(),U=this.quill.getFormat(O);R==="check"?U.list==="checked"||U.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",R,d.default.sources.USER)}}},r.default=S,r.addControls=C},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function E(y,b){for(var v=0;v<b.length;v++){var m=b[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,b,v){return b&&E(y.prototype,b),v&&E(y,v),y}}(),o=function E(y,b,v){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,b);if(m===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:E(w,b,v)}else{if("value"in m)return m.value;var g=m.get;return g===void 0?void 0:g.call(v)}},a=i(28),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function f(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function h(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function d(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var p=function(E){d(y,E);function y(b,v){f(this,y);var m=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,b));return m.label.innerHTML=v,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),m}return s(y,[{key:"buildItem",value:function(v){var m=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,v);return m.style.backgroundColor=v.getAttribute("value")||"",m}},{key:"selectItem",value:function(v,m){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,v,m);var w=this.label.querySelector(".ql-color-label"),g=v&&v.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=g:w.style.fill=g)}}]),y}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function E(y,b){for(var v=0;v<b.length;v++){var m=b[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,b,v){return b&&E(y.prototype,b),v&&E(y,v),y}}(),o=function E(y,b,v){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,b);if(m===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:E(w,b,v)}else{if("value"in m)return m.value;var g=m.get;return g===void 0?void 0:g.call(v)}},a=i(28),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function f(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function h(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function d(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var p=function(E){d(y,E);function y(b,v){f(this,y);var m=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,b));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=v[w.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return s(y,[{key:"selectItem",value:function(v,m){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,v,m),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),y}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(c,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}();function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,f){var h=this;o(this,l),this.quill=c,this.boundsContainer=f||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var h=f.left+f.width/2-this.root.offsetWidth/2,d=f.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),E=this.root.getBoundingClientRect(),y=0;if(E.right>p.right&&(y=p.right-E.right,this.root.style.left=h+y+"px"),E.left<p.left&&(y=p.left-E.left,this.root.style.left=h+y+"px"),E.bottom>p.bottom){var b=E.bottom-E.top,v=f.bottom-f.top+b;this.root.style.top=d-v+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function I(_,R){var O=[],U=!0,z=!1,J=void 0;try{for(var Y=_[Symbol.iterator](),ue;!(U=(ue=Y.next()).done)&&(O.push(ue.value),!(R&&O.length===R));U=!0);}catch(ee){z=!0,J=ee}finally{try{!U&&Y.return&&Y.return()}finally{if(z)throw J}}return O}return function(_,R){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return I(_,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function I(_,R,O){_===null&&(_=Function.prototype);var U=Object.getOwnPropertyDescriptor(_,R);if(U===void 0){var z=Object.getPrototypeOf(_);return z===null?void 0:I(z,R,O)}else{if("value"in U)return U.value;var J=U.get;return J===void 0?void 0:J.call(O)}},a=function(){function I(_,R){for(var O=0;O<R.length;O++){var U=R[O];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(_,U.key,U)}}return function(_,R,O){return R&&I(_.prototype,R),O&&I(_,O),_}}(),l=i(3),c=w(l),f=i(8),h=w(f),d=i(43),p=w(d),E=i(27),y=w(E),b=i(15),v=i(41),m=w(v);function w(I){return I&&I.__esModule?I:{default:I}}function g(I,_){if(!(I instanceof _))throw new TypeError("Cannot call a class as a function")}function k(I,_){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:I}function D(I,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);I.prototype=Object.create(_&&_.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(I,_):I.__proto__=_)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],T=function(I){D(_,I);function _(R,O){g(this,_),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=S);var U=k(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,R,O));return U.quill.container.classList.add("ql-snow"),U}return a(_,[{key:"extendToolbar",value:function(O){O.container.classList.add("ql-snow"),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),m.default),this.tooltip=new C(this.quill,this.options.bounds),O.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(U,z){O.handlers.link.call(O,!z.format.link)})}}]),_}(p.default);T.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){if(_){var R=this.quill.getSelection();if(R==null||R.length==0)return;var O=this.quill.getText(R);/^\S+@\S+\.\S+$/.test(O)&&O.indexOf("mailto:")!==0&&(O="mailto:"+O);var U=this.quill.theme.tooltip;U.edit("link",O)}else this.quill.format("link",!1)}}}}});var C=function(I){D(_,I);function _(R,O){g(this,_);var U=k(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,R,O));return U.preview=U.root.querySelector("a.ql-preview"),U}return a(_,[{key:"listen",value:function(){var O=this;o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(U){O.root.classList.contains("ql-editing")?O.save():O.edit("link",O.preview.textContent),U.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(U){if(O.linkRange!=null){var z=O.linkRange;O.restoreFocus(),O.quill.formatText(z,"link",!1,h.default.sources.USER),delete O.linkRange}U.preventDefault(),O.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(U,z,J){if(U!=null){if(U.length===0&&J===h.default.sources.USER){var Y=O.quill.scroll.descendant(y.default,U.index),ue=s(Y,2),ee=ue[0],$=ue[1];if(ee!=null){O.linkRange=new b.Range(U.index-$,ee.length());var x=y.default.formats(ee.domNode);O.preview.textContent=x,O.preview.setAttribute("href",x),O.show(),O.position(O.quill.getBounds(O.linkRange));return}}else delete O.linkRange;O.hide()}})}},{key:"show",value:function(){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),_}(d.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=Z(s),a=i(36),l=i(38),c=i(64),f=i(65),h=Z(f),d=i(66),p=Z(d),E=i(67),y=Z(E),b=i(37),v=i(26),m=i(39),w=i(40),g=i(56),k=Z(g),D=i(68),S=Z(D),T=i(27),C=Z(T),I=i(69),_=Z(I),R=i(70),O=Z(R),U=i(71),z=Z(U),J=i(72),Y=Z(J),ue=i(73),ee=Z(ue),$=i(13),x=Z($),q=i(74),H=Z(q),re=i(75),X=Z(re),j=i(57),V=Z(j),W=i(41),Q=Z(W),ie=i(28),ge=Z(ie),be=i(59),F=Z(be),B=i(60),ne=Z(B),de=i(61),le=Z(de),G=i(108),te=Z(G),se=i(62),ae=Z(se);function Z(ye){return ye&&ye.__esModule?ye:{default:ye}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":w.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":m.FontClass,"formats/size":w.SizeClass,"formats/blockquote":h.default,"formats/code-block":x.default,"formats/header":p.default,"formats/list":y.default,"formats/bold":k.default,"formats/code":$.Code,"formats/italic":S.default,"formats/link":C.default,"formats/script":_.default,"formats/strike":O.default,"formats/underline":z.default,"formats/image":Y.default,"formats/video":ee.default,"formats/list/item":E.ListItem,"modules/formula":H.default,"modules/syntax":X.default,"modules/toolbar":V.default,"themes/bubble":te.default,"themes/snow":ae.default,"ui/icons":Q.default,"ui/picker":ge.default,"ui/icon-picker":ne.default,"ui/color-picker":F.default,"ui/tooltip":le.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function y(b,v){for(var m=0;m<v.length;m++){var w=v[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,v,m){return v&&y(b.prototype,v),m&&y(b,m),b}}(),o=function y(b,v,m){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,v);if(w===void 0){var g=Object.getPrototypeOf(b);return g===null?void 0:y(g,v,m)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(m)}},a=i(0),l=c(a);function c(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function d(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var p=function(y){d(b,y);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"add",value:function(m,w){if(w==="+1"||w==="-1"){var g=this.value(m)||0;w=w==="+1"?g+1:g-1}return w===0?(this.remove(m),!0):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,m,w)}},{key:"canAdd",value:function(m,w){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,m,w)||o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,m,parseInt(w))}},{key:"value",value:function(m){return parseInt(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,m))||void 0}}]),b}(l.default.Attributor.Class),E=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(E,y){for(var b=0;b<y.length;b++){var v=y[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(E,v.key,v)}}return function(E,y,b){return y&&p(E.prototype,y),b&&p(E,b),E}}(),o=i(4),a=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,E){if(!(p instanceof E))throw new TypeError("Cannot call a class as a function")}function f(p,E){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:p}function h(p,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);p.prototype=Object.create(E&&E.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(p,E):p.__proto__=E)}var d=function(p){h(E,p);function E(){return c(this,E),f(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),E}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function g(k,D){for(var S=0;S<D.length;S++){var T=D[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,T.key,T)}}return function(k,D,S){return D&&g(k.prototype,D),S&&g(k,S),k}}(),o=function g(k,D,S){k===null&&(k=Function.prototype);var T=Object.getOwnPropertyDescriptor(k,D);if(T===void 0){var C=Object.getPrototypeOf(k);return C===null?void 0:g(C,D,S)}else{if("value"in T)return T.value;var I=T.get;return I===void 0?void 0:I.call(S)}},a=i(0),l=p(a),c=i(4),f=p(c),h=i(25),d=p(h);function p(g){return g&&g.__esModule?g:{default:g}}function E(g,k,D){return k in g?Object.defineProperty(g,k,{value:D,enumerable:!0,configurable:!0,writable:!0}):g[k]=D,g}function y(g,k){if(!(g instanceof k))throw new TypeError("Cannot call a class as a function")}function b(g,k){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:g}function v(g,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);g.prototype=Object.create(k&&k.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(g,k):g.__proto__=k)}var m=function(g){v(k,g);function k(){return y(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"format",value:function(S,T){S===w.blotName&&!T?this.replaceWith(l.default.create(this.statics.scope)):o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,S,T)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,T){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,T),this):(this.parent.unwrap(),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,S,T))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:o(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,S)}}]),k}(f.default);m.blotName="list-item",m.tagName="LI";var w=function(g){v(k,g),s(k,null,[{key:"create",value:function(S){var T=S==="ordered"?"OL":"UL",C=o(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,T);return(S==="checked"||S==="unchecked")&&C.setAttribute("data-checked",S==="checked"),C}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(D){y(this,k);var S=b(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,D)),T=function(I){if(I.target.parentNode===D){var _=S.statics.formats(D),R=l.default.find(I.target);_==="checked"?R.format("list","unchecked"):_==="unchecked"&&R.format("list","checked")}};return D.addEventListener("touchstart",T),D.addEventListener("mousedown",T),S}return s(k,[{key:"format",value:function(S,T){this.children.length>0&&this.children.tail.format(S,T)}},{key:"formats",value:function(){return E({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,T){if(S instanceof m)o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,S,T);else{var C=T==null?this.length():T.offset(this),I=this.split(C);I.parent.insertBefore(S,I)}}},{key:"optimize",value:function(S){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,S);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&T.domNode.tagName===this.domNode.tagName&&T.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(T.moveChildren(this),T.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var T=l.default.create(this.statics.defaultChild);S.moveChildren(T),this.appendChild(T)}o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,S)}}]),k}(d.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[m],r.ListItem=m,r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function E(y,b){for(var v=0;v<b.length;v++){var m=b[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,b,v){return b&&E(y.prototype,b),v&&E(y,v),y}}(),o=function E(y,b,v){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,b);if(m===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:E(w,b,v)}else{if("value"in m)return m.value;var g=m.get;return g===void 0?void 0:g.call(v)}},a=i(6),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function f(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function h(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function d(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var p=function(E){d(y,E);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),y}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(v,m){for(var w=0;w<m.length;w++){var g=m[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,m,w){return m&&b(v.prototype,m),w&&b(v,w),v}}(),o=function b(v,m,w){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,m);if(g===void 0){var k=Object.getPrototypeOf(v);return k===null?void 0:b(k,m,w)}else{if("value"in g)return g.value;var D=g.get;return D===void 0?void 0:D.call(w)}},a=i(0),l=f(a),c=i(27);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function d(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function p(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var E=["alt","height","width"],y=function(b){p(v,b);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(w,g){E.indexOf(w)>-1?g?this.domNode.setAttribute(w,g):this.domNode.removeAttribute(w):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,g)}}],[{key:"create",value:function(w){var g=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return typeof w=="string"&&g.setAttribute("src",this.sanitize(w)),g}},{key:"formats",value:function(w){return E.reduce(function(g,k){return w.hasAttribute(k)&&(g[k]=w.getAttribute(k)),g},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,c.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),v}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(v,m){for(var w=0;w<m.length;w++){var g=m[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,m,w){return m&&b(v.prototype,m),w&&b(v,w),v}}(),o=function b(v,m,w){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,m);if(g===void 0){var k=Object.getPrototypeOf(v);return k===null?void 0:b(k,m,w)}else{if("value"in g)return g.value;var D=g.get;return D===void 0?void 0:D.call(w)}},a=i(4),l=i(27),c=f(l);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function d(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function p(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var E=["height","width"],y=function(b){p(v,b);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(w,g){E.indexOf(w)>-1?g?this.domNode.setAttribute(w,g):this.domNode.removeAttribute(w):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,g)}}],[{key:"create",value:function(w){var g=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(w)),g}},{key:"formats",value:function(w){return E.reduce(function(g,k){return w.hasAttribute(k)&&(g[k]=w.getAttribute(k)),g},{})}},{key:"sanitize",value:function(w){return c.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),v}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function w(g,k){for(var D=0;D<k.length;D++){var S=k[D];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,k,D){return k&&w(g.prototype,k),D&&w(g,D),g}}(),o=function w(g,k,D){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,k);if(S===void 0){var T=Object.getPrototypeOf(g);return T===null?void 0:w(T,k,D)}else{if("value"in S)return S.value;var C=S.get;return C===void 0?void 0:C.call(D)}},a=i(35),l=p(a),c=i(5),f=p(c),h=i(9),d=p(h);function p(w){return w&&w.__esModule?w:{default:w}}function E(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function y(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function b(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var v=function(w){b(g,w);function g(){return E(this,g),y(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(D){var S=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,D);return typeof D=="string"&&(window.katex.render(D,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",D)),S}},{key:"value",value:function(D){return D.getAttribute("data-value")}}]),g}(l.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var m=function(w){b(g,w),s(g,null,[{key:"register",value:function(){f.default.register(v,!0)}}]);function g(){E(this,g);var k=y(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return g}(d.default);r.FormulaBlot=v,r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function D(S,T){for(var C=0;C<T.length;C++){var I=T[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}}return function(S,T,C){return T&&D(S.prototype,T),C&&D(S,C),S}}(),o=function D(S,T,C){S===null&&(S=Function.prototype);var I=Object.getOwnPropertyDescriptor(S,T);if(I===void 0){var _=Object.getPrototypeOf(S);return _===null?void 0:D(_,T,C)}else{if("value"in I)return I.value;var R=I.get;return R===void 0?void 0:R.call(C)}},a=i(0),l=y(a),c=i(5),f=y(c),h=i(9),d=y(h),p=i(13),E=y(p);function y(D){return D&&D.__esModule?D:{default:D}}function b(D,S){if(!(D instanceof S))throw new TypeError("Cannot call a class as a function")}function v(D,S){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:D}function m(D,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);D.prototype=Object.create(S&&S.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(D,S):D.__proto__=S)}var w=function(D){m(S,D);function S(){return b(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var I=this.domNode.textContent;this.cachedText!==I&&((I.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=C(I),this.domNode.normalize(),this.attach()),this.cachedText=I)}}]),S}(E.default);w.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),k=function(D){m(S,D),s(S,null,[{key:"register",value:function(){f.default.register(g,!0),f.default.register(w,!0)}}]);function S(T,C){b(this,S);var I=v(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,T,C));if(typeof I.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var _=null;return I.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(_),_=setTimeout(function(){I.highlight(),_=null},I.options.interval)}),I.highlight(),I}return s(S,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var I=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(_){_.highlight(C.options.highlight)}),this.quill.update(f.default.sources.SILENT),I!=null&&this.quill.setSelection(I,f.default.sources.SILENT)}}}]),S}(d.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(D){var S=window.hljs.highlightAuto(D);return S.value}}(),interval:1e3},r.CodeBlock=w,r.CodeToken=g,r.default=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function S(T,C,I){T===null&&(T=Function.prototype);var _=Object.getOwnPropertyDescriptor(T,C);if(_===void 0){var R=Object.getPrototypeOf(T);return R===null?void 0:S(R,C,I)}else{if("value"in _)return _.value;var O=_.get;return O===void 0?void 0:O.call(I)}},o=function(){function S(T,C){for(var I=0;I<C.length;I++){var _=C[I];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(T,_.key,_)}}return function(T,C,I){return C&&S(T.prototype,C),I&&S(T,I),T}}(),a=i(3),l=b(a),c=i(8),f=b(c),h=i(43),d=b(h),p=i(15),E=i(41),y=b(E);function b(S){return S&&S.__esModule?S:{default:S}}function v(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function m(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function w(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(S){w(T,S);function T(C,I){v(this,T),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=g);var _=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,C,I));return _.quill.container.classList.add("ql-bubble"),_}return o(T,[{key:"extendToolbar",value:function(I){this.tooltip=new D(this.quill,this.options.bounds),this.tooltip.root.appendChild(I.container),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),y.default)}}]),T}(d.default);k.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){T?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var D=function(S){w(T,S);function T(C,I){v(this,T);var _=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,C,I));return _.quill.on(f.default.events.EDITOR_CHANGE,function(R,O,U,z){if(R===f.default.events.SELECTION_CHANGE)if(O!=null&&O.length>0&&z===f.default.sources.USER){_.show(),_.root.style.left="0px",_.root.style.width="",_.root.style.width=_.root.offsetWidth+"px";var J=_.quill.getLines(O.index,O.length);if(J.length===1)_.position(_.quill.getBounds(O));else{var Y=J[J.length-1],ue=_.quill.getIndex(Y),ee=Math.min(Y.length()-1,O.index+O.length-ue),$=_.quill.getBounds(new p.Range(ue,ee));_.position($)}}else document.activeElement!==_.textbox&&_.quill.hasFocus()&&_.hide()}),_}return o(T,[{key:"listen",value:function(){var I=this;s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){I.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!I.root.classList.contains("ql-hidden")){var _=I.quill.getSelection();_!=null&&I.position(I.quill.getBounds(_))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(I){var _=s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"position",this).call(this,I),R=this.root.querySelector(".ql-tooltip-arrow");if(R.style.marginLeft="",_===0)return _;R.style.marginLeft=-1*_-R.offsetWidth/2+"px"}}]),T}(h.BaseTooltip);D.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=D,r.default=k},function(n,r,i){n.exports=i(63)}]).default})})(n_);var RO=n_.exports;const Zu=t_(RO);var nr=-1,$n=1,un=0;function da(t,e,n,r){if(t===e)return t?[[un,t]]:[];if(n!=null){var i=NO(t,e,n);if(i)return i}var s=fh(t,e),o=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=hh(t,e);var a=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var l=OO(t,e);return o&&l.unshift([un,o]),a&&l.push([un,a]),r_(l,r),l}function OO(t,e){var n;if(!t)return[[$n,e]];if(!e)return[[nr,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,s=r.indexOf(i);if(s!==-1)return n=[[$n,r.substring(0,s)],[un,i],[$n,r.substring(s+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=nr),n;if(i.length===1)return[[nr,t],[$n,e]];var o=kO(t,e);if(o){var a=o[0],l=o[1],c=o[2],f=o[3],h=o[4],d=da(a,c),p=da(l,f);return d.concat([[un,h]],p)}return PO(t,e)}function PO(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),s=i,o=2*i,a=new Array(o),l=new Array(o),c=0;c<o;c++)a[c]=-1,l[c]=-1;a[s+1]=0,l[s+1]=0;for(var f=n-r,h=f%2!==0,d=0,p=0,E=0,y=0,b=0;b<i;b++){for(var v=-b+d;v<=b-p;v+=2){var m=s+v,w;v===-b||v!==b&&a[m-1]<a[m+1]?w=a[m+1]:w=a[m-1]+1;for(var g=w-v;w<n&&g<r&&t.charAt(w)===e.charAt(g);)w++,g++;if(a[m]=w,w>n)p+=2;else if(g>r)d+=2;else if(h){var k=s+f-v;if(k>=0&&k<o&&l[k]!==-1){var D=n-l[k];if(w>=D)return kp(t,e,w,g)}}}for(var S=-b+E;S<=b-y;S+=2){var k=s+S,D;S===-b||S!==b&&l[k-1]<l[k+1]?D=l[k+1]:D=l[k-1]+1;for(var T=D-S;D<n&&T<r&&t.charAt(n-D-1)===e.charAt(r-T-1);)D++,T++;if(l[k]=D,D>n)y+=2;else if(T>r)E+=2;else if(!h){var m=s+f-S;if(m>=0&&m<o&&a[m]!==-1){var w=a[m],g=s+w-m;if(D=n-D,w>=D)return kp(t,e,w,g)}}}}return[[nr,t],[$n,e]]}function kp(t,e,n,r){var i=t.substring(0,n),s=e.substring(0,r),o=t.substring(n),a=e.substring(r),l=da(i,s),c=da(o,a);return l.concat(c)}function fh(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(s,i)==e.substring(s,i)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return i_(t.charCodeAt(i-1))&&i--,i}function hh(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return s_(t.charCodeAt(t.length-i))&&i--,i}function kO(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(p,E,y){for(var b=p.substring(y,y+Math.floor(p.length/4)),v=-1,m="",w,g,k,D;(v=E.indexOf(b,v+1))!==-1;){var S=fh(p.substring(y),E.substring(v)),T=hh(p.substring(0,y),E.substring(0,v));m.length<T+S&&(m=E.substring(v-T,v)+E.substring(v,v+S),w=p.substring(0,y-T),g=p.substring(y+S),k=E.substring(0,v-T),D=E.substring(v+S))}return m.length*2>=p.length?[w,g,k,D,m]:null}var s=i(n,r,Math.ceil(n.length/4)),o=i(n,r,Math.ceil(n.length/2)),a;if(!s&&!o)return null;o?s?a=s[4].length>o[4].length?s:o:a=o:a=s;var l,c,f,h;t.length>e.length?(l=a[0],c=a[1],f=a[2],h=a[3]):(f=a[0],h=a[1],l=a[2],c=a[3]);var d=a[4];return[l,c,f,h,d]}function r_(t,e){t.push([un,""]);for(var n=0,r=0,i=0,s="",o="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case $n:i++,o+=t[n][1],n++;break;case nr:r++,s+=t[n][1],n++;break;case un:var l=n-i-r-1;if(e){if(l>=0&&a_(t[l][1])){var c=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),s=c+s,o=c+o,!t[l][1]){t.splice(l,1),n--;var f=l-1;t[f]&&t[f][0]===$n&&(i++,o=t[f][1]+o,f--),t[f]&&t[f][0]===nr&&(r++,s=t[f][1]+s,f--),l=f}}if(o_(t[n][1])){var c=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),s+=c,o+=c}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(s.length>0||o.length>0){s.length>0&&o.length>0&&(a=fh(o,s),a!==0&&(l>=0?t[l][1]+=o.substring(0,a):(t.splice(0,0,[un,o.substring(0,a)]),n++),o=o.substring(a),s=s.substring(a)),a=hh(o,s),a!==0&&(t[n][1]=o.substring(o.length-a)+t[n][1],o=o.substring(0,o.length-a),s=s.substring(0,s.length-a)));var h=i+r;s.length===0&&o.length===0?(t.splice(n-h,h),n=n-h):s.length===0?(t.splice(n-h,h,[$n,o]),n=n-h+1):o.length===0?(t.splice(n-h,h,[nr,s]),n=n-h+1):(t.splice(n-h,h,[nr,s],[$n,o]),n=n-h+2)}n!==0&&t[n-1][0]===un?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,s="",o="";break}}t[t.length-1][1]===""&&t.pop();var d=!1;for(n=1;n<t.length-1;)t[n-1][0]===un&&t[n+1][0]===un&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),d=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),d=!0)),n++;d&&r_(t,e)}function i_(t){return t>=55296&&t<=56319}function s_(t){return t>=56320&&t<=57343}function o_(t){return s_(t.charCodeAt(0))}function a_(t){return i_(t.charCodeAt(t.length-1))}function CO(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function ec(t,e,n,r){return a_(t)||o_(r)?null:CO([[un,t],[nr,e],[$n,n],[un,r]])}function NO(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,s=t.length,o=e.length;if(r.length===0&&(i===null||i.length===0)){var a=r.index,l=t.slice(0,a),c=t.slice(a),f=i?i.index:null;e:{var h=a+o-s;if(f!==null&&f!==h||h<0||h>o)break e;var d=e.slice(0,h),p=e.slice(h);if(p!==c)break e;var E=Math.min(a,h),y=l.slice(0,E),b=d.slice(0,E);if(y!==b)break e;var v=l.slice(E),m=d.slice(E);return ec(y,v,m,c)}e:{if(f!==null&&f!==a)break e;var w=a,d=e.slice(0,w),p=e.slice(w);if(d!==l)break e;var g=Math.min(s-w,o-w),k=c.slice(c.length-g),D=p.slice(p.length-g);if(k!==D)break e;var v=c.slice(0,c.length-g),m=p.slice(0,p.length-g);return ec(l,v,m,k)}}if(r.length>0&&i&&i.length===0)e:{var y=t.slice(0,r.index),k=t.slice(r.index+r.length),E=y.length,g=k.length;if(o<E+g)break e;var b=e.slice(0,E),D=e.slice(o-g);if(y!==b||k!==D)break e;var v=t.slice(E,s-g),m=e.slice(E,o-g);return ec(y,v,m,k)}return null}function yu(t,e,n){return da(t,e,n,!0)}yu.INSERT=$n;yu.DELETE=nr;yu.EQUAL=un;var DO=yu,Dl={exports:{}};Dl.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",h="[object GeneratorFunction]",d="[object Map]",p="[object Number]",E="[object Object]",y="[object Promise]",b="[object RegExp]",v="[object Set]",m="[object String]",w="[object Symbol]",g="[object WeakMap]",k="[object ArrayBuffer]",D="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",C="[object Int8Array]",I="[object Int16Array]",_="[object Int32Array]",R="[object Uint8Array]",O="[object Uint8ClampedArray]",U="[object Uint16Array]",z="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,Y=/\w*$/,ue=/^\[object .+?Constructor\]$/,ee=/^(?:0|[1-9]\d*)$/,$={};$[s]=$[o]=$[k]=$[D]=$[a]=$[l]=$[S]=$[T]=$[C]=$[I]=$[_]=$[d]=$[p]=$[E]=$[b]=$[v]=$[m]=$[w]=$[R]=$[O]=$[U]=$[z]=!0,$[c]=$[f]=$[g]=!1;var x=typeof Ut=="object"&&Ut&&Ut.Object===Object&&Ut,q=typeof self=="object"&&self&&self.Object===Object&&self,H=x||q||Function("return this")(),re=e&&!e.nodeType&&e,X=re&&!0&&t&&!t.nodeType&&t,j=X&&X.exports===re;function V(P,L){return P.set(L[0],L[1]),P}function W(P,L){return P.add(L),P}function Q(P,L){for(var K=-1,fe=P?P.length:0;++K<fe&&L(P[K],K,P)!==!1;);return P}function ie(P,L){for(var K=-1,fe=L.length,De=P.length;++K<fe;)P[De+K]=L[K];return P}function ge(P,L,K,fe){for(var De=-1,Ie=P?P.length:0;++De<Ie;)K=L(K,P[De],De,P);return K}function be(P,L){for(var K=-1,fe=Array(P);++K<P;)fe[K]=L(K);return fe}function F(P,L){return P==null?void 0:P[L]}function B(P){var L=!1;if(P!=null&&typeof P.toString!="function")try{L=!!(P+"")}catch{}return L}function ne(P){var L=-1,K=Array(P.size);return P.forEach(function(fe,De){K[++L]=[De,fe]}),K}function de(P,L){return function(K){return P(L(K))}}function le(P){var L=-1,K=Array(P.size);return P.forEach(function(fe){K[++L]=fe}),K}var G=Array.prototype,te=Function.prototype,se=Object.prototype,ae=H["__core-js_shared__"],Z=function(){var P=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}(),ye=te.toString,he=se.hasOwnProperty,me=se.toString,Ee=RegExp("^"+ye.call(he).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=j?H.Buffer:void 0,Ae=H.Symbol,Ve=H.Uint8Array,Oe=de(Object.getPrototypeOf,Object),ze=Object.create,ut=se.propertyIsEnumerable,mt=G.splice,nn=Object.getOwnPropertySymbols,dn=Te?Te.isBuffer:void 0,vt=de(Object.keys,Object),bt=Ct(H,"DataView"),rn=Ct(H,"Map"),sn=Ct(H,"Promise"),dr=Ct(H,"Set"),Vn=Ct(H,"WeakMap"),Fn=Ct(Object,"create"),pr=St(bt),Qt=St(rn),Fr=St(sn),Yn=St(dr),Ur=St(Vn),on=Ae?Ae.prototype:void 0,wi=on?on.valueOf:void 0;function nt(P){var L=-1,K=P?P.length:0;for(this.clear();++L<K;){var fe=P[L];this.set(fe[0],fe[1])}}function cs(){this.__data__=Fn?Fn(null):{}}function gr(P){return this.has(P)&&delete this.__data__[P]}function mr(P){var L=this.__data__;if(Fn){var K=L[P];return K===r?void 0:K}return he.call(L,P)?L[P]:void 0}function fs(P){var L=this.__data__;return Fn?L[P]!==void 0:he.call(L,P)}function Ai(P,L){var K=this.__data__;return K[P]=Fn&&L===void 0?r:L,this}nt.prototype.clear=cs,nt.prototype.delete=gr,nt.prototype.get=mr,nt.prototype.has=fs,nt.prototype.set=Ai;function it(P){var L=-1,K=P?P.length:0;for(this.clear();++L<K;){var fe=P[L];this.set(fe[0],fe[1])}}function po(){this.__data__=[]}function go(P){var L=this.__data__,K=Xn(L,P);if(K<0)return!1;var fe=L.length-1;return K==fe?L.pop():mt.call(L,K,1),!0}function jr(P){var L=this.__data__,K=Xn(L,P);return K<0?void 0:L[K][1]}function hs(P){return Xn(this.__data__,P)>-1}function Ii(P,L){var K=this.__data__,fe=Xn(K,P);return fe<0?K.push([P,L]):K[fe][1]=L,this}it.prototype.clear=po,it.prototype.delete=go,it.prototype.get=jr,it.prototype.has=hs,it.prototype.set=Ii;function ht(P){var L=-1,K=P?P.length:0;for(this.clear();++L<K;){var fe=P[L];this.set(fe[0],fe[1])}}function wn(){this.__data__={hash:new nt,map:new(rn||it),string:new nt}}function ds(P){return Rn(this,P).delete(P)}function ps(P){return Rn(this,P).get(P)}function Si(P){return Rn(this,P).has(P)}function Ri(P,L){return Rn(this,P).set(P,L),this}ht.prototype.clear=wn,ht.prototype.delete=ds,ht.prototype.get=ps,ht.prototype.has=Si,ht.prototype.set=Ri;function kt(P){this.__data__=new it(P)}function gs(){this.__data__=new it}function mo(P){return this.__data__.delete(P)}function qr(P){return this.__data__.get(P)}function ms(P){return this.__data__.has(P)}function Oi(P,L){var K=this.__data__;if(K instanceof it){var fe=K.__data__;if(!rn||fe.length<n-1)return fe.push([P,L]),this;K=this.__data__=new ht(fe)}return K.set(P,L),this}kt.prototype.clear=gs,kt.prototype.delete=mo,kt.prototype.get=qr,kt.prototype.has=ms,kt.prototype.set=Oi;function An(P,L){var K=Mi(P)||mn(P)?be(P.length,String):[],fe=K.length,De=!!fe;for(var Ie in P)he.call(P,Ie)&&!(De&&(Ie=="length"||_o(Ie,fe)))&&K.push(Ie);return K}function In(P,L,K){var fe=P[L];(!(he.call(P,L)&&Li(fe,K))||K===void 0&&!(L in P))&&(P[L]=K)}function Xn(P,L){for(var K=P.length;K--;)if(Li(P[K][0],L))return K;return-1}function Sn(P,L){return P&&Jn(L,zr(L),P)}function Br(P,L,K,fe,De,Ie,qe){var Fe;if(fe&&(Fe=Ie?fe(P,De,Ie,qe):fe(P)),Fe!==void 0)return Fe;if(!Xt(P))return P;var rt=Mi(P);if(rt){if(Fe=Es(P),!L)return $r(P,Fe)}else{var He=jn(P),et=He==f||He==h;if(vn(P))return vr(P,L);if(He==E||He==s||et&&!Ie){if(B(P))return Ie?P:{};if(Fe=On(et?{}:P),!L)return bs(P,Sn(Fe,P))}else{if(!$[He])return Ie?P:{};Fe=yo(P,He,Br,L)}}qe||(qe=new kt);var Nt=qe.get(P);if(Nt)return Nt;if(qe.set(P,Fe),!rt)var dt=K?Ye(P):zr(P);return Q(dt||P,function(ct,yt){dt&&(yt=ct,ct=P[yt]),In(Fe,yt,Br(ct,L,K,fe,yt,P,qe))}),Fe}function vs(P){return Xt(P)?ze(P):{}}function ys(P,L,K){var fe=L(P);return Mi(P)?fe:ie(fe,K(P))}function Pi(P){return me.call(P)}function ki(P){if(!Xt(P)||_r(P))return!1;var L=Vi(P)||B(P)?Ee:ue;return L.test(St(P))}function _s(P){if(!gn(P))return vt(P);var L=[];for(var K in Object(P))he.call(P,K)&&K!="constructor"&&L.push(K);return L}function vr(P,L){if(L)return P.slice();var K=new P.constructor(P.length);return P.copy(K),K}function Ci(P){var L=new P.constructor(P.byteLength);return new Ve(L).set(new Ve(P)),L}function yr(P,L){var K=L?Ci(P.buffer):P.buffer;return new P.constructor(K,P.byteOffset,P.byteLength)}function Ni(P,L,K){var fe=L?K(ne(P),!0):ne(P);return ge(fe,V,new P.constructor)}function Di(P){var L=new P.constructor(P.source,Y.exec(P));return L.lastIndex=P.lastIndex,L}function vo(P,L,K){var fe=L?K(le(P),!0):le(P);return ge(fe,W,new P.constructor)}function Un(P){return wi?Object(wi.call(P)):{}}function pn(P,L){var K=L?Ci(P.buffer):P.buffer;return new P.constructor(K,P.byteOffset,P.length)}function $r(P,L){var K=-1,fe=P.length;for(L||(L=Array(fe));++K<fe;)L[K]=P[K];return L}function Jn(P,L,K,fe){K||(K={});for(var De=-1,Ie=L.length;++De<Ie;){var qe=L[De],Fe=void 0;In(K,qe,Fe===void 0?P[qe]:Fe)}return K}function bs(P,L){return Jn(P,Yt(P),L)}function Ye(P){return ys(P,zr,Yt)}function Rn(P,L){var K=P.__data__;return bo(L)?K[typeof L=="string"?"string":"hash"]:K.map}function Ct(P,L){var K=F(P,L);return ki(K)?K:void 0}var Yt=nn?de(nn,Object):Er,jn=Pi;(bt&&jn(new bt(new ArrayBuffer(1)))!=D||rn&&jn(new rn)!=d||sn&&jn(sn.resolve())!=y||dr&&jn(new dr)!=v||Vn&&jn(new Vn)!=g)&&(jn=function(P){var L=me.call(P),K=L==E?P.constructor:void 0,fe=K?St(K):void 0;if(fe)switch(fe){case pr:return D;case Qt:return d;case Fr:return y;case Yn:return v;case Ur:return g}return L});function Es(P){var L=P.length,K=P.constructor(L);return L&&typeof P[0]=="string"&&he.call(P,"index")&&(K.index=P.index,K.input=P.input),K}function On(P){return typeof P.constructor=="function"&&!gn(P)?vs(Oe(P)):{}}function yo(P,L,K,fe){var De=P.constructor;switch(L){case k:return Ci(P);case a:case l:return new De(+P);case D:return yr(P,fe);case S:case T:case C:case I:case _:case R:case O:case U:case z:return pn(P,fe);case d:return Ni(P,fe,K);case p:case m:return new De(P);case b:return Di(P);case v:return vo(P,fe,K);case w:return Un(P)}}function _o(P,L){return L=L??i,!!L&&(typeof P=="number"||ee.test(P))&&P>-1&&P%1==0&&P<L}function bo(P){var L=typeof P;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?P!=="__proto__":P===null}function _r(P){return!!Z&&Z in P}function gn(P){var L=P&&P.constructor,K=typeof L=="function"&&L.prototype||se;return P===K}function St(P){if(P!=null){try{return ye.call(P)}catch{}try{return P+""}catch{}}return""}function xi(P){return Br(P,!0,!0)}function Li(P,L){return P===L||P!==P&&L!==L}function mn(P){return Eo(P)&&he.call(P,"callee")&&(!ut.call(P,"callee")||me.call(P)==s)}var Mi=Array.isArray;function Hr(P){return P!=null&&Ts(P.length)&&!Vi(P)}function Eo(P){return br(P)&&Hr(P)}var vn=dn||Tr;function Vi(P){var L=Xt(P)?me.call(P):"";return L==f||L==h}function Ts(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=i}function Xt(P){var L=typeof P;return!!P&&(L=="object"||L=="function")}function br(P){return!!P&&typeof P=="object"}function zr(P){return Hr(P)?An(P):_s(P)}function Er(){return[]}function Tr(){return!1}t.exports=xi})(Dl,Dl.exports);var l_=Dl.exports,xl={exports:{}};xl.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Function]",E="[object GeneratorFunction]",y="[object Map]",b="[object Number]",v="[object Null]",m="[object Object]",w="[object Promise]",g="[object Proxy]",k="[object RegExp]",D="[object Set]",S="[object String]",T="[object Symbol]",C="[object Undefined]",I="[object WeakMap]",_="[object ArrayBuffer]",R="[object DataView]",O="[object Float32Array]",U="[object Float64Array]",z="[object Int8Array]",J="[object Int16Array]",Y="[object Int32Array]",ue="[object Uint8Array]",ee="[object Uint8ClampedArray]",$="[object Uint16Array]",x="[object Uint32Array]",q=/[\\^$.*+?()[\]{}|]/g,H=/^\[object .+?Constructor\]$/,re=/^(?:0|[1-9]\d*)$/,X={};X[O]=X[U]=X[z]=X[J]=X[Y]=X[ue]=X[ee]=X[$]=X[x]=!0,X[a]=X[l]=X[_]=X[f]=X[R]=X[h]=X[d]=X[p]=X[y]=X[b]=X[m]=X[k]=X[D]=X[S]=X[I]=!1;var j=typeof Ut=="object"&&Ut&&Ut.Object===Object&&Ut,V=typeof self=="object"&&self&&self.Object===Object&&self,W=j||V||Function("return this")(),Q=e&&!e.nodeType&&e,ie=Q&&!0&&t&&!t.nodeType&&t,ge=ie&&ie.exports===Q,be=ge&&j.process,F=function(){try{return be&&be.binding&&be.binding("util")}catch{}}(),B=F&&F.isTypedArray;function ne(P,L){for(var K=-1,fe=P==null?0:P.length,De=0,Ie=[];++K<fe;){var qe=P[K];L(qe,K,P)&&(Ie[De++]=qe)}return Ie}function de(P,L){for(var K=-1,fe=L.length,De=P.length;++K<fe;)P[De+K]=L[K];return P}function le(P,L){for(var K=-1,fe=P==null?0:P.length;++K<fe;)if(L(P[K],K,P))return!0;return!1}function G(P,L){for(var K=-1,fe=Array(P);++K<P;)fe[K]=L(K);return fe}function te(P){return function(L){return P(L)}}function se(P,L){return P.has(L)}function ae(P,L){return P==null?void 0:P[L]}function Z(P){var L=-1,K=Array(P.size);return P.forEach(function(fe,De){K[++L]=[De,fe]}),K}function ye(P,L){return function(K){return P(L(K))}}function he(P){var L=-1,K=Array(P.size);return P.forEach(function(fe){K[++L]=fe}),K}var me=Array.prototype,Ee=Function.prototype,Te=Object.prototype,Ae=W["__core-js_shared__"],Ve=Ee.toString,Oe=Te.hasOwnProperty,ze=function(){var P=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}(),ut=Te.toString,mt=RegExp("^"+Ve.call(Oe).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nn=ge?W.Buffer:void 0,dn=W.Symbol,vt=W.Uint8Array,bt=Te.propertyIsEnumerable,rn=me.splice,sn=dn?dn.toStringTag:void 0,dr=Object.getOwnPropertySymbols,Vn=nn?nn.isBuffer:void 0,Fn=ye(Object.keys,Object),pr=Yt(W,"DataView"),Qt=Yt(W,"Map"),Fr=Yt(W,"Promise"),Yn=Yt(W,"Set"),Ur=Yt(W,"WeakMap"),on=Yt(Object,"create"),wi=St(pr),nt=St(Qt),cs=St(Fr),gr=St(Yn),mr=St(Ur),fs=dn?dn.prototype:void 0,Ai=fs?fs.valueOf:void 0;function it(P){var L=-1,K=P==null?0:P.length;for(this.clear();++L<K;){var fe=P[L];this.set(fe[0],fe[1])}}function po(){this.__data__=on?on(null):{},this.size=0}function go(P){var L=this.has(P)&&delete this.__data__[P];return this.size-=L?1:0,L}function jr(P){var L=this.__data__;if(on){var K=L[P];return K===r?void 0:K}return Oe.call(L,P)?L[P]:void 0}function hs(P){var L=this.__data__;return on?L[P]!==void 0:Oe.call(L,P)}function Ii(P,L){var K=this.__data__;return this.size+=this.has(P)?0:1,K[P]=on&&L===void 0?r:L,this}it.prototype.clear=po,it.prototype.delete=go,it.prototype.get=jr,it.prototype.has=hs,it.prototype.set=Ii;function ht(P){var L=-1,K=P==null?0:P.length;for(this.clear();++L<K;){var fe=P[L];this.set(fe[0],fe[1])}}function wn(){this.__data__=[],this.size=0}function ds(P){var L=this.__data__,K=vr(L,P);if(K<0)return!1;var fe=L.length-1;return K==fe?L.pop():rn.call(L,K,1),--this.size,!0}function ps(P){var L=this.__data__,K=vr(L,P);return K<0?void 0:L[K][1]}function Si(P){return vr(this.__data__,P)>-1}function Ri(P,L){var K=this.__data__,fe=vr(K,P);return fe<0?(++this.size,K.push([P,L])):K[fe][1]=L,this}ht.prototype.clear=wn,ht.prototype.delete=ds,ht.prototype.get=ps,ht.prototype.has=Si,ht.prototype.set=Ri;function kt(P){var L=-1,K=P==null?0:P.length;for(this.clear();++L<K;){var fe=P[L];this.set(fe[0],fe[1])}}function gs(){this.size=0,this.__data__={hash:new it,map:new(Qt||ht),string:new it}}function mo(P){var L=Ct(this,P).delete(P);return this.size-=L?1:0,L}function qr(P){return Ct(this,P).get(P)}function ms(P){return Ct(this,P).has(P)}function Oi(P,L){var K=Ct(this,P),fe=K.size;return K.set(P,L),this.size+=K.size==fe?0:1,this}kt.prototype.clear=gs,kt.prototype.delete=mo,kt.prototype.get=qr,kt.prototype.has=ms,kt.prototype.set=Oi;function An(P){var L=-1,K=P==null?0:P.length;for(this.__data__=new kt;++L<K;)this.add(P[L])}function In(P){return this.__data__.set(P,r),this}function Xn(P){return this.__data__.has(P)}An.prototype.add=An.prototype.push=In,An.prototype.has=Xn;function Sn(P){var L=this.__data__=new ht(P);this.size=L.size}function Br(){this.__data__=new ht,this.size=0}function vs(P){var L=this.__data__,K=L.delete(P);return this.size=L.size,K}function ys(P){return this.__data__.get(P)}function Pi(P){return this.__data__.has(P)}function ki(P,L){var K=this.__data__;if(K instanceof ht){var fe=K.__data__;if(!Qt||fe.length<n-1)return fe.push([P,L]),this.size=++K.size,this;K=this.__data__=new kt(fe)}return K.set(P,L),this.size=K.size,this}Sn.prototype.clear=Br,Sn.prototype.delete=vs,Sn.prototype.get=ys,Sn.prototype.has=Pi,Sn.prototype.set=ki;function _s(P,L){var K=mn(P),fe=!K&&Li(P),De=!K&&!fe&&Hr(P),Ie=!K&&!fe&&!De&&br(P),qe=K||fe||De||Ie,Fe=qe?G(P.length,String):[],rt=Fe.length;for(var He in P)Oe.call(P,He)&&!(qe&&(He=="length"||De&&(He=="offset"||He=="parent")||Ie&&(He=="buffer"||He=="byteLength"||He=="byteOffset")||yo(He,rt)))&&Fe.push(He);return Fe}function vr(P,L){for(var K=P.length;K--;)if(xi(P[K][0],L))return K;return-1}function Ci(P,L,K){var fe=L(P);return mn(P)?fe:de(fe,K(P))}function yr(P){return P==null?P===void 0?C:v:sn&&sn in Object(P)?jn(P):gn(P)}function Ni(P){return Xt(P)&&yr(P)==a}function Di(P,L,K,fe,De){return P===L?!0:P==null||L==null||!Xt(P)&&!Xt(L)?P!==P&&L!==L:vo(P,L,K,fe,Di,De)}function vo(P,L,K,fe,De,Ie){var qe=mn(P),Fe=mn(L),rt=qe?l:On(P),He=Fe?l:On(L);rt=rt==a?m:rt,He=He==a?m:He;var et=rt==m,Nt=He==m,dt=rt==He;if(dt&&Hr(P)){if(!Hr(L))return!1;qe=!0,et=!1}if(dt&&!et)return Ie||(Ie=new Sn),qe||br(P)?Jn(P,L,K,fe,De,Ie):bs(P,L,rt,K,fe,De,Ie);if(!(K&i)){var ct=et&&Oe.call(P,"__wrapped__"),yt=Nt&&Oe.call(L,"__wrapped__");if(ct||yt){var Pn=ct?P.value():P,an=yt?L.value():L;return Ie||(Ie=new Sn),De(Pn,an,K,fe,Ie)}}return dt?(Ie||(Ie=new Sn),Ye(P,L,K,fe,De,Ie)):!1}function Un(P){if(!Ts(P)||bo(P))return!1;var L=vn(P)?mt:H;return L.test(St(P))}function pn(P){return Xt(P)&&Vi(P.length)&&!!X[yr(P)]}function $r(P){if(!_r(P))return Fn(P);var L=[];for(var K in Object(P))Oe.call(P,K)&&K!="constructor"&&L.push(K);return L}function Jn(P,L,K,fe,De,Ie){var qe=K&i,Fe=P.length,rt=L.length;if(Fe!=rt&&!(qe&&rt>Fe))return!1;var He=Ie.get(P);if(He&&Ie.get(L))return He==L;var et=-1,Nt=!0,dt=K&s?new An:void 0;for(Ie.set(P,L),Ie.set(L,P);++et<Fe;){var ct=P[et],yt=L[et];if(fe)var Pn=qe?fe(yt,ct,et,L,P,Ie):fe(ct,yt,et,P,L,Ie);if(Pn!==void 0){if(Pn)continue;Nt=!1;break}if(dt){if(!le(L,function(an,Zn){if(!se(dt,Zn)&&(ct===an||De(ct,an,K,fe,Ie)))return dt.push(Zn)})){Nt=!1;break}}else if(!(ct===yt||De(ct,yt,K,fe,Ie))){Nt=!1;break}}return Ie.delete(P),Ie.delete(L),Nt}function bs(P,L,K,fe,De,Ie,qe){switch(K){case R:if(P.byteLength!=L.byteLength||P.byteOffset!=L.byteOffset)return!1;P=P.buffer,L=L.buffer;case _:return!(P.byteLength!=L.byteLength||!Ie(new vt(P),new vt(L)));case f:case h:case b:return xi(+P,+L);case d:return P.name==L.name&&P.message==L.message;case k:case S:return P==L+"";case y:var Fe=Z;case D:var rt=fe&i;if(Fe||(Fe=he),P.size!=L.size&&!rt)return!1;var He=qe.get(P);if(He)return He==L;fe|=s,qe.set(P,L);var et=Jn(Fe(P),Fe(L),fe,De,Ie,qe);return qe.delete(P),et;case T:if(Ai)return Ai.call(P)==Ai.call(L)}return!1}function Ye(P,L,K,fe,De,Ie){var qe=K&i,Fe=Rn(P),rt=Fe.length,He=Rn(L),et=He.length;if(rt!=et&&!qe)return!1;for(var Nt=rt;Nt--;){var dt=Fe[Nt];if(!(qe?dt in L:Oe.call(L,dt)))return!1}var ct=Ie.get(P);if(ct&&Ie.get(L))return ct==L;var yt=!0;Ie.set(P,L),Ie.set(L,P);for(var Pn=qe;++Nt<rt;){dt=Fe[Nt];var an=P[dt],Zn=L[dt];if(fe)var Fi=qe?fe(Zn,an,dt,L,P,Ie):fe(an,Zn,dt,P,L,Ie);if(!(Fi===void 0?an===Zn||De(an,Zn,K,fe,Ie):Fi)){yt=!1;break}Pn||(Pn=dt=="constructor")}if(yt&&!Pn){var ws=P.constructor,Ui=L.constructor;ws!=Ui&&"constructor"in P&&"constructor"in L&&!(typeof ws=="function"&&ws instanceof ws&&typeof Ui=="function"&&Ui instanceof Ui)&&(yt=!1)}return Ie.delete(P),Ie.delete(L),yt}function Rn(P){return Ci(P,zr,Es)}function Ct(P,L){var K=P.__data__;return _o(L)?K[typeof L=="string"?"string":"hash"]:K.map}function Yt(P,L){var K=ae(P,L);return Un(K)?K:void 0}function jn(P){var L=Oe.call(P,sn),K=P[sn];try{P[sn]=void 0;var fe=!0}catch{}var De=ut.call(P);return fe&&(L?P[sn]=K:delete P[sn]),De}var Es=dr?function(P){return P==null?[]:(P=Object(P),ne(dr(P),function(L){return bt.call(P,L)}))}:Er,On=yr;(pr&&On(new pr(new ArrayBuffer(1)))!=R||Qt&&On(new Qt)!=y||Fr&&On(Fr.resolve())!=w||Yn&&On(new Yn)!=D||Ur&&On(new Ur)!=I)&&(On=function(P){var L=yr(P),K=L==m?P.constructor:void 0,fe=K?St(K):"";if(fe)switch(fe){case wi:return R;case nt:return y;case cs:return w;case gr:return D;case mr:return I}return L});function yo(P,L){return L=L??o,!!L&&(typeof P=="number"||re.test(P))&&P>-1&&P%1==0&&P<L}function _o(P){var L=typeof P;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?P!=="__proto__":P===null}function bo(P){return!!ze&&ze in P}function _r(P){var L=P&&P.constructor,K=typeof L=="function"&&L.prototype||Te;return P===K}function gn(P){return ut.call(P)}function St(P){if(P!=null){try{return Ve.call(P)}catch{}try{return P+""}catch{}}return""}function xi(P,L){return P===L||P!==P&&L!==L}var Li=Ni(function(){return arguments}())?Ni:function(P){return Xt(P)&&Oe.call(P,"callee")&&!bt.call(P,"callee")},mn=Array.isArray;function Mi(P){return P!=null&&Vi(P.length)&&!vn(P)}var Hr=Vn||Tr;function Eo(P,L){return Di(P,L)}function vn(P){if(!Ts(P))return!1;var L=yr(P);return L==p||L==E||L==c||L==g}function Vi(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=o}function Ts(P){var L=typeof P;return P!=null&&(L=="object"||L=="function")}function Xt(P){return P!=null&&typeof P=="object"}var br=B?te(B):pn;function zr(P){return Mi(P)?_s(P):$r(P)}function Er(){return[]}function Tr(){return!1}t.exports=Eo})(xl,xl.exports);var u_=xl.exports,dh={},c_=Ut&&Ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dh,"__esModule",{value:!0});var xO=c_(l_),LO=c_(u_),Hc;(function(t){function e(s,o,a){s===void 0&&(s={}),o===void 0&&(o={}),typeof s!="object"&&(s={}),typeof o!="object"&&(o={});var l=xO.default(o);a||(l=Object.keys(l).reduce(function(f,h){return l[h]!=null&&(f[h]=l[h]),f},{}));for(var c in s)s[c]!==void 0&&o[c]===void 0&&(l[c]=s[c]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(s,o){s===void 0&&(s={}),o===void 0&&(o={}),typeof s!="object"&&(s={}),typeof o!="object"&&(o={});var a=Object.keys(s).concat(Object.keys(o)).reduce(function(l,c){return LO.default(s[c],o[c])||(l[c]=o[c]===void 0?null:o[c]),l},{});return Object.keys(a).length>0?a:void 0}t.diff=n;function r(s,o){s===void 0&&(s={}),o===void 0&&(o={}),s=s||{};var a=Object.keys(o).reduce(function(l,c){return o[c]!==s[c]&&s[c]!==void 0&&(l[c]=o[c]),l},{});return Object.keys(s).reduce(function(l,c){return s[c]!==o[c]&&o[c]===void 0&&(l[c]=null),l},a)}t.invert=r;function i(s,o,a){if(a===void 0&&(a=!1),typeof s!="object")return o;if(typeof o=="object"){if(!a)return o;var l=Object.keys(o).reduce(function(c,f){return s[f]===void 0&&(c[f]=o[f]),c},{});return Object.keys(l).length>0?l:void 0}}t.transform=i})(Hc||(Hc={}));dh.default=Hc;var Ba={},$a={},Cp;function MO(){if(Cp)return $a;Cp=1;var t=Ut&&Ut.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($a,"__esModule",{value:!0});var e=t(f_()),n=function(){function r(i){this.ops=i,this.index=0,this.offset=0}return r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var s=this.ops[this.index];if(s){var o=this.offset,a=e.default.length(s);if(i>=a-o?(i=a-o,this.index+=1,this.offset=0):this.offset+=i,typeof s.delete=="number")return{delete:i};var l={};return s.attributes&&(l.attributes=s.attributes),typeof s.retain=="number"?l.retain=i:typeof s.insert=="string"?l.insert=s.insert.substr(o,i):l.insert=s.insert,l}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,s=this.index,o=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=s,[o].concat(a)}else return[]},r}();return $a.default=n,$a}var Np;function f_(){if(Np)return Ba;Np=1;var t=Ut&&Ut.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ba,"__esModule",{value:!0});var e=t(MO()),n;return function(r){function i(o){return new e.default(o)}r.iterator=i;function s(o){return typeof o.delete=="number"?o.delete:typeof o.retain=="number"?o.retain:typeof o.insert=="string"?o.insert.length:1}r.length=s}(n||(n={})),Ba.default=n,Ba}var Oa=Ut&&Ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ha=Oa(DO),VO=Oa(l_),tc=Oa(u_),Io=Oa(dh),xt=Oa(f_()),FO="\0",UO=function(){function t(e){Array.isArray(e)?this.ops=e:e!=null&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return t.prototype.insert=function(e,n){var r={};return typeof e=="string"&&e.length===0?this:(r.insert=e,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r))},t.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},t.prototype.retain=function(e,n){if(e<=0)return this;var r={retain:e};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r)},t.prototype.push=function(e){var n=this.ops.length,r=this.ops[n-1];if(e=VO.default(e),typeof r=="object"){if(typeof e.delete=="number"&&typeof r.delete=="number")return this.ops[n-1]={delete:r.delete+e.delete},this;if(typeof r.delete=="number"&&e.insert!=null&&(n-=1,r=this.ops[n-1],typeof r!="object"))return this.ops.unshift(e),this;if(tc.default(e.attributes,r.attributes)){if(typeof e.insert=="string"&&typeof r.insert=="string")return this.ops[n-1]={insert:r.insert+e.insert},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this;if(typeof e.retain=="number"&&typeof r.retain=="number")return this.ops[n-1]={retain:r.retain+e.retain},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this}}return n===this.ops.length?this.ops.push(e):this.ops.splice(n,0,e),this},t.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},t.prototype.filter=function(e){return this.ops.filter(e)},t.prototype.forEach=function(e){this.ops.forEach(e)},t.prototype.map=function(e){return this.ops.map(e)},t.prototype.partition=function(e){var n=[],r=[];return this.forEach(function(i){var s=e(i)?n:r;s.push(i)}),[n,r]},t.prototype.reduce=function(e,n){return this.ops.reduce(e,n)},t.prototype.changeLength=function(){return this.reduce(function(e,n){return n.insert?e+xt.default.length(n):n.delete?e-n.delete:e},0)},t.prototype.length=function(){return this.reduce(function(e,n){return e+xt.default.length(n)},0)},t.prototype.slice=function(e,n){e===void 0&&(e=0),n===void 0&&(n=1/0);for(var r=[],i=xt.default.iterator(this.ops),s=0;s<n&&i.hasNext();){var o=void 0;s<e?o=i.next(e-s):(o=i.next(n-s),r.push(o)),s+=xt.default.length(o)}return new t(r)},t.prototype.compose=function(e){var n=xt.default.iterator(this.ops),r=xt.default.iterator(e.ops),i=[],s=r.peek();if(s!=null&&typeof s.retain=="number"&&s.attributes==null){for(var o=s.retain;n.peekType()==="insert"&&n.peekLength()<=o;)o-=n.peekLength(),i.push(n.next());s.retain-o>0&&r.next(s.retain-o)}for(var a=new t(i);n.hasNext()||r.hasNext();)if(r.peekType()==="insert")a.push(r.next());else if(n.peekType()==="delete")a.push(n.next());else{var l=Math.min(n.peekLength(),r.peekLength()),c=n.next(l),f=r.next(l);if(typeof f.retain=="number"){var h={};typeof c.retain=="number"?h.retain=l:h.insert=c.insert;var d=Io.default.compose(c.attributes,f.attributes,typeof c.retain=="number");if(d&&(h.attributes=d),a.push(h),!r.hasNext()&&tc.default(a.ops[a.ops.length-1],h)){var p=new t(n.rest());return a.concat(p).chop()}}else typeof f.delete=="number"&&typeof c.retain=="number"&&a.push(f)}return a.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map(function(l){return l.map(function(c){if(c.insert!=null)return typeof c.insert=="string"?c.insert:FO;var f=l===e?"on":"with";throw new Error("diff() called "+f+" non-document")}).join("")}),i=new t,s=Ha.default(r[0],r[1],n),o=xt.default.iterator(this.ops),a=xt.default.iterator(e.ops);return s.forEach(function(l){for(var c=l[1].length;c>0;){var f=0;switch(l[0]){case Ha.default.INSERT:f=Math.min(a.peekLength(),c),i.push(a.next(f));break;case Ha.default.DELETE:f=Math.min(c,o.peekLength()),o.next(f),i.delete(f);break;case Ha.default.EQUAL:f=Math.min(o.peekLength(),a.peekLength(),c);var h=o.next(f),d=a.next(f);tc.default(h.insert,d.insert)?i.retain(f,Io.default.diff(h.attributes,d.attributes)):i.push(d).delete(f);break}c-=f}}),i.chop()},t.prototype.eachLine=function(e,n){n===void 0&&(n=`
`);for(var r=xt.default.iterator(this.ops),i=new t,s=0;r.hasNext();){if(r.peekType()!=="insert")return;var o=r.peek(),a=xt.default.length(o)-r.peekLength(),l=typeof o.insert=="string"?o.insert.indexOf(n,a)-a:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(e(i,r.next(1).attributes||{},s)===!1)return;s+=1,i=new t}}i.length()>0&&e(i,{},s)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(r,i){if(i.insert)n.delete(xt.default.length(i));else{if(i.retain&&i.attributes==null)return n.retain(i.retain),r+i.retain;if(i.delete||i.retain&&i.attributes){var s=i.delete||i.retain,o=e.slice(r,r+s);return o.forEach(function(a){i.delete?n.push(a):i.retain&&i.attributes&&n.retain(xt.default.length(a),Io.default.invert(i.attributes,a.attributes))}),r+s}}return r},0),n.chop()},t.prototype.transform=function(e,n){if(n===void 0&&(n=!1),n=!!n,typeof e=="number")return this.transformPosition(e,n);for(var r=e,i=xt.default.iterator(this.ops),s=xt.default.iterator(r.ops),o=new t;i.hasNext()||s.hasNext();)if(i.peekType()==="insert"&&(n||s.peekType()!=="insert"))o.retain(xt.default.length(i.next()));else if(s.peekType()==="insert")o.push(s.next());else{var a=Math.min(i.peekLength(),s.peekLength()),l=i.next(a),c=s.next(a);if(l.delete)continue;c.delete?o.push(c):o.retain(a,Io.default.transform(l.attributes,c.attributes,n))}return o.chop()},t.prototype.transformPosition=function(e,n){n===void 0&&(n=!1),n=!!n;for(var r=xt.default.iterator(this.ops),i=0;r.hasNext()&&i<=e;){var s=r.peekLength(),o=r.peekType();if(r.next(),o==="delete"){e-=Math.min(s,e-i);continue}else o==="insert"&&(i<e||!n)&&(e+=s);i+=s}return e},t.Op=xt.default,t.AttributeMap=Io.default,t}(),jO=UO;const qO=t_(jO);/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */const Dp={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},BO=ro({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:t=>["delta","html","text"].includes(t)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:t=>["snow","bubble",""].includes(t)},toolbar:{type:[String,Array,Object],required:!1,validator:t=>typeof t=="string"&&t!==""?t.charAt(0)==="#"?!0:Object.keys(Dp).indexOf(t)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(t,e)=>{$l(()=>{s()}),cf(()=>{n=null});let n,r;const i=at(),s=()=>{var _;if(i.value){if(r=o(),t.modules)if(Array.isArray(t.modules))for(const R of t.modules)Zu.register(`modules/${R.name}`,R.module);else Zu.register(`modules/${t.modules.name}`,t.modules.module);n=new Zu(i.value,r),w(t.content),n.on("text-change",h),n.on("selection-change",p),n.on("editor-change",E),t.theme!=="bubble"&&i.value.classList.remove("ql-bubble"),t.theme!=="snow"&&i.value.classList.remove("ql-snow"),(_=n.getModule("toolbar"))===null||_===void 0||_.container.addEventListener("mousedown",R=>{R.preventDefault()}),e.emit("ready",n)}},o=()=>{const _={};if(t.theme!==""&&(_.theme=t.theme),t.readOnly&&(_.readOnly=t.readOnly),t.placeholder&&(_.placeholder=t.placeholder),t.toolbar&&t.toolbar!==""&&(_.modules={toolbar:(()=>{if(typeof t.toolbar=="object")return t.toolbar;if(typeof t.toolbar=="string")return t.toolbar.charAt(0)==="#"?t.toolbar:Dp[t.toolbar]})()}),t.modules){const R=(()=>{var O,U;const z={};if(Array.isArray(t.modules))for(const J of t.modules)z[J.name]=(O=J.options)!==null&&O!==void 0?O:{};else z[t.modules.name]=(U=t.modules.options)!==null&&U!==void 0?U:{};return z})();_.modules=Object.assign({},_.modules,R)}return Object.assign({},t.globalOptions,t.options,_)},a=_=>typeof _=="object"&&_?_.slice():_,l=_=>Object.values(_.ops).some(R=>!R.retain||Object.keys(R).length!==1);let c;const f=_=>{if(typeof c==typeof _){if(_===c)return!0;if(typeof _=="object"&&_&&typeof c=="object"&&c)return!l(c.diff(_))}return!1},h=(_,R,O)=>{c=a(m()),f(t.content)||e.emit("update:content",c),e.emit("textChange",{delta:_,oldContents:R,source:O})},d=at(),p=(_,R,O)=>{d.value=!!(n!=null&&n.hasFocus()),e.emit("selectionChange",{range:_,oldRange:R,source:O})};En(d,_=>{_?e.emit("focus",i):e.emit("blur",i)});const E=(..._)=>{_[0]==="text-change"&&e.emit("editorChange",{name:_[0],delta:_[1],oldContents:_[2],source:_[3]}),_[0]==="selection-change"&&e.emit("editorChange",{name:_[0],range:_[1],oldRange:_[2],source:_[3]})},y=()=>i.value,b=()=>{var _;return(_=n==null?void 0:n.getModule("toolbar"))===null||_===void 0?void 0:_.container},v=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},m=(_,R)=>t.contentType==="html"?D():t.contentType==="text"?g(_,R):n==null?void 0:n.getContents(_,R),w=(_,R="api")=>{const O=_||(t.contentType==="delta"?new qO:"");t.contentType==="html"?S(O):t.contentType==="text"?k(O,R):n==null||n.setContents(O,R),c=a(O)},g=(_,R)=>{var O;return(O=n==null?void 0:n.getText(_,R))!==null&&O!==void 0?O:""},k=(_,R="api")=>{n==null||n.setText(_,R)},D=()=>{var _;return(_=n==null?void 0:n.root.innerHTML)!==null&&_!==void 0?_:""},S=_=>{n&&(n.root.innerHTML=_)},T=(_,R="api")=>{const O=n==null?void 0:n.clipboard.convert(_);O&&(n==null||n.setContents(O,R))},C=()=>{n==null||n.focus()},I=()=>{Jo(()=>{var _;!e.slots.toolbar&&n&&((_=n.getModule("toolbar"))===null||_===void 0||_.container.remove()),s()})};return En(()=>t.content,_=>{if(!n||!_||f(_))return;const R=n.getSelection();R&&Jo(()=>n==null?void 0:n.setSelection(R)),w(_)},{deep:!0}),En(()=>t.enable,_=>{n&&n.enable(_)}),{editor:i,getEditor:y,getToolbar:b,getQuill:v,getContents:m,setContents:w,getHTML:D,setHTML:S,pasteHTML:T,focus:C,getText:g,setText:k,reinit:I}},render(){var t,e;return[(e=(t=this.$slots).toolbar)===null||e===void 0?void 0:e.call(t),pf("div",{ref:"editor",...this.$attrs})]}}),us=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},$O={};function HO(t,e){const n=Fg("RouterView");return Et(),sm(n)}const zO=us($O,[["render",HO]]),KO="modulepreload",GO=function(t){return"/"+t},xp={},nc=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=GO(l),l in xp)return;xp[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":KO,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((d,p)=>{h.addEventListener("load",d),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ls=typeof document<"u";function h_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function WO(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&h_(t.default)}const Xe=Object.assign;function rc(t,e){const n={};for(const r in e){const i=e[r];n[r]=Wn(i)?i.map(t):t(i)}return n}const Go=()=>{},Wn=Array.isArray,d_=/#/g,QO=/&/g,YO=/\//g,XO=/=/g,JO=/\?/g,p_=/\+/g,ZO=/%5B/g,eP=/%5D/g,g_=/%5E/g,tP=/%60/g,m_=/%7B/g,nP=/%7C/g,v_=/%7D/g,rP=/%20/g;function ph(t){return encodeURI(""+t).replace(nP,"|").replace(ZO,"[").replace(eP,"]")}function iP(t){return ph(t).replace(m_,"{").replace(v_,"}").replace(g_,"^")}function zc(t){return ph(t).replace(p_,"%2B").replace(rP,"+").replace(d_,"%23").replace(QO,"%26").replace(tP,"`").replace(m_,"{").replace(v_,"}").replace(g_,"^")}function sP(t){return zc(t).replace(XO,"%3D")}function oP(t){return ph(t).replace(d_,"%23").replace(JO,"%3F")}function aP(t){return t==null?"":oP(t).replace(YO,"%2F")}function pa(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const lP=/\/$/,uP=t=>t.replace(lP,"");function ic(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=dP(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:pa(o)}}function cP(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Lp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function fP(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&to(e.matched[r],n.matched[i])&&y_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function to(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function y_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!hP(t[n],e[n]))return!1;return!0}function hP(t,e){return Wn(t)?Mp(t,e):Wn(e)?Mp(e,t):t===e}function Mp(t,e){return Wn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function dP(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Gr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ga;(function(t){t.pop="pop",t.push="push"})(ga||(ga={}));var Wo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Wo||(Wo={}));function pP(t){if(!t)if(Ls){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),uP(t)}const gP=/^[^#]+#/;function mP(t,e){return t.replace(gP,"#")+e}function vP(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const _u=()=>({left:window.scrollX,top:window.scrollY});function yP(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=vP(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Vp(t,e){return(history.state?history.state.position-e:-1)+t}const Kc=new Map;function _P(t,e){Kc.set(t,e)}function bP(t){const e=Kc.get(t);return Kc.delete(t),e}let EP=()=>location.protocol+"//"+location.host;function __(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Lp(l,"")}return Lp(n,t)+r+i}function TP(t,e,n,r){let i=[],s=[],o=null;const a=({state:d})=>{const p=__(t,location),E=n.value,y=e.value;let b=0;if(d){if(n.value=p,e.value=d,o&&o===E){o=null;return}b=y?d.position-y.position:0}else r(p);i.forEach(v=>{v(n.value,E,{delta:b,type:ga.pop,direction:b?b>0?Wo.forward:Wo.back:Wo.unknown})})};function l(){o=n.value}function c(d){i.push(d);const p=()=>{const E=i.indexOf(d);E>-1&&i.splice(E,1)};return s.push(p),p}function f(){const{history:d}=window;d.state&&d.replaceState(Xe({},d.state,{scroll:_u()}),"")}function h(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function Fp(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?_u():null}}function wP(t){const{history:e,location:n}=window,r={value:__(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,f){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:EP()+t+l;try{e[f?"replaceState":"pushState"](c,"",d),i.value=c}catch(p){console.error(p),n[f?"replace":"assign"](d)}}function o(l,c){const f=Xe({},e.state,Fp(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});s(l,f,!0),r.value=l}function a(l,c){const f=Xe({},i.value,e.state,{forward:l,scroll:_u()});s(f.current,f,!0);const h=Xe({},Fp(r.value,l,null),{position:f.position+1},c);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function AP(t){t=pP(t);const e=wP(t),n=TP(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Xe({location:"",base:t,go:r,createHref:mP.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function IP(t){return typeof t=="string"||t&&typeof t=="object"}function b_(t){return typeof t=="string"||typeof t=="symbol"}const E_=Symbol("");var Up;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Up||(Up={}));function no(t,e){return Xe(new Error,{type:t,[E_]:!0},e)}function Ar(t,e){return t instanceof Error&&E_ in t&&(e==null||!!(t.type&e))}const jp="[^/]+?",SP={sensitive:!1,strict:!1,start:!0,end:!0},RP=/[.+*?^${}()[\]/\\]/g;function OP(t,e){const n=Xe({},SP,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const f=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const d=c[h];let p=40+(n.sensitive?.25:0);if(d.type===0)h||(i+="/"),i+=d.value.replace(RP,"\\$&"),p+=40;else if(d.type===1){const{value:E,repeatable:y,optional:b,regexp:v}=d;s.push({name:E,repeatable:y,optional:b});const m=v||jp;if(m!==jp){p+=10;try{new RegExp(`(${m})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${E}" (${m}): `+g.message)}}let w=y?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;h||(w=b&&c.length<2?`(?:/${w})`:"/"+w),b&&(w+="?"),i+=w,p+=20,b&&(p+=-8),y&&(p+=-20),m===".*"&&(p+=-50)}f.push(p)}r.push(f)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const f=c.match(o),h={};if(!f)return null;for(let d=1;d<f.length;d++){const p=f[d]||"",E=s[d-1];h[E.name]=p&&E.repeatable?p.split("/"):p}return h}function l(c){let f="",h=!1;for(const d of t){(!h||!f.endsWith("/"))&&(f+="/"),h=!1;for(const p of d)if(p.type===0)f+=p.value;else if(p.type===1){const{value:E,repeatable:y,optional:b}=p,v=E in c?c[E]:"";if(Wn(v)&&!y)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const m=Wn(v)?v.join("/"):v;if(!m)if(b)d.length<2&&(f.endsWith("/")?f=f.slice(0,-1):h=!0);else throw new Error(`Missing required param "${E}"`);f+=m}}return f||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function PP(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function T_(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=PP(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(qp(r))return 1;if(qp(i))return-1}return i.length-r.length}function qp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const kP={type:0,value:""},CP=/[a-zA-Z0-9_]/;function NP(t){if(!t)return[[]];if(t==="/")return[[kP]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",f="";function h(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:f,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:CP.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+l:n=3:f+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,f="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}function DP(t,e,n){const r=OP(NP(t.path),n),i=Xe(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function xP(t,e){const n=[],r=new Map;e=zp({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,d,p){const E=!p,y=$p(h);y.aliasOf=p&&p.record;const b=zp(e,h),v=[y];if("alias"in h){const g=typeof h.alias=="string"?[h.alias]:h.alias;for(const k of g)v.push($p(Xe({},y,{components:p?p.record.components:y.components,path:k,aliasOf:p?p.record:y})))}let m,w;for(const g of v){const{path:k}=g;if(d&&k[0]!=="/"){const D=d.record.path,S=D[D.length-1]==="/"?"":"/";g.path=d.record.path+(k&&S+k)}if(m=DP(g,d,b),p?p.alias.push(m):(w=w||m,w!==m&&w.alias.push(m),E&&h.name&&!Hp(m)&&o(h.name)),w_(m)&&l(m),y.children){const D=y.children;for(let S=0;S<D.length;S++)s(D[S],m,p&&p.children[S])}p=p||m}return w?()=>{o(w)}:Go}function o(h){if(b_(h)){const d=r.get(h);d&&(r.delete(h),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(h);d>-1&&(n.splice(d,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const d=VP(h,n);n.splice(d,0,h),h.record.name&&!Hp(h)&&r.set(h.record.name,h)}function c(h,d){let p,E={},y,b;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw no(1,{location:h});b=p.record.name,E=Xe(Bp(d.params,p.keys.filter(w=>!w.optional).concat(p.parent?p.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&Bp(h.params,p.keys.map(w=>w.name))),y=p.stringify(E)}else if(h.path!=null)y=h.path,p=n.find(w=>w.re.test(y)),p&&(E=p.parse(y),b=p.record.name);else{if(p=d.name?r.get(d.name):n.find(w=>w.re.test(d.path)),!p)throw no(1,{location:h,currentLocation:d});b=p.record.name,E=Xe({},d.params,h.params),y=p.stringify(E)}const v=[];let m=p;for(;m;)v.unshift(m.record),m=m.parent;return{name:b,path:y,params:E,matched:v,meta:MP(v)}}t.forEach(h=>s(h));function f(){n.length=0,r.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:f,getRoutes:a,getRecordMatcher:i}}function Bp(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function $p(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:LP(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function LP(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Hp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function MP(t){return t.reduce((e,n)=>Xe(e,n.meta),{})}function zp(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function VP(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;T_(t,e[s])<0?r=s:n=s+1}const i=FP(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function FP(t){let e=t;for(;e=e.parent;)if(w_(e)&&T_(t,e)===0)return e}function w_({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function UP(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(p_," "),o=s.indexOf("="),a=pa(o<0?s:s.slice(0,o)),l=o<0?null:pa(s.slice(o+1));if(a in e){let c=e[a];Wn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Kp(t){let e="";for(let n in t){const r=t[n];if(n=sP(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Wn(r)?r.map(s=>s&&zc(s)):[r&&zc(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function jP(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Wn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const qP=Symbol(""),Gp=Symbol(""),bu=Symbol(""),gh=Symbol(""),Gc=Symbol("");function So(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Xr(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(no(4,{from:n,to:e})):d instanceof Error?l(d):IP(d)?l(no(2,{from:e,to:d})):(o&&r.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},f=s(()=>t.call(r&&r.instances[i],e,n,c));let h=Promise.resolve(f);t.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function sc(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(h_(l)){const f=(l.__vccOpts||l)[e];f&&s.push(Xr(f,n,r,o,a,i))}else{let c=l();s.push(()=>c.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=WO(f)?f.default:f;o.mods[a]=f,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Xr(p,n,r,o,a,i)()}))}}return s}function Wp(t){const e=xn(bu),n=xn(gh),r=Cn(()=>{const l=js(t.to);return e.resolve(l)}),i=Cn(()=>{const{matched:l}=r.value,{length:c}=l,f=l[c-1],h=n.matched;if(!f||!h.length)return-1;const d=h.findIndex(to.bind(null,f));if(d>-1)return d;const p=Qp(l[c-2]);return c>1&&Qp(f)===p&&h[h.length-1].path!==p?h.findIndex(to.bind(null,l[c-2])):d}),s=Cn(()=>i.value>-1&&zP(n.params,r.value.params)),o=Cn(()=>i.value>-1&&i.value===n.matched.length-1&&y_(n.params,r.value.params));function a(l={}){return HP(l)?e[js(t.replace)?"replace":"push"](js(t.to)).catch(Go):Promise.resolve()}return{route:r,href:Cn(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const BP=ro({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Wp,setup(t,{slots:e}){const n=va(Wp(t)),{options:r}=xn(bu),i=Cn(()=>({[Yp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Yp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:pf("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),$P=BP;function HP(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function zP(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Wn(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Qp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Yp=(t,e,n)=>t??e??n,KP=ro({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=xn(Gc),i=Cn(()=>t.route||r.value),s=xn(Gp,0),o=Cn(()=>{let c=js(s);const{matched:f}=i.value;let h;for(;(h=f[c])&&!h.components;)c++;return c}),a=Cn(()=>i.value.matched[o.value]);za(Gp,Cn(()=>o.value+1)),za(qP,a),za(Gc,i);const l=at();return En(()=>[l.value,a.value,t.name],([c,f,h],[d,p,E])=>{f&&(f.instances[h]=c,p&&p!==f&&c&&c===d&&(f.leaveGuards.size||(f.leaveGuards=p.leaveGuards),f.updateGuards.size||(f.updateGuards=p.updateGuards))),c&&f&&(!p||!to(f,p)||!d)&&(f.enterCallbacks[h]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=i.value,f=t.name,h=a.value,d=h&&h.components[f];if(!d)return Xp(n.default,{Component:d,route:c});const p=h.props[f],E=p?p===!0?c.params:typeof p=="function"?p(c):p:null,b=pf(d,Xe({},E,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(h.instances[f]=null)},ref:l}));return Xp(n.default,{Component:b,route:c})||b}}});function Xp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const GP=KP;function WP(t){const e=xP(t.routes,t),n=t.parseQuery||UP,r=t.stringifyQuery||Kp,i=t.history,s=So(),o=So(),a=So(),l=r0(Gr);let c=Gr;Ls&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=rc.bind(null,V=>""+V),h=rc.bind(null,aP),d=rc.bind(null,pa);function p(V,W){let Q,ie;return b_(V)?(Q=e.getRecordMatcher(V),ie=W):ie=V,e.addRoute(ie,Q)}function E(V){const W=e.getRecordMatcher(V);W&&e.removeRoute(W)}function y(){return e.getRoutes().map(V=>V.record)}function b(V){return!!e.getRecordMatcher(V)}function v(V,W){if(W=Xe({},W||l.value),typeof V=="string"){const B=ic(n,V,W.path),ne=e.resolve({path:B.path},W),de=i.createHref(B.fullPath);return Xe(B,ne,{params:d(ne.params),hash:pa(B.hash),redirectedFrom:void 0,href:de})}let Q;if(V.path!=null)Q=Xe({},V,{path:ic(n,V.path,W.path).path});else{const B=Xe({},V.params);for(const ne in B)B[ne]==null&&delete B[ne];Q=Xe({},V,{params:h(B)}),W.params=h(W.params)}const ie=e.resolve(Q,W),ge=V.hash||"";ie.params=f(d(ie.params));const be=cP(r,Xe({},V,{hash:iP(ge),path:ie.path})),F=i.createHref(be);return Xe({fullPath:be,hash:ge,query:r===Kp?jP(V.query):V.query||{}},ie,{redirectedFrom:void 0,href:F})}function m(V){return typeof V=="string"?ic(n,V,l.value.path):Xe({},V)}function w(V,W){if(c!==V)return no(8,{from:W,to:V})}function g(V){return S(V)}function k(V){return g(Xe(m(V),{replace:!0}))}function D(V){const W=V.matched[V.matched.length-1];if(W&&W.redirect){const{redirect:Q}=W;let ie=typeof Q=="function"?Q(V):Q;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=m(ie):{path:ie},ie.params={}),Xe({query:V.query,hash:V.hash,params:ie.path!=null?{}:V.params},ie)}}function S(V,W){const Q=c=v(V),ie=l.value,ge=V.state,be=V.force,F=V.replace===!0,B=D(Q);if(B)return S(Xe(m(B),{state:typeof B=="object"?Xe({},ge,B.state):ge,force:be,replace:F}),W||Q);const ne=Q;ne.redirectedFrom=W;let de;return!be&&fP(r,ie,Q)&&(de=no(16,{to:ne,from:ie}),x(ie,ie,!0,!1)),(de?Promise.resolve(de):I(ne,ie)).catch(le=>Ar(le)?Ar(le,2)?le:$(le):ue(le,ne,ie)).then(le=>{if(le){if(Ar(le,2))return S(Xe({replace:F},m(le.to),{state:typeof le.to=="object"?Xe({},ge,le.to.state):ge,force:be}),W||ne)}else le=R(ne,ie,!0,F,ge);return _(ne,ie,le),le})}function T(V,W){const Q=w(V,W);return Q?Promise.reject(Q):Promise.resolve()}function C(V){const W=re.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(V):V()}function I(V,W){let Q;const[ie,ge,be]=QP(V,W);Q=sc(ie.reverse(),"beforeRouteLeave",V,W);for(const B of ie)B.leaveGuards.forEach(ne=>{Q.push(Xr(ne,V,W))});const F=T.bind(null,V,W);return Q.push(F),j(Q).then(()=>{Q=[];for(const B of s.list())Q.push(Xr(B,V,W));return Q.push(F),j(Q)}).then(()=>{Q=sc(ge,"beforeRouteUpdate",V,W);for(const B of ge)B.updateGuards.forEach(ne=>{Q.push(Xr(ne,V,W))});return Q.push(F),j(Q)}).then(()=>{Q=[];for(const B of be)if(B.beforeEnter)if(Wn(B.beforeEnter))for(const ne of B.beforeEnter)Q.push(Xr(ne,V,W));else Q.push(Xr(B.beforeEnter,V,W));return Q.push(F),j(Q)}).then(()=>(V.matched.forEach(B=>B.enterCallbacks={}),Q=sc(be,"beforeRouteEnter",V,W,C),Q.push(F),j(Q))).then(()=>{Q=[];for(const B of o.list())Q.push(Xr(B,V,W));return Q.push(F),j(Q)}).catch(B=>Ar(B,8)?B:Promise.reject(B))}function _(V,W,Q){a.list().forEach(ie=>C(()=>ie(V,W,Q)))}function R(V,W,Q,ie,ge){const be=w(V,W);if(be)return be;const F=W===Gr,B=Ls?history.state:{};Q&&(ie||F?i.replace(V.fullPath,Xe({scroll:F&&B&&B.scroll},ge)):i.push(V.fullPath,ge)),l.value=V,x(V,W,Q,F),$()}let O;function U(){O||(O=i.listen((V,W,Q)=>{if(!X.listening)return;const ie=v(V),ge=D(ie);if(ge){S(Xe(ge,{replace:!0}),ie).catch(Go);return}c=ie;const be=l.value;Ls&&_P(Vp(be.fullPath,Q.delta),_u()),I(ie,be).catch(F=>Ar(F,12)?F:Ar(F,2)?(S(F.to,ie).then(B=>{Ar(B,20)&&!Q.delta&&Q.type===ga.pop&&i.go(-1,!1)}).catch(Go),Promise.reject()):(Q.delta&&i.go(-Q.delta,!1),ue(F,ie,be))).then(F=>{F=F||R(ie,be,!1),F&&(Q.delta&&!Ar(F,8)?i.go(-Q.delta,!1):Q.type===ga.pop&&Ar(F,20)&&i.go(-1,!1)),_(ie,be,F)}).catch(Go)}))}let z=So(),J=So(),Y;function ue(V,W,Q){$(V);const ie=J.list();return ie.length?ie.forEach(ge=>ge(V,W,Q)):console.error(V),Promise.reject(V)}function ee(){return Y&&l.value!==Gr?Promise.resolve():new Promise((V,W)=>{z.add([V,W])})}function $(V){return Y||(Y=!V,U(),z.list().forEach(([W,Q])=>V?Q(V):W()),z.reset()),V}function x(V,W,Q,ie){const{scrollBehavior:ge}=t;if(!Ls||!ge)return Promise.resolve();const be=!Q&&bP(Vp(V.fullPath,0))||(ie||!Q)&&history.state&&history.state.scroll||null;return Jo().then(()=>ge(V,W,be)).then(F=>F&&yP(F)).catch(F=>ue(F,V,W))}const q=V=>i.go(V);let H;const re=new Set,X={currentRoute:l,listening:!0,addRoute:p,removeRoute:E,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:y,resolve:v,options:t,push:g,replace:k,go:q,back:()=>q(-1),forward:()=>q(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:J.add,isReady:ee,install(V){const W=this;V.component("RouterLink",$P),V.component("RouterView",GP),V.config.globalProperties.$router=W,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>js(l)}),Ls&&!H&&l.value===Gr&&(H=!0,g(i.location).catch(ge=>{}));const Q={};for(const ge in Gr)Object.defineProperty(Q,ge,{get:()=>l.value[ge],enumerable:!0});V.provide(bu,W),V.provide(gh,wg(Q)),V.provide(Gc,l);const ie=V.unmount;re.add(V),V.unmount=function(){re.delete(V),re.size<1&&(c=Gr,O&&O(),O=null,l.value=Gr,H=!1,Y=!1),ie()}}};function j(V){return V.reduce((W,Q)=>W.then(()=>C(Q)),Promise.resolve())}return X}function QP(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>to(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>to(c,l))||i.push(l))}return[n,r,i]}function aC(){return xn(bu)}function lC(t){return xn(gh)}const YP=ro({name:"Content",props:{content:Object},emits:["update-content"],setup(t,{emit:e}){const n=at(),r=s=>{n.value={header:{heading:(s==null?void 0:s.HEADER_HEADING)||"",subheading:(s==null?void 0:s.HEADER_SUBHEADING)||""},navigation:[{label:"Home",value:(s==null?void 0:s.NAVIGATION_HOME)||""},{label:"Videos",value:(s==null?void 0:s.NAVIGATION_VIDEOS)||""},{label:"Images",value:(s==null?void 0:s.NAVIGATION_IMAGES)||""},{label:"Artists",value:(s==null?void 0:s.NAVIGATION_ARTISTS)||""},{label:"Contact",value:(s==null?void 0:s.NAVIGATION_CONTACT)||""}],aboutUs:{heading:(s==null?void 0:s.ABOUT_US_HEADING)||"",content:(s==null?void 0:s.ABOUT_US_CONTENT)||""},videos:(s==null?void 0:s.videos)||[]}},i=(s,o)=>{e("update-content",{[s]:o})};return En(()=>t.content,s=>{r(s)},{immediate:!0,deep:!0}),{contentData:n,updateContent:i}}}),XP={class:"content__wrapper px-4"},JP={key:0,class:"inner"},ZP={class:"content__section p-4"},ek={class:"content__item d-flex-col justify-sb mb-4"},tk={class:"content__item d-flex-col justify-sb mb-3"},nk={class:"content__section p-4"},rk={class:"content__item d-flex-col justify-sb mb-4"},ik={class:"content__item d-flex-col justify-sb mb-3"},sk={class:"content__section navigation-section p-4 mb-5"},ok={class:"d-flex navigation"},ak={class:"label mb-1"},lk=["onUpdate:modelValue","onInput"];function uk(t,e,n,r,i,s){return Et(),Vt("div",XP,[t.contentData?(Et(),Vt("div",JP,[ke("div",ZP,[e[10]||(e[10]=ke("h2",{class:"mb-5"},"Header",-1)),ke("div",ek,[e[8]||(e[8]=ke("div",{class:"label mb-1"},"Heading",-1)),Jr(ke("textarea",{class:"textarea",rows:"1","onUpdate:modelValue":e[0]||(e[0]=o=>t.contentData.header.heading=o),onInput:e[1]||(e[1]=o=>t.updateContent("HEADER_HEADING",t.contentData.header.heading))},null,544),[[Zr,t.contentData.header.heading]])]),ke("div",tk,[e[9]||(e[9]=ke("div",{class:"label mb-1"},"Subheading",-1)),Jr(ke("textarea",{class:"textarea",rows:"8","onUpdate:modelValue":e[2]||(e[2]=o=>t.contentData.header.subheading=o),onInput:e[3]||(e[3]=o=>t.updateContent("HEADER_SUBHEADING",t.contentData.header.subheading))},null,544),[[Zr,t.contentData.header.subheading]])])]),ke("div",nk,[e[13]||(e[13]=ke("h2",{class:"mb-5"},"About Us",-1)),ke("div",rk,[e[11]||(e[11]=ke("div",{class:"label mb-1"},"Heading",-1)),Jr(ke("textarea",{class:"textarea",rows:"1","onUpdate:modelValue":e[4]||(e[4]=o=>t.contentData.aboutUs.heading=o),onInput:e[5]||(e[5]=o=>t.updateContent("ABOUT_US_HEADING",t.contentData.aboutUs.heading))},null,544),[[Zr,t.contentData.aboutUs.heading]])]),ke("div",ik,[e[12]||(e[12]=ke("div",{class:"label mb-1"},"Content",-1)),Jr(ke("textarea",{class:"textarea",rows:"8","onUpdate:modelValue":e[6]||(e[6]=o=>t.contentData.aboutUs.content=o),onInput:e[7]||(e[7]=o=>t.updateContent("ABOUT_US_CONTENT",t.contentData.aboutUs.content))},null,544),[[Zr,t.contentData.aboutUs.content]])])]),ke("div",sk,[e[14]||(e[14]=ke("h2",{class:"mb-5"},"Navigation",-1)),ke("div",ok,[(Et(!0),Vt(Bn,null,qg(t.contentData.navigation,(o,a)=>(Et(),Vt("div",{class:"content__item navigation-item d-flex-col justify-sb mb-3",key:a},[ke("div",ak,Zc(o.label),1),Jr(ke("textarea",{class:"textarea",rows:"1","onUpdate:modelValue":l=>o.value=l,onInput:l=>t.updateContent(`NAVIGATION_${o.label.toUpperCase()}`,o.value)},null,40,lk),[[Zr,o.value]])]))),128))])])])):gc("",!0)])}const ck=us(YP,[["render",uk],["__scopeId","data-v-0c915e47"]]),fk=async()=>{try{const t=rO(ls,"videos");return(await TO(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw t}},hk=async(t,e)=>{try{const n=fo(ls,"videos",t);await Zy(n,{url:e}),console.log("Video added successfully:",e)}catch(n){throw console.error("Error adding video:",n),n}},dk=async(t,e)=>{try{const n=fo(ls,"videos",t);await e_(n,{url:e}),console.log(`Video with ID ${t} updated successfully.`)}catch(n){throw console.error("Error updating video:",n),n}},pk=Wl("videos",()=>{const t=at([]),e=at();return{getAllVideos:async()=>{try{const o=await fk();t.value=o}catch(o){console.error("Failed to load videos:",o)}},addVideo:async(o,a)=>{try{await hk(o,a),t.value.push({id:o,url:a}),console.log(`Video added to store: ${o}`)}catch(l){throw console.error("Failed to add video:",l),l}},updateVideo:async o=>{try{await dk(o.videoId,o.url);const a=t.value.findIndex(l=>l.id===o.videoId);a>-1&&(t.value[a].url=o.url,console.log(`Video with ID ${o.videoId} updated in store.`))}catch(a){throw console.error("Failed to update video:",a),a}},deleteVideo:async o=>{},allVideos:t,video:e}}),gk=["HEADER_HEADING","HEADER_SUBHEADING","NAVIGATION_HOME","NAVIGATION_VIDEOS","NAVIGATION_IMAGES","NAVIGATION_ARTISTS","NAVIGATION_CONTACT","ABOUT_US_HEADING","ABOUT_US_CONTENT"],mk=()=>Object.fromEntries(gk.map(t=>[t,""])),vk=5e3,mh=Wl("notification",()=>{const t=at(!1),e=at("");return{isLoading:t,notification:e,setNotification:r=>{e.value=r,setTimeout(()=>{e.value=""},vk)}}}),yk=async t=>{const e=fo(ls,"content",t);return(await EO(e)).data()},_k=async(t,e)=>{var s;const n=fo(ls,"content",t);await e_(n,e);const r=mh(),i=vh();r.setNotification(`Content for <strong>${(s=i.selectedLanguage)==null?void 0:s.name}</strong> language has been updated.`)},bk=async t=>{const e=fo(ls,"content",t);await Zy(e,mk()),mh().setNotification(`Content for language <strong>'${t.toUpperCase()}'</strong> has been added.`)},Ek=async t=>{const e=fo(ls,"content",t);try{await wO(e),mh().setNotification(`Content for language <strong>'${t.toUpperCase()}'</strong> has been deleted.`)}catch(n){throw console.error(`Failed to delete content for language '${t}':`,n),new Error(`Failed to delete content for language '${t}'.`)}},vh=Wl("localization",()=>{const t=at({code:"en",name:"English"}),e=at([]),n=at({videos:[]});return{selectedLanguage:t,content:n,setLanguage:f=>{t.value=f},setAvailableLanguages:f=>{e.value=f},setLocalizationContent:f=>{f.value=f},loadLocalizationContent:async()=>{var f;if((f=t.value)!=null&&f.code){const h=await yk(t.value.code);h.videos||(h.videos=[]),Object.assign(n.value,h)}},saveLocalizationContent:async()=>{t.value&&await _k(t.value.code,{...n.value})},addLanguageContent:async f=>{await bk(f)},removeLanguageContent:async f=>{f.code&&(await Ek(f.code),t.value=null,Object.assign(n.value,{}))}}}),Tk=ro({props:{allVideos:Array,videoData:{type:Object,required:!0},videoContent:{type:Object,required:!0}},emits:["update-video-data","update-video-content","remove-video"],setup(t,{emit:e}){vh();const n=at({...t.videoData}),r=at({...t.videoContent}),i=at(!0),s=at(!1),o=at(!0),a=()=>{},l=()=>{},c=()=>{e("update-video-content",r.value)},f=()=>{e("remove-video")};return En(()=>t.videoContent,h=>{r.value={...h}},{deep:!0,immediate:!0}),{videoDataCopy:n,videoContentCopy:r,isUrlValid:i,isDuplicateUrlError:s,isSaveButtonDisabled:o,validateUrl:a,updateVideoData:l,updateVideoContent:c,removeVideo:f}}}),wk={class:"video-item__wrapper p-relative d-flex-col p-4"},Ak={key:0,class:"mb-5"},Ik={key:1,class:"mb-5"},Sk={class:"video-item__url d-flex justify-sb pb-4 mb-4"},Rk={class:"d-flex-col p-relative w-100 mr-4"},Ok={key:0,class:"error-text p-absolute pr-2"},Pk={key:1,class:"error-text p-absolute pr-2"},kk={class:"video-item__actions d-flex p-relative"},Ck=["disabled"];function Nk(t,e,n,r,i,s){var o;return Et(),Vt("div",wk,[(o=t.videoContentCopy.heading)!=null&&o.length?(Et(),Vt("h2",Ak,Zc(t.videoContentCopy.heading),1)):(Et(),Vt("h2",Ik,"Title")),ke("div",Sk,[ke("div",Rk,[e[8]||(e[8]=ke("label",{class:"mb-1"},"Video URL",-1)),Jr(ke("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.videoData.url=a),class:Qo(["input",{"input--error":!t.isUrlValid&&t.videoData.url.length>0}]),onInput:e[1]||(e[1]=(...a)=>t.validateUrl&&t.validateUrl(...a))},null,34),[[Zr,t.videoData.url]]),!t.isUrlValid&&t.videoData.url.length>0?(Et(),Vt("small",Ok," Please enter a valid URL ")):gc("",!0),t.isDuplicateUrlError&&t.videoData.url.length>0?(Et(),Vt("small",Pk," This URL is already in use ")):gc("",!0),e[9]||(e[9]=ke("div",{class:"preview p-absolute"},[ke("span",{class:"material-symbols-outlined"}," visibility ")],-1))]),ke("div",kk,[ke("button",{onClick:e[2]||(e[2]=(...a)=>t.updateVideoData&&t.updateVideoData(...a)),disabled:t.isSaveButtonDisabled,class:Qo([{disabled:t.isSaveButtonDisabled},"button button--secondary button--icon mr-2"])},e[10]||(e[10]=[ke("span",null,"Save",-1),ke("span",{class:"material-symbols-outlined"}," check ",-1)]),10,Ck),ke("button",{onClick:e[3]||(e[3]=(...a)=>t.removeVideo&&t.removeVideo(...a)),class:"button button--danger button--icon"},e[11]||(e[11]=[ke("span",null,"Remove",-1),ke("span",{class:"material-symbols-outlined"}," delete ",-1)]))])]),e[12]||(e[12]=ke("label",{class:"mb-1"},"Heading",-1)),Jr(ke("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>t.videoContentCopy.heading=a),onInput:e[5]||(e[5]=(...a)=>t.updateVideoContent&&t.updateVideoContent(...a)),class:"input mb-4"},null,544),[[Zr,t.videoContentCopy.heading]]),e[13]||(e[13]=ke("label",{class:"mb-1"},"Description",-1)),Jr(ke("textarea",{"onUpdate:modelValue":e[6]||(e[6]=a=>t.videoContentCopy.description=a),onInput:e[7]||(e[7]=(...a)=>t.updateVideoContent&&t.updateVideoContent(...a)),rows:"4",class:"mb-1 input textarea"},null,544),[[Zr,t.videoContentCopy.description]])])}const Dk=us(Tk,[["render",Nk],["__scopeId","data-v-cd9cd09e"]]),xk=ro({components:{VideoItem:Dk},props:{content:Object},emits:["update-content"],setup(t,{emit:e}){var f;const n=pk(),r=vh(),i=at([]),s=at({...(f=t.content)==null?void 0:f.videos}),o=()=>{},a=(h,d)=>{},l=(h,d)=>{var E;const p=(E=i.value[h])==null?void 0:E.id;d.videoId=p,s.value[h]=d,e("update-content",{videos:s.value})},c=h=>{};return En(()=>n.allVideos,h=>{i.value=h},{deep:!0,immediate:!0}),En(()=>r.content.videos,h=>{r.content.videos&&(s.value=h)},{deep:!0,immediate:!0}),$l(()=>{n.getAllVideos()}),{videosData:i,videosContent:s,addNewVideo:o,updateVideoData:a,updateVideoContent:l,removeVideo:c}}}),Lk={class:"videos__wrapper px-4"},Mk={class:"videos__add-button d-flex justify-end align-center p-relative"},Vk={key:0,class:"videos__no-videos d-flex justify-center align-center"},Fk={key:1,class:"videos__list pb-5"};function Uk(t,e,n,r,i,s){const o=Fg("VideoItem");return Et(),Vt("div",Lk,[ke("div",Mk,[ke("button",{onClick:e[0]||(e[0]=(...a)=>t.addNewVideo&&t.addNewVideo(...a)),class:"button button--secondary button--icon p-absolute add"},e[1]||(e[1]=[ke("span",null,"Add Video",-1),ke("span",{class:"material-symbols-outlined"}," add ",-1)]))]),t.videosData.length===0?(Et(),Vt("div",Vk,e[2]||(e[2]=[ke("div",{class:"d-flex-col align-center"},[ke("p",null,"No Videos added"),ke("span",{class:"material-symbols-outlined no-video"}," video_camera_front_off ")],-1)]))):(Et(),Vt("div",Fk,[(Et(!0),Vt(Bn,null,qg(t.videosData,(a,l)=>(Et(),Vt("div",{key:l},[cn(o,{allVideos:t.videosData,videoData:a,videoContent:t.videosContent[l],onUpdateVideoData:c=>t.updateVideoData(l,c),onUpdateVideoContent:c=>t.updateVideoContent(l,c),onRemoveVideo:c=>t.removeVideo(l)},null,8,["allVideos","videoData","videoContent","onUpdateVideoData","onUpdateVideoContent","onRemoveVideo"])]))),128))]))])}const jk=us(xk,[["render",Uk],["__scopeId","data-v-5edfa24a"]]),qk={};function Bk(t,e){return Et(),Vt("div",null,"Images")}const $k=us(qk,[["render",Bk],["__scopeId","data-v-d7b91765"]]),Hk={};function zk(t,e){return Et(),Vt("div",null,"Artists")}const Kk=us(Hk,[["render",zk],["__scopeId","data-v-b74e5061"]]),Gk={};function Wk(t,e){return Et(),Vt("div",null,"Photo Galleries")}const Qk=us(Gk,[["render",Wk],["__scopeId","data-v-b49b1c38"]]),Yk=[{path:"/admin/content",name:"Content",component:ck},{path:"/admin/videos",name:"Videos",component:jk},{path:"/admin/images",name:"images",component:$k},{path:"/admin/artists",name:"Artists",component:Kk},{path:"/admin/galleries",name:"Photo Galleries",component:Qk}],Xk=[{path:"/",component:()=>nc(()=>import("./LandingPage-uaBlBhPe.js"),[])},{path:"/auth",component:()=>nc(()=>import("./LoginPage-rEO2DCfH.js"),__vite__mapDeps([0,1])),meta:{requiresAuth:!1}},{path:"/admin",component:()=>nc(()=>import("./AdminPanel-s-Iqde-Z.js"),__vite__mapDeps([2,3])),children:Yk,redirect:"/admin/content",meta:{requiresAuth:!0}}],A_=WP({history:AP(),routes:Xk});A_.beforeEach(async(t,e,n)=>{const r=SO();r.ready||await r.fetchUser(),t.meta.requiresAuth&&!r.user?n("/auth"):t.path==="/auth"&&r.user?n("/admin"):n()});const Eu=Bb(zO),Jk=Kb();Eu.use(Jk);Eu.component("QuillEditor",BO);Eu.use(A_);Eu.mount("#app");export{En as A,mh as B,SO as C,lC as D,cn as E,Bn as F,Fg as G,ab as H,m0 as I,sm as J,eC as K,Zk as L,vk as N,us as _,Pp as a,ke as b,Vt as c,ro as d,Jr as e,fo as f,ls as g,EO as h,e_ as i,Zy as j,Wl as k,vh as l,Cn as m,$l as n,Et as o,Mg as p,tC as q,at as r,rC as s,Qo as t,aC as u,Zr as v,nC as w,qg as x,Zc as y,gc as z};
